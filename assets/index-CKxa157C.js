(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Tp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O1={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3;function tk(){if(q3)return Jl;q3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:i}}return Jl.Fragment=t,Jl.jsx=r,Jl.jsxs=r,Jl}var U3;function rk(){return U3||(U3=1,O1.exports=tk()),O1.exports}var p=rk(),R1={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V3;function nk(){if(V3)return Xe;V3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function k(I,le,ue){this.props=I,this.context=le,this.refs=w,this.updater=ue||v}k.prototype.isReactComponent={},k.prototype.setState=function(I,le){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,le,"setState")},k.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=k.prototype;function C(I,le,ue){this.props=I,this.context=le,this.refs=w,this.updater=ue||v}var j=C.prototype=new E;j.constructor=C,x(j,k.prototype),j.isPureReactComponent=!0;var F=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function $(I,le,ue,ge,xe,Oe){return ue=Oe.ref,{$$typeof:e,type:I,key:le,ref:ue!==void 0?ue:null,props:Oe}}function B(I,le){return $(I.type,le,void 0,void 0,void 0,I.props)}function Z(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function G(I){var le={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ue){return le[ue]})}var L=/\/+/g;function H(I,le){return typeof I=="object"&&I!==null&&I.key!=null?G(""+I.key):le.toString(36)}function re(){}function he(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(re,re):(I.status="pending",I.then(function(le){I.status==="pending"&&(I.status="fulfilled",I.value=le)},function(le){I.status==="pending"&&(I.status="rejected",I.reason=le)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ce(I,le,ue,ge,xe){var Oe=typeof I;(Oe==="undefined"||Oe==="boolean")&&(I=null);var ze=!1;if(I===null)ze=!0;else switch(Oe){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(I.$$typeof){case e:case t:ze=!0;break;case m:return ze=I._init,ce(ze(I._payload),le,ue,ge,xe)}}if(ze)return xe=xe(I),ze=ge===""?"."+H(I,0):ge,F(xe)?(ue="",ze!=null&&(ue=ze.replace(L,"$&/")+"/"),ce(xe,le,ue,"",function($t){return $t})):xe!=null&&(Z(xe)&&(xe=B(xe,ue+(xe.key==null||I&&I.key===xe.key?"":(""+xe.key).replace(L,"$&/")+"/")+ze)),le.push(xe)),1;ze=0;var mt=ge===""?".":ge+":";if(F(I))for(var We=0;We<I.length;We++)ge=I[We],Oe=mt+H(ge,We),ze+=ce(ge,le,ue,Oe,xe);else if(We=y(I),typeof We=="function")for(I=We.call(I),We=0;!(ge=I.next()).done;)ge=ge.value,Oe=mt+H(ge,We++),ze+=ce(ge,le,ue,Oe,xe);else if(Oe==="object"){if(typeof I.then=="function")return ce(he(I),le,ue,ge,xe);throw le=String(I),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ze}function Y(I,le,ue){if(I==null)return I;var ge=[],xe=0;return ce(I,ge,"","",function(Oe){return le.call(ue,Oe,xe++)}),ge}function ie(I){if(I._status===-1){var le=I._result;le=le(),le.then(function(ue){(I._status===0||I._status===-1)&&(I._status=1,I._result=ue)},function(ue){(I._status===0||I._status===-1)&&(I._status=2,I._result=ue)}),I._status===-1&&(I._status=0,I._result=le)}if(I._status===1)return I._result.default;throw I._result}var Ee=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Be(){}return Xe.Children={map:Y,forEach:function(I,le,ue){Y(I,function(){le.apply(this,arguments)},ue)},count:function(I){var le=0;return Y(I,function(){le++}),le},toArray:function(I){return Y(I,function(le){return le})||[]},only:function(I){if(!Z(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Xe.Component=k,Xe.Fragment=r,Xe.Profiler=a,Xe.PureComponent=C,Xe.StrictMode=n,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},Xe.cache=function(I){return function(){return I.apply(null,arguments)}},Xe.cloneElement=function(I,le,ue){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ge=x({},I.props),xe=I.key,Oe=void 0;if(le!=null)for(ze in le.ref!==void 0&&(Oe=void 0),le.key!==void 0&&(xe=""+le.key),le)!O.call(le,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&le.ref===void 0||(ge[ze]=le[ze]);var ze=arguments.length-2;if(ze===1)ge.children=ue;else if(1<ze){for(var mt=Array(ze),We=0;We<ze;We++)mt[We]=arguments[We+2];ge.children=mt}return $(I.type,xe,void 0,void 0,Oe,ge)},Xe.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:i,_context:I},I},Xe.createElement=function(I,le,ue){var ge,xe={},Oe=null;if(le!=null)for(ge in le.key!==void 0&&(Oe=""+le.key),le)O.call(le,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(xe[ge]=le[ge]);var ze=arguments.length-2;if(ze===1)xe.children=ue;else if(1<ze){for(var mt=Array(ze),We=0;We<ze;We++)mt[We]=arguments[We+2];xe.children=mt}if(I&&I.defaultProps)for(ge in ze=I.defaultProps,ze)xe[ge]===void 0&&(xe[ge]=ze[ge]);return $(I,Oe,void 0,void 0,null,xe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(I){return{$$typeof:u,render:I}},Xe.isValidElement=Z,Xe.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:ie}},Xe.memo=function(I,le){return{$$typeof:f,type:I,compare:le===void 0?null:le}},Xe.startTransition=function(I){var le=D.T,ue={};D.T=ue;try{var ge=I(),xe=D.S;xe!==null&&xe(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Be,Ee)}catch(Oe){Ee(Oe)}finally{D.T=le}},Xe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Xe.use=function(I){return D.H.use(I)},Xe.useActionState=function(I,le,ue){return D.H.useActionState(I,le,ue)},Xe.useCallback=function(I,le){return D.H.useCallback(I,le)},Xe.useContext=function(I){return D.H.useContext(I)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(I,le){return D.H.useDeferredValue(I,le)},Xe.useEffect=function(I,le,ue){var ge=D.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(I,le)},Xe.useId=function(){return D.H.useId()},Xe.useImperativeHandle=function(I,le,ue){return D.H.useImperativeHandle(I,le,ue)},Xe.useInsertionEffect=function(I,le){return D.H.useInsertionEffect(I,le)},Xe.useLayoutEffect=function(I,le){return D.H.useLayoutEffect(I,le)},Xe.useMemo=function(I,le){return D.H.useMemo(I,le)},Xe.useOptimistic=function(I,le){return D.H.useOptimistic(I,le)},Xe.useReducer=function(I,le,ue){return D.H.useReducer(I,le,ue)},Xe.useRef=function(I){return D.H.useRef(I)},Xe.useState=function(I){return D.H.useState(I)},Xe.useSyncExternalStore=function(I,le,ue){return D.H.useSyncExternalStore(I,le,ue)},Xe.useTransition=function(){return D.H.useTransition()},Xe.version="19.1.0",Xe}var G3;function Np(){return G3||(G3=1,R1.exports=nk()),R1.exports}var N=Np();const Pt=Tp(N);var F1={exports:{}},eu={},L1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function ak(){return Z3||(Z3=1,function(e){function t(Y,ie){var Ee=Y.length;Y.push(ie);e:for(;0<Ee;){var Be=Ee-1>>>1,I=Y[Be];if(0<a(I,ie))Y[Be]=ie,Y[Ee]=I,Ee=Be;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ie=Y[0],Ee=Y.pop();if(Ee!==ie){Y[0]=Ee;e:for(var Be=0,I=Y.length,le=I>>>1;Be<le;){var ue=2*(Be+1)-1,ge=Y[ue],xe=ue+1,Oe=Y[xe];if(0>a(ge,Ee))xe<I&&0>a(Oe,ge)?(Y[Be]=Oe,Y[xe]=Ee,Be=xe):(Y[Be]=ge,Y[ue]=Ee,Be=ue);else if(xe<I&&0>a(Oe,Ee))Y[Be]=Oe,Y[xe]=Ee,Be=xe;else break e}}return ie}function a(Y,ie){var Ee=Y.sortIndex-ie.sortIndex;return Ee!==0?Ee:Y.id-ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,b=null,y=3,v=!1,x=!1,w=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function F(Y){for(var ie=r(f);ie!==null;){if(ie.callback===null)n(f);else if(ie.startTime<=Y)n(f),ie.sortIndex=ie.expirationTime,t(d,ie);else break;ie=r(f)}}function D(Y){if(w=!1,F(Y),!x)if(r(d)!==null)x=!0,O||(O=!0,H());else{var ie=r(f);ie!==null&&ce(D,ie.startTime-Y)}}var O=!1,$=-1,B=5,Z=-1;function G(){return k?!0:!(e.unstable_now()-Z<B)}function L(){if(k=!1,O){var Y=e.unstable_now();Z=Y;var ie=!0;try{e:{x=!1,w&&(w=!1,C($),$=-1),v=!0;var Ee=y;try{t:{for(F(Y),b=r(d);b!==null&&!(b.expirationTime>Y&&G());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,y=b.priorityLevel;var I=Be(b.expirationTime<=Y);if(Y=e.unstable_now(),typeof I=="function"){b.callback=I,F(Y),ie=!0;break t}b===r(d)&&n(d),F(Y)}else n(d);b=r(d)}if(b!==null)ie=!0;else{var le=r(f);le!==null&&ce(D,le.startTime-Y),ie=!1}}break e}finally{b=null,y=Ee,v=!1}ie=void 0}}finally{ie?H():O=!1}}}var H;if(typeof j=="function")H=function(){j(L)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,he=re.port2;re.port1.onmessage=L,H=function(){he.postMessage(null)}}else H=function(){E(L,0)};function ce(Y,ie){$=E(function(){Y(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var Ee=y;y=ie;try{return Y()}finally{y=Ee}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Ee=y;y=Y;try{return ie()}finally{y=Ee}},e.unstable_scheduleCallback=function(Y,ie,Ee){var Be=e.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Be+Ee:Be):Ee=Be,Y){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Ee+I,Y={id:m++,callback:ie,priorityLevel:Y,startTime:Ee,expirationTime:I,sortIndex:-1},Ee>Be?(Y.sortIndex=Ee,t(f,Y),r(d)===null&&Y===r(f)&&(w?(C($),$=-1):w=!0,ce(D,Ee-Be))):(Y.sortIndex=I,t(d,Y),x||v||(x=!0,O||(O=!0,H()))),Y},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(Y){var ie=y;return function(){var Ee=y;y=ie;try{return Y.apply(this,arguments)}finally{y=Ee}}}}(B1)),B1}var K3;function sk(){return K3||(K3=1,L1.exports=ak()),L1.exports}var P1={exports:{}},kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function ik(){if(Y3)return kr;Y3=1;var e=Np();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,f,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,kr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,m)},kr.flushSync=function(d){var f=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=m,n.d.f()}},kr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},kr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},kr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,b=u(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:v}):m==="script"&&n.d.X(d,{crossOrigin:b,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},kr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},kr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,b=u(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},kr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},kr.requestFormReset=function(d){n.d.r(d)},kr.unstable_batchedUpdates=function(d,f){return d(f)},kr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},kr.useFormStatus=function(){return l.H.useHostTransitionStatus()},kr.version="19.1.0",kr}var X3;function O5(){if(X3)return P1.exports;X3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),P1.exports=ik(),P1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3;function ok(){if(Q3)return eu;Q3=1;var e=sk(),t=Np(),r=O5();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(i(s)!==s)throw Error(n(188))}function d(s){var o=s.alternate;if(!o){if(o=i(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,h=o;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return u(g),s;if(_===h)return u(g),o;_=_.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=_;else{for(var T=!1,z=g.child;z;){if(z===c){T=!0,c=g,h=_;break}if(z===h){T=!0,h=g,c=_;break}z=z.sibling}if(!T){for(z=_.child;z;){if(z===c){T=!0,c=_,h=g;break}if(z===h){T=!0,h=_,c=g;break}z=z.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var re=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===re?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList";case Z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case j:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return o=s.displayName||null,o!==null?o:he(s.type)||"Memo";case B:o=s._payload,s=s._init;try{return he(s(o))}catch{}}return null}var ce=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Be=[],I=-1;function le(s){return{current:s}}function ue(s){0>I||(s.current=Be[I],Be[I]=null,I--)}function ge(s,o){I++,Be[I]=s.current,s.current=o}var xe=le(null),Oe=le(null),ze=le(null),mt=le(null);function We(s,o){switch(ge(ze,o),ge(Oe,s),ge(xe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?g3(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=g3(o),s=y3(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ue(xe),ge(xe,s)}function $t(){ue(xe),ue(Oe),ue(ze)}function xr(s){s.memoizedState!==null&&ge(mt,s);var o=xe.current,c=y3(o,s.type);o!==c&&(ge(Oe,s),ge(xe,c))}function dn(s){Oe.current===s&&(ue(xe),ue(Oe)),mt.current===s&&(ue(mt),Kl._currentValue=Ee)}var vr=Object.prototype.hasOwnProperty,tr=e.unstable_scheduleCallback,Ar=e.unstable_cancelCallback,qn=e.unstable_shouldYield,Xa=e.unstable_requestPaint,or=e.unstable_now,Cn=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,P=e.unstable_UserBlockingPriority,W=e.unstable_NormalPriority,oe=e.unstable_LowPriority,Ce=e.unstable_IdlePriority,Se=e.log,we=e.unstable_setDisableYieldValue,Ne=null,Ke=null;function at(s){if(typeof Se=="function"&&we(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Ne,s)}catch{}}var _t=Math.clz32?Math.clz32:wf,Ii=Math.log,Un=Math.LN2;function wf(s){return s>>>=0,s===0?32:31-(Ii(s)/Un|0)|0}var Qa=256,Wa=4194304;function ga(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Hs(s,o,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,_=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var z=h&134217727;return z!==0?(h=z&~_,h!==0?g=ga(h):(T&=z,T!==0?g=ga(T):c||(c=z&~s,c!==0&&(g=ga(c))))):(z=h&~_,z!==0?g=ga(z):T!==0?g=ga(T):c||(c=h&~s,c!==0&&(g=ga(c)))),g===0?0:o!==0&&o!==g&&(o&_)===0&&(_=g&-g,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:g}function qs(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function hc(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eb(){var s=Qa;return Qa<<=1,(Qa&4194048)===0&&(Qa=256),s}function tb(){var s=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),s}function kf(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function al(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function q9(s,o,c,h,g,_){var T=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var z=s.entanglements,V=s.expirationTimes,ee=s.hiddenUpdates;for(c=T&~c;0<c;){var de=31-_t(c),pe=1<<de;z[de]=0,V[de]=-1;var ne=ee[de];if(ne!==null)for(ee[de]=null,de=0;de<ne.length;de++){var ae=ne[de];ae!==null&&(ae.lane&=-536870913)}c&=~pe}h!==0&&rb(s,h,0),_!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=_&~(T&~o))}function rb(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-_t(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function nb(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-_t(c),g=1<<h;g&o|s[h]&o&&(s[h]|=o),c&=~g}}function Sf(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ef(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ab(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:L3(s.type))}function U9(s,o){var c=ie.p;try{return ie.p=s,o()}finally{ie.p=c}}var Ja=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ja,zr="__reactProps$"+Ja,$i="__reactContainer$"+Ja,Af="__reactEvents$"+Ja,V9="__reactListeners$"+Ja,G9="__reactHandles$"+Ja,sb="__reactResources$"+Ja,sl="__reactMarker$"+Ja;function Cf(s){delete s[_r],delete s[zr],delete s[Af],delete s[V9],delete s[G9]}function Hi(s){var o=s[_r];if(o)return o;for(var c=s.parentNode;c;){if(o=c[$i]||c[_r]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=w3(s);s!==null;){if(c=s[_r])return c;s=w3(s)}return o}s=c,c=s.parentNode}return null}function qi(s){if(s=s[_r]||s[$i]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function il(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function Ui(s){var o=s[sb];return o||(o=s[sb]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function lr(s){s[sl]=!0}var ib=new Set,ob={};function Us(s,o){Vi(s,o),Vi(s+"Capture",o)}function Vi(s,o){for(ob[s]=o,s=0;s<o.length;s++)ib.add(o[s])}var Z9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lb={},ub={};function K9(s){return vr.call(ub,s)?!0:vr.call(lb,s)?!1:Z9.test(s)?ub[s]=!0:(lb[s]=!0,!1)}function mc(s,o,c){if(K9(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function pc(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function ya(s,o,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+h)}}var Tf,cb;function Gi(s){if(Tf===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Tf=o&&o[1]||"",cb=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tf+s+cb}var Nf=!1;function Df(s,o){if(!s||Nf)return"";Nf=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ae){var ne=ae}Reflect.construct(s,[],pe)}else{try{pe.call()}catch(ae){ne=ae}s.call(pe.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(pe=s())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),T=_[0],z=_[1];if(T&&z){var V=T.split(`
`),ee=z.split(`
`);for(g=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(h===V.length||g===ee.length)for(h=V.length-1,g=ee.length-1;1<=h&&0<=g&&V[h]!==ee[g];)g--;for(;1<=h&&0<=g;h--,g--)if(V[h]!==ee[g]){if(h!==1||g!==1)do if(h--,g--,0>g||V[h]!==ee[g]){var de=`
`+V[h].replace(" at new "," at ");return s.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",s.displayName)),de}while(1<=h&&0<=g);break}}}finally{Nf=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Gi(c):""}function Y9(s){switch(s.tag){case 26:case 27:case 5:return Gi(s.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return Df(s.type,!1);case 11:return Df(s.type.render,!1);case 1:return Df(s.type,!0);case 31:return Gi("Activity");default:return""}}function db(s){try{var o="";do o+=Y9(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function fn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fb(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function X9(s){var o=fb(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function bc(s){s._valueTracker||(s._valueTracker=X9(s))}function hb(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=fb(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function gc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Q9=/[\n"\\]/g;function hn(s){return s.replace(Q9,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mf(s,o,c,h,g,_,T,z){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),o!=null?T==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+fn(o)):s.value!==""+fn(o)&&(s.value=""+fn(o)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),o!=null?jf(s,T,fn(o)):c!=null?jf(s,T,fn(c)):h!=null&&s.removeAttribute("value"),g==null&&_!=null&&(s.defaultChecked=!!_),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.name=""+fn(z):s.removeAttribute("name")}function mb(s,o,c,h,g,_,T,z){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;c=c!=null?""+fn(c):"",o=o!=null?""+fn(o):c,z||o===s.value||(s.value=o),s.defaultValue=o}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=z?s.checked:!!h,s.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function jf(s,o,c){o==="number"&&gc(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Zi(s,o,c,h){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+fn(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function pb(s,o,c){if(o!=null&&(o=""+fn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+fn(c):""}function bb(s,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(n(92));if(ce(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=fn(o),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function Ki(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var W9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gb(s,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,c):typeof c!="number"||c===0||W9.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function yb(s,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in o)h=o[g],o.hasOwnProperty(g)&&c[g]!==h&&gb(s,g,h)}else for(var _ in o)o.hasOwnProperty(_)&&gb(s,_,o[_])}function zf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),e_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yc(s){return e_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Of=null;function Rf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yi=null,Xi=null;function xb(s){var o=qi(s);if(o&&(s=o.stateNode)){var c=s[zr]||null;e:switch(s=o.stateNode,o.type){case"input":if(Mf(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+hn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var g=h[zr]||null;if(!g)throw Error(n(90));Mf(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===s.form&&hb(h)}break e;case"textarea":pb(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Zi(s,!!c.multiple,o,!1)}}}var Ff=!1;function vb(s,o,c){if(Ff)return s(o,c);Ff=!0;try{var h=s(o);return h}finally{if(Ff=!1,(Yi!==null||Xi!==null)&&(n0(),Yi&&(o=Yi,s=Xi,Xi=Yi=null,xb(o),s)))for(o=0;o<s.length;o++)xb(s[o])}}function ol(s,o){var c=s.stateNode;if(c===null)return null;var h=c[zr]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=!1;if(xa)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Lf=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Lf=!1}var es=null,Bf=null,xc=null;function _b(){if(xc)return xc;var s,o=Bf,c=o.length,h,g="value"in es?es.value:es.textContent,_=g.length;for(s=0;s<c&&o[s]===g[s];s++);var T=c-s;for(h=1;h<=T&&o[c-h]===g[_-h];h++);return xc=g.slice(s,1<h?1-h:void 0)}function vc(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function _c(){return!0}function wb(){return!1}function Or(s){function o(c,h,g,_,T){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(c=s[z],this[z]=c?c(_):_[z]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?_c:wb,this.isPropagationStopped=wb,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),o}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=Or(Vs),ul=m({},Vs,{view:0,detail:0}),t_=Or(ul),Pf,If,cl,kc=m({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cl&&(cl&&s.type==="mousemove"?(Pf=s.screenX-cl.screenX,If=s.screenY-cl.screenY):If=Pf=0,cl=s),Pf)},movementY:function(s){return"movementY"in s?s.movementY:If}}),kb=Or(kc),r_=m({},kc,{dataTransfer:0}),n_=Or(r_),a_=m({},ul,{relatedTarget:0}),$f=Or(a_),s_=m({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),i_=Or(s_),o_=m({},Vs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),l_=Or(o_),u_=m({},Vs,{data:0}),Sb=Or(u_),c_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h_(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=f_[s])?!!o[s]:!1}function Hf(){return h_}var m_=m({},ul,{key:function(s){if(s.key){var o=c_[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=vc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?d_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(s){return s.type==="keypress"?vc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),p_=Or(m_),b_=m({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eb=Or(b_),g_=m({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),y_=Or(g_),x_=m({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),v_=Or(x_),__=m({},kc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),w_=Or(__),k_=m({},Vs,{newState:0,oldState:0}),S_=Or(k_),E_=[9,13,27,32],qf=xa&&"CompositionEvent"in window,dl=null;xa&&"documentMode"in document&&(dl=document.documentMode);var A_=xa&&"TextEvent"in window&&!dl,Ab=xa&&(!qf||dl&&8<dl&&11>=dl),Cb=" ",Tb=!1;function Nb(s,o){switch(s){case"keyup":return E_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Db(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qi=!1;function C_(s,o){switch(s){case"compositionend":return Db(o);case"keypress":return o.which!==32?null:(Tb=!0,Cb);case"textInput":return s=o.data,s===Cb&&Tb?null:s;default:return null}}function T_(s,o){if(Qi)return s==="compositionend"||!qf&&Nb(s,o)?(s=_b(),xc=Bf=es=null,Qi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ab&&o.locale!=="ko"?null:o.data;default:return null}}var N_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!N_[s.type]:o==="textarea"}function jb(s,o,c,h){Yi?Xi?Xi.push(h):Xi=[h]:Yi=h,o=u0(o,"onChange"),0<o.length&&(c=new wc("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var fl=null,hl=null;function D_(s){f3(s,0)}function Sc(s){var o=il(s);if(hb(o))return s}function zb(s,o){if(s==="change")return o}var Ob=!1;if(xa){var Uf;if(xa){var Vf="oninput"in document;if(!Vf){var Rb=document.createElement("div");Rb.setAttribute("oninput","return;"),Vf=typeof Rb.oninput=="function"}Uf=Vf}else Uf=!1;Ob=Uf&&(!document.documentMode||9<document.documentMode)}function Fb(){fl&&(fl.detachEvent("onpropertychange",Lb),hl=fl=null)}function Lb(s){if(s.propertyName==="value"&&Sc(hl)){var o=[];jb(o,hl,s,Rf(s)),vb(D_,o)}}function M_(s,o,c){s==="focusin"?(Fb(),fl=o,hl=c,fl.attachEvent("onpropertychange",Lb)):s==="focusout"&&Fb()}function j_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sc(hl)}function z_(s,o){if(s==="click")return Sc(o)}function O_(s,o){if(s==="input"||s==="change")return Sc(o)}function R_(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Kr=typeof Object.is=="function"?Object.is:R_;function ml(s,o){if(Kr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!vr.call(o,g)||!Kr(s[g],o[g]))return!1}return!0}function Bb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pb(s,o){var c=Bb(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Bb(c)}}function Ib(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ib(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function $b(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=gc(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=gc(s.document)}return o}function Gf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var F_=xa&&"documentMode"in document&&11>=document.documentMode,Wi=null,Zf=null,pl=null,Kf=!1;function Hb(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Kf||Wi==null||Wi!==gc(h)||(h=Wi,"selectionStart"in h&&Gf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),pl&&ml(pl,h)||(pl=h,h=u0(Zf,"onSelect"),0<h.length&&(o=new wc("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=Wi)))}function Gs(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Ji={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Yf={},qb={};xa&&(qb=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function Zs(s){if(Yf[s])return Yf[s];if(!Ji[s])return s;var o=Ji[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in qb)return Yf[s]=o[c];return s}var Ub=Zs("animationend"),Vb=Zs("animationiteration"),Gb=Zs("animationstart"),L_=Zs("transitionrun"),B_=Zs("transitionstart"),P_=Zs("transitioncancel"),Zb=Zs("transitionend"),Kb=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function Tn(s,o){Kb.set(s,o),Us(o,[s])}var Yb=new WeakMap;function mn(s,o){if(typeof s=="object"&&s!==null){var c=Yb.get(s);return c!==void 0?c:(o={value:s,source:o,stack:db(o)},Yb.set(s,o),o)}return{value:s,source:o,stack:db(o)}}var pn=[],eo=0,Qf=0;function Ec(){for(var s=eo,o=Qf=eo=0;o<s;){var c=pn[o];pn[o++]=null;var h=pn[o];pn[o++]=null;var g=pn[o];pn[o++]=null;var _=pn[o];if(pn[o++]=null,h!==null&&g!==null){var T=h.pending;T===null?g.next=g:(g.next=T.next,T.next=g),h.pending=g}_!==0&&Xb(c,g,_)}}function Ac(s,o,c,h){pn[eo++]=s,pn[eo++]=o,pn[eo++]=c,pn[eo++]=h,Qf|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Wf(s,o,c,h){return Ac(s,o,c,h),Cc(s)}function to(s,o){return Ac(s,null,null,o),Cc(s)}function Xb(s,o,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var g=!1,_=s.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(g=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,g&&o!==null&&(g=31-_t(c),s=_.hiddenUpdates,h=s[g],h===null?s[g]=[o]:h.push(o),o.lane=c|536870912),_):null}function Cc(s){if(50<Il)throw Il=0,a1=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ro={};function I_(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(s,o,c,h){return new I_(s,o,c,h)}function Jf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function va(s,o){var c=s.alternate;return c===null?(c=Yr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Qb(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Tc(s,o,c,h,g,_){var T=0;if(h=s,typeof s=="function")Jf(s)&&(T=1);else if(typeof s=="string")T=Hw(s,c,xe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Z:return s=Yr(31,c,o,g),s.elementType=Z,s.lanes=_,s;case x:return Ks(c.children,g,_,o);case w:T=8,g|=24;break;case k:return s=Yr(12,c,o,g|2),s.elementType=k,s.lanes=_,s;case D:return s=Yr(13,c,o,g),s.elementType=D,s.lanes=_,s;case O:return s=Yr(19,c,o,g),s.elementType=O,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case j:T=10;break e;case C:T=9;break e;case F:T=11;break e;case $:T=14;break e;case B:T=16,h=null;break e}T=29,c=Error(n(130,s===null?"null":typeof s,"")),h=null}return o=Yr(T,c,o,g),o.elementType=s,o.type=h,o.lanes=_,o}function Ks(s,o,c,h){return s=Yr(7,s,h,o),s.lanes=c,s}function eh(s,o,c){return s=Yr(6,s,null,o),s.lanes=c,s}function th(s,o,c){return o=Yr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var no=[],ao=0,Nc=null,Dc=0,bn=[],gn=0,Ys=null,_a=1,wa="";function Xs(s,o){no[ao++]=Dc,no[ao++]=Nc,Nc=s,Dc=o}function Wb(s,o,c){bn[gn++]=_a,bn[gn++]=wa,bn[gn++]=Ys,Ys=s;var h=_a;s=wa;var g=32-_t(h)-1;h&=~(1<<g),c+=1;var _=32-_t(o)+g;if(30<_){var T=g-g%5;_=(h&(1<<T)-1).toString(32),h>>=T,g-=T,_a=1<<32-_t(o)+g|c<<g|h,wa=_+s}else _a=1<<_|c<<g|h,wa=s}function rh(s){s.return!==null&&(Xs(s,1),Wb(s,1,0))}function nh(s){for(;s===Nc;)Nc=no[--ao],no[ao]=null,Dc=no[--ao],no[ao]=null;for(;s===Ys;)Ys=bn[--gn],bn[gn]=null,wa=bn[--gn],bn[gn]=null,_a=bn[--gn],bn[gn]=null}var Cr=null,Ft=null,ut=!1,Qs=null,Vn=!1,ah=Error(n(519));function Ws(s){var o=Error(n(418,""));throw yl(mn(o,s)),ah}function Jb(s){var o=s.stateNode,c=s.type,h=s.memoizedProps;switch(o[_r]=s,o[zr]=h,c){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(c=0;c<Hl.length;c++)rt(Hl[c],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),mb(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),bc(o);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),bb(o,h.value,h.defaultValue,h.children),bc(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||b3(o.textContent,c)?(h.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),h.onScroll!=null&&rt("scroll",o),h.onScrollEnd!=null&&rt("scrollend",o),h.onClick!=null&&(o.onclick=c0),o=!0):o=!1,o||Ws(s)}function eg(s){for(Cr=s.return;Cr;)switch(Cr.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Cr=Cr.return}}function bl(s){if(s!==Cr)return!1;if(!ut)return eg(s),ut=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||v1(s.type,s.memoizedProps)),c=!c),c&&Ft&&Ws(s),eg(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){Ft=Dn(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}Ft=null}}else o===27?(o=Ft,bs(s.type)?(s=S1,S1=null,Ft=s):Ft=o):Ft=Cr?Dn(s.stateNode.nextSibling):null;return!0}function gl(){Ft=Cr=null,ut=!1}function tg(){var s=Qs;return s!==null&&(Lr===null?Lr=s:Lr.push.apply(Lr,s),Qs=null),s}function yl(s){Qs===null?Qs=[s]:Qs.push(s)}var sh=le(null),Js=null,ka=null;function ts(s,o,c){ge(sh,o._currentValue),o._currentValue=c}function Sa(s){s._currentValue=sh.current,ue(sh)}function ih(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function oh(s,o,c,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var _=g.dependencies;if(_!==null){var T=g.child;_=_.firstContext;e:for(;_!==null;){var z=_;_=g;for(var V=0;V<o.length;V++)if(z.context===o[V]){_.lanes|=c,z=_.alternate,z!==null&&(z.lanes|=c),ih(_.return,c,s),h||(T=null);break e}_=z.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(n(341));T.lanes|=c,_=T.alternate,_!==null&&(_.lanes|=c),ih(T,c,s),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===s){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function xl(s,o,c,h){s=null;for(var g=o,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var z=g.type;Kr(g.pendingProps.value,T.value)||(s!==null?s.push(z):s=[z])}}else if(g===mt.current){if(T=g.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Kl):s=[Kl])}g=g.return}s!==null&&oh(o,s,c,h),o.flags|=262144}function Mc(s){for(s=s.firstContext;s!==null;){if(!Kr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ei(s){Js=s,ka=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function wr(s){return rg(Js,s)}function jc(s,o){return Js===null&&ei(s),rg(s,o)}function rg(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ka===null){if(s===null)throw Error(n(308));ka=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ka=ka.next=o;return c}var $_=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},H_=e.unstable_scheduleCallback,q_=e.unstable_NormalPriority,rr={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new $_,data:new Map,refCount:0}}function vl(s){s.refCount--,s.refCount===0&&H_(q_,function(){s.controller.abort()})}var _l=null,uh=0,so=0,io=null;function U_(s,o){if(_l===null){var c=_l=[];uh=0,so=d1(),io={status:"pending",value:void 0,then:function(h){c.push(h)}}}return uh++,o.then(ng,ng),o}function ng(){if(--uh===0&&_l!==null){io!==null&&(io.status="fulfilled");var s=_l;_l=null,so=0,io=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function V_(s,o){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var g=0;g<c.length;g++)(0,c[g])(o)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var ag=Y.S;Y.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&U_(s,o),ag!==null&&ag(s,o)};var ti=le(null);function ch(){var s=ti.current;return s!==null?s:wt.pooledCache}function zc(s,o){o===null?ge(ti,ti.current):ge(ti,o.pool)}function sg(){var s=ch();return s===null?null:{parent:rr._currentValue,pool:s}}var wl=Error(n(460)),ig=Error(n(474)),Oc=Error(n(542)),dh={then:function(){}};function og(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Rc(){}function lg(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(Rc,Rc),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,cg(s),s;default:if(typeof o.status=="string")o.then(Rc,Rc);else{if(s=wt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=h}},function(h){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,cg(s),s}throw kl=o,wl}}var kl=null;function ug(){if(kl===null)throw Error(n(459));var s=kl;return kl=null,s}function cg(s){if(s===wl||s===Oc)throw Error(n(483))}var rs=!1;function fh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ns(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function as(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(dt&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,o=Cc(s),Xb(s,null,c),o}return Ac(s,h,o,c),Cc(s)}function Sl(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,nb(s,c)}}function mh(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?g=_=T:_=_.next=T,c=c.next}while(c!==null);_===null?g=_=o:_=_.next=o}else g=_=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var ph=!1;function El(){if(ph){var s=io;if(s!==null)throw s}}function Al(s,o,c,h){ph=!1;var g=s.updateQueue;rs=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,z=g.shared.pending;if(z!==null){g.shared.pending=null;var V=z,ee=V.next;V.next=null,T===null?_=ee:T.next=ee,T=V;var de=s.alternate;de!==null&&(de=de.updateQueue,z=de.lastBaseUpdate,z!==T&&(z===null?de.firstBaseUpdate=ee:z.next=ee,de.lastBaseUpdate=V))}if(_!==null){var pe=g.baseState;T=0,de=ee=V=null,z=_;do{var ne=z.lane&-536870913,ae=ne!==z.lane;if(ae?(st&ne)===ne:(h&ne)===ne){ne!==0&&ne===so&&(ph=!0),de!==null&&(de=de.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Ge=s,Ue=z;ne=o;var gt=c;switch(Ue.tag){case 1:if(Ge=Ue.payload,typeof Ge=="function"){pe=Ge.call(gt,pe,ne);break e}pe=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ue.payload,ne=typeof Ge=="function"?Ge.call(gt,pe,ne):Ge,ne==null)break e;pe=m({},pe,ne);break e;case 2:rs=!0}}ne=z.callback,ne!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:z.tag,payload:z.payload,callback:z.callback,next:null},de===null?(ee=de=ae,V=pe):de=de.next=ae,T|=ne;if(z=z.next,z===null){if(z=g.shared.pending,z===null)break;ae=z,z=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);de===null&&(V=pe),g.baseState=V,g.firstBaseUpdate=ee,g.lastBaseUpdate=de,_===null&&(g.shared.lanes=0),fs|=T,s.lanes=T,s.memoizedState=pe}}function dg(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function fg(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)dg(c[s],o)}var oo=le(null),Fc=le(0);function hg(s,o){s=Ma,ge(Fc,s),ge(oo,o),Ma=s|o.baseLanes}function bh(){ge(Fc,Ma),ge(oo,oo.current)}function gh(){Ma=Fc.current,ue(oo),ue(Fc)}var ss=0,Je=null,pt=null,Yt=null,Lc=!1,lo=!1,ri=!1,Bc=0,Cl=0,uo=null,G_=0;function Ht(){throw Error(n(321))}function yh(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Kr(s[c],o[c]))return!1;return!0}function xh(s,o,c,h,g,_){return ss=_,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=s===null||s.memoizedState===null?Xg:Qg,ri=!1,_=c(h,g),ri=!1,lo&&(_=pg(o,c,h,g)),mg(s),_}function mg(s){Y.H=Uc;var o=pt!==null&&pt.next!==null;if(ss=0,Yt=pt=Je=null,Lc=!1,Cl=0,uo=null,o)throw Error(n(300));s===null||ur||(s=s.dependencies,s!==null&&Mc(s)&&(ur=!0))}function pg(s,o,c,h){Je=s;var g=0;do{if(lo&&(uo=null),Cl=0,lo=!1,25<=g)throw Error(n(301));if(g+=1,Yt=pt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=J_,_=o(c,h)}while(lo);return _}function Z_(){var s=Y.H,o=s.useState()[0];return o=typeof o.then=="function"?Tl(o):o,s=s.useState()[0],(pt!==null?pt.memoizedState:null)!==s&&(Je.flags|=1024),o}function vh(){var s=Bc!==0;return Bc=0,s}function _h(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function wh(s){if(Lc){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Lc=!1}ss=0,Yt=pt=Je=null,lo=!1,Cl=Bc=0,uo=null}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Je.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function Xt(){if(pt===null){var s=Je.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var o=Yt===null?Je.memoizedState:Yt.next;if(o!==null)Yt=o,pt=s;else{if(s===null)throw Je.alternate===null?Error(n(467)):Error(n(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Yt===null?Je.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(s){var o=Cl;return Cl+=1,uo===null&&(uo=[]),s=lg(uo,s,o),o=Je,(Yt===null?o.memoizedState:Yt.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?Xg:Qg),s}function Pc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Tl(s);if(s.$$typeof===j)return wr(s)}throw Error(n(438,String(s)))}function Sh(s){var o=null,c=Je.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=kh(),Je.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),h=0;h<s;h++)c[h]=G;return o.index++,c}function Ea(s,o){return typeof o=="function"?o(s):o}function Ic(s){var o=Xt();return Eh(o,pt,s)}function Eh(s,o,c){var h=s.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var g=s.baseQueue,_=h.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}o.baseQueue=g=_,h.pending=null}if(_=s.baseState,g===null)s.memoizedState=_;else{o=g.next;var z=T=null,V=null,ee=o,de=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(st&pe)===pe:(ss&pe)===pe){var ne=ee.revertLane;if(ne===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===so&&(de=!0);else if((ss&ne)===ne){ee=ee.next,ne===so&&(de=!0);continue}else pe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},V===null?(z=V=pe,T=_):V=V.next=pe,Je.lanes|=ne,fs|=ne;pe=ee.action,ri&&c(_,pe),_=ee.hasEagerState?ee.eagerState:c(_,pe)}else ne={lane:pe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},V===null?(z=V=ne,T=_):V=V.next=ne,Je.lanes|=pe,fs|=pe;ee=ee.next}while(ee!==null&&ee!==o);if(V===null?T=_:V.next=z,!Kr(_,s.memoizedState)&&(ur=!0,de&&(c=io,c!==null)))throw c;s.memoizedState=_,s.baseState=T,s.baseQueue=V,h.lastRenderedState=_}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Ah(s){var o=Xt(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,_=o.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do _=s(_,T.action),T=T.next;while(T!==g);Kr(_,o.memoizedState)||(ur=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function bg(s,o,c){var h=Je,g=Xt(),_=ut;if(_){if(c===void 0)throw Error(n(407));c=c()}else c=o();var T=!Kr((pt||g).memoizedState,c);T&&(g.memoizedState=c,ur=!0),g=g.queue;var z=xg.bind(null,h,g,s);if(Nl(2048,8,z,[s]),g.getSnapshot!==o||T||Yt!==null&&Yt.memoizedState.tag&1){if(h.flags|=2048,co(9,$c(),yg.bind(null,h,g,c,o),null),wt===null)throw Error(n(349));_||(ss&124)!==0||gg(h,o,c)}return c}function gg(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Je.updateQueue,o===null?(o=kh(),Je.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function yg(s,o,c,h){o.value=c,o.getSnapshot=h,vg(o)&&_g(s)}function xg(s,o,c){return c(function(){vg(o)&&_g(s)})}function vg(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Kr(s,c)}catch{return!0}}function _g(s){var o=to(s,2);o!==null&&en(o,s,2)}function Ch(s){var o=Rr();if(typeof s=="function"){var c=s;if(s=c(),ri){at(!0);try{c()}finally{at(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:s},o}function wg(s,o,c,h){return s.baseState=c,Eh(s,pt,typeof h=="function"?h:Ea)}function K_(s,o,c,h,g){if(qc(s))throw Error(n(485));if(s=o.action,s!==null){var _={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){_.listeners.push(T)}};Y.T!==null?c(!0):_.isTransition=!1,h(_),c=o.pending,c===null?(_.next=o.pending=_,kg(o,_)):(_.next=c.next,o.pending=c.next=_)}}function kg(s,o){var c=o.action,h=o.payload,g=s.state;if(o.isTransition){var _=Y.T,T={};Y.T=T;try{var z=c(g,h),V=Y.S;V!==null&&V(T,z),Sg(s,o,z)}catch(ee){Th(s,o,ee)}finally{Y.T=_}}else try{_=c(g,h),Sg(s,o,_)}catch(ee){Th(s,o,ee)}}function Sg(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Eg(s,o,h)},function(h){return Th(s,o,h)}):Eg(s,o,c)}function Eg(s,o,c){o.status="fulfilled",o.value=c,Ag(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,kg(s,c)))}function Th(s,o,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,Ag(o),o=o.next;while(o!==h)}s.action=null}function Ag(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Cg(s,o){return o}function Tg(s,o){if(ut){var c=wt.formState;if(c!==null){e:{var h=Je;if(ut){if(Ft){t:{for(var g=Ft,_=Vn;g.nodeType!==8;){if(!_){g=null;break t}if(g=Dn(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Ft=Dn(g.nextSibling),h=g.data==="F!";break e}}Ws(h)}h=!1}h&&(o=c[0])}}return c=Rr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:o},c.queue=h,c=Zg.bind(null,Je,h),h.dispatch=c,h=Ch(!1),_=zh.bind(null,Je,!1,h.queue),h=Rr(),g={state:o,dispatch:null,action:s,pending:null},h.queue=g,c=K_.bind(null,Je,g,_,c),g.dispatch=c,h.memoizedState=s,[o,c,!1]}function Ng(s){var o=Xt();return Dg(o,pt,s)}function Dg(s,o,c){if(o=Eh(s,o,Cg)[0],s=Ic(Ea)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Tl(o)}catch(T){throw T===wl?Oc:T}else h=o;o=Xt();var g=o.queue,_=g.dispatch;return c!==o.memoizedState&&(Je.flags|=2048,co(9,$c(),Y_.bind(null,g,c),null)),[h,_,s]}function Y_(s,o){s.action=o}function Mg(s){var o=Xt(),c=pt;if(c!==null)return Dg(o,c,s);Xt(),o=o.memoizedState,c=Xt();var h=c.queue.dispatch;return c.memoizedState=s,[o,h,!1]}function co(s,o,c,h){return s={tag:s,create:c,deps:h,inst:o,next:null},o=Je.updateQueue,o===null&&(o=kh(),Je.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s),s}function $c(){return{destroy:void 0,resource:void 0}}function jg(){return Xt().memoizedState}function Hc(s,o,c,h){var g=Rr();h=h===void 0?null:h,Je.flags|=s,g.memoizedState=co(1|o,$c(),c,h)}function Nl(s,o,c,h){var g=Xt();h=h===void 0?null:h;var _=g.memoizedState.inst;pt!==null&&h!==null&&yh(h,pt.memoizedState.deps)?g.memoizedState=co(o,_,c,h):(Je.flags|=s,g.memoizedState=co(1|o,_,c,h))}function zg(s,o){Hc(8390656,8,s,o)}function Og(s,o){Nl(2048,8,s,o)}function Rg(s,o){return Nl(4,2,s,o)}function Fg(s,o){return Nl(4,4,s,o)}function Lg(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Bg(s,o,c){c=c!=null?c.concat([s]):null,Nl(4,4,Lg.bind(null,o,s),c)}function Nh(){}function Pg(s,o){var c=Xt();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&yh(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function Ig(s,o){var c=Xt();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&yh(o,h[1]))return h[0];if(h=s(),ri){at(!0);try{s()}finally{at(!1)}}return c.memoizedState=[h,o],h}function Dh(s,o,c){return c===void 0||(ss&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=q4(),Je.lanes|=s,fs|=s,c)}function $g(s,o,c,h){return Kr(c,o)?c:oo.current!==null?(s=Dh(s,c,h),Kr(s,o)||(ur=!0),s):(ss&42)===0?(ur=!0,s.memoizedState=c):(s=q4(),Je.lanes|=s,fs|=s,o)}function Hg(s,o,c,h,g){var _=ie.p;ie.p=_!==0&&8>_?_:8;var T=Y.T,z={};Y.T=z,zh(s,!1,o,c);try{var V=g(),ee=Y.S;if(ee!==null&&ee(z,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var de=V_(V,h);Dl(s,o,de,Jr(s))}else Dl(s,o,h,Jr(s))}catch(pe){Dl(s,o,{then:function(){},status:"rejected",reason:pe},Jr())}finally{ie.p=_,Y.T=T}}function X_(){}function Mh(s,o,c,h){if(s.tag!==5)throw Error(n(476));var g=qg(s).queue;Hg(s,g,o,Ee,c===null?X_:function(){return Ug(s),c(h)})}function qg(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:Ee},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Ug(s){var o=qg(s).next.queue;Dl(s,o,{},Jr())}function jh(){return wr(Kl)}function Vg(){return Xt().memoizedState}function Gg(){return Xt().memoizedState}function Q_(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Jr();s=ns(c);var h=as(o,s,c);h!==null&&(en(h,o,c),Sl(h,o,c)),o={cache:lh()},s.payload=o;return}o=o.return}}function W_(s,o,c){var h=Jr();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},qc(s)?Kg(o,c):(c=Wf(s,o,c,h),c!==null&&(en(c,s,h),Yg(c,o,h)))}function Zg(s,o,c){var h=Jr();Dl(s,o,c,h)}function Dl(s,o,c,h){var g={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(qc(s))Kg(o,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,z=_(T,c);if(g.hasEagerState=!0,g.eagerState=z,Kr(z,T))return Ac(s,o,g,0),wt===null&&Ec(),!1}catch{}finally{}if(c=Wf(s,o,g,h),c!==null)return en(c,s,h),Yg(c,o,h),!0}return!1}function zh(s,o,c,h){if(h={lane:2,revertLane:d1(),action:h,hasEagerState:!1,eagerState:null,next:null},qc(s)){if(o)throw Error(n(479))}else o=Wf(s,c,h,2),o!==null&&en(o,s,2)}function qc(s){var o=s.alternate;return s===Je||o!==null&&o===Je}function Kg(s,o){lo=Lc=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Yg(s,o,c){if((c&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,nb(s,c)}}var Uc={readContext:wr,use:Pc,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht},Xg={readContext:wr,use:Pc,useCallback:function(s,o){return Rr().memoizedState=[s,o===void 0?null:o],s},useContext:wr,useEffect:zg,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Hc(4194308,4,Lg.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Hc(4194308,4,s,o)},useInsertionEffect:function(s,o){Hc(4,2,s,o)},useMemo:function(s,o){var c=Rr();o=o===void 0?null:o;var h=s();if(ri){at(!0);try{s()}finally{at(!1)}}return c.memoizedState=[h,o],h},useReducer:function(s,o,c){var h=Rr();if(c!==void 0){var g=c(o);if(ri){at(!0);try{c(o)}finally{at(!1)}}}else g=o;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=W_.bind(null,Je,s),[h.memoizedState,s]},useRef:function(s){var o=Rr();return s={current:s},o.memoizedState=s},useState:function(s){s=Ch(s);var o=s.queue,c=Zg.bind(null,Je,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:Nh,useDeferredValue:function(s,o){var c=Rr();return Dh(c,s,o)},useTransition:function(){var s=Ch(!1);return s=Hg.bind(null,Je,s.queue,!0,!1),Rr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var h=Je,g=Rr();if(ut){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),wt===null)throw Error(n(349));(st&124)!==0||gg(h,o,c)}g.memoizedState=c;var _={value:c,getSnapshot:o};return g.queue=_,zg(xg.bind(null,h,_,s),[s]),h.flags|=2048,co(9,$c(),yg.bind(null,h,_,c,o),null),c},useId:function(){var s=Rr(),o=wt.identifierPrefix;if(ut){var c=wa,h=_a;c=(h&~(1<<32-_t(h)-1)).toString(32)+c,o=""+o+"R"+c,c=Bc++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=G_++,o=""+o+"r"+c.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:jh,useFormState:Tg,useActionState:Tg,useOptimistic:function(s){var o=Rr();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=zh.bind(null,Je,!0,c),c.dispatch=o,[s,o]},useMemoCache:Sh,useCacheRefresh:function(){return Rr().memoizedState=Q_.bind(null,Je)}},Qg={readContext:wr,use:Pc,useCallback:Pg,useContext:wr,useEffect:Og,useImperativeHandle:Bg,useInsertionEffect:Rg,useLayoutEffect:Fg,useMemo:Ig,useReducer:Ic,useRef:jg,useState:function(){return Ic(Ea)},useDebugValue:Nh,useDeferredValue:function(s,o){var c=Xt();return $g(c,pt.memoizedState,s,o)},useTransition:function(){var s=Ic(Ea)[0],o=Xt().memoizedState;return[typeof s=="boolean"?s:Tl(s),o]},useSyncExternalStore:bg,useId:Vg,useHostTransitionStatus:jh,useFormState:Ng,useActionState:Ng,useOptimistic:function(s,o){var c=Xt();return wg(c,pt,s,o)},useMemoCache:Sh,useCacheRefresh:Gg},J_={readContext:wr,use:Pc,useCallback:Pg,useContext:wr,useEffect:Og,useImperativeHandle:Bg,useInsertionEffect:Rg,useLayoutEffect:Fg,useMemo:Ig,useReducer:Ah,useRef:jg,useState:function(){return Ah(Ea)},useDebugValue:Nh,useDeferredValue:function(s,o){var c=Xt();return pt===null?Dh(c,s,o):$g(c,pt.memoizedState,s,o)},useTransition:function(){var s=Ah(Ea)[0],o=Xt().memoizedState;return[typeof s=="boolean"?s:Tl(s),o]},useSyncExternalStore:bg,useId:Vg,useHostTransitionStatus:jh,useFormState:Mg,useActionState:Mg,useOptimistic:function(s,o){var c=Xt();return pt!==null?wg(c,pt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:Gg},fo=null,Ml=0;function Vc(s){var o=Ml;return Ml+=1,fo===null&&(fo=[]),lg(fo,s,o)}function jl(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Gc(s,o){throw o.$$typeof===b?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Wg(s){var o=s._init;return o(s._payload)}function Jg(s){function o(Q,K){if(s){var J=Q.deletions;J===null?(Q.deletions=[K],Q.flags|=16):J.push(K)}}function c(Q,K){if(!s)return null;for(;K!==null;)o(Q,K),K=K.sibling;return null}function h(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=va(Q,K),Q.index=0,Q.sibling=null,Q}function _(Q,K,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<K?(Q.flags|=67108866,K):J):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function T(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function z(Q,K,J,fe){return K===null||K.tag!==6?(K=eh(J,Q.mode,fe),K.return=Q,K):(K=g(K,J),K.return=Q,K)}function V(Q,K,J,fe){var Fe=J.type;return Fe===x?de(Q,K,J.props.children,fe,J.key):K!==null&&(K.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===B&&Wg(Fe)===K.type)?(K=g(K,J.props),jl(K,J),K.return=Q,K):(K=Tc(J.type,J.key,J.props,null,Q.mode,fe),jl(K,J),K.return=Q,K)}function ee(Q,K,J,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=th(J,Q.mode,fe),K.return=Q,K):(K=g(K,J.children||[]),K.return=Q,K)}function de(Q,K,J,fe,Fe){return K===null||K.tag!==7?(K=Ks(J,Q.mode,fe,Fe),K.return=Q,K):(K=g(K,J),K.return=Q,K)}function pe(Q,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=eh(""+K,Q.mode,J),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return J=Tc(K.type,K.key,K.props,null,Q.mode,J),jl(J,K),J.return=Q,J;case v:return K=th(K,Q.mode,J),K.return=Q,K;case B:var fe=K._init;return K=fe(K._payload),pe(Q,K,J)}if(ce(K)||H(K))return K=Ks(K,Q.mode,J,null),K.return=Q,K;if(typeof K.then=="function")return pe(Q,Vc(K),J);if(K.$$typeof===j)return pe(Q,jc(Q,K),J);Gc(Q,K)}return null}function ne(Q,K,J,fe){var Fe=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Fe!==null?null:z(Q,K,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Fe?V(Q,K,J,fe):null;case v:return J.key===Fe?ee(Q,K,J,fe):null;case B:return Fe=J._init,J=Fe(J._payload),ne(Q,K,J,fe)}if(ce(J)||H(J))return Fe!==null?null:de(Q,K,J,fe,null);if(typeof J.then=="function")return ne(Q,K,Vc(J),fe);if(J.$$typeof===j)return ne(Q,K,jc(Q,J),fe);Gc(Q,J)}return null}function ae(Q,K,J,fe,Fe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(J)||null,z(K,Q,""+fe,Fe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case y:return Q=Q.get(fe.key===null?J:fe.key)||null,V(K,Q,fe,Fe);case v:return Q=Q.get(fe.key===null?J:fe.key)||null,ee(K,Q,fe,Fe);case B:var et=fe._init;return fe=et(fe._payload),ae(Q,K,J,fe,Fe)}if(ce(fe)||H(fe))return Q=Q.get(J)||null,de(K,Q,fe,Fe,null);if(typeof fe.then=="function")return ae(Q,K,J,Vc(fe),Fe);if(fe.$$typeof===j)return ae(Q,K,J,jc(K,fe),Fe);Gc(K,fe)}return null}function Ge(Q,K,J,fe){for(var Fe=null,et=null,Pe=K,Ve=K=0,dr=null;Pe!==null&&Ve<J.length;Ve++){Pe.index>Ve?(dr=Pe,Pe=null):dr=Pe.sibling;var ot=ne(Q,Pe,J[Ve],fe);if(ot===null){Pe===null&&(Pe=dr);break}s&&Pe&&ot.alternate===null&&o(Q,Pe),K=_(ot,K,Ve),et===null?Fe=ot:et.sibling=ot,et=ot,Pe=dr}if(Ve===J.length)return c(Q,Pe),ut&&Xs(Q,Ve),Fe;if(Pe===null){for(;Ve<J.length;Ve++)Pe=pe(Q,J[Ve],fe),Pe!==null&&(K=_(Pe,K,Ve),et===null?Fe=Pe:et.sibling=Pe,et=Pe);return ut&&Xs(Q,Ve),Fe}for(Pe=h(Pe);Ve<J.length;Ve++)dr=ae(Pe,Q,Ve,J[Ve],fe),dr!==null&&(s&&dr.alternate!==null&&Pe.delete(dr.key===null?Ve:dr.key),K=_(dr,K,Ve),et===null?Fe=dr:et.sibling=dr,et=dr);return s&&Pe.forEach(function(_s){return o(Q,_s)}),ut&&Xs(Q,Ve),Fe}function Ue(Q,K,J,fe){if(J==null)throw Error(n(151));for(var Fe=null,et=null,Pe=K,Ve=K=0,dr=null,ot=J.next();Pe!==null&&!ot.done;Ve++,ot=J.next()){Pe.index>Ve?(dr=Pe,Pe=null):dr=Pe.sibling;var _s=ne(Q,Pe,ot.value,fe);if(_s===null){Pe===null&&(Pe=dr);break}s&&Pe&&_s.alternate===null&&o(Q,Pe),K=_(_s,K,Ve),et===null?Fe=_s:et.sibling=_s,et=_s,Pe=dr}if(ot.done)return c(Q,Pe),ut&&Xs(Q,Ve),Fe;if(Pe===null){for(;!ot.done;Ve++,ot=J.next())ot=pe(Q,ot.value,fe),ot!==null&&(K=_(ot,K,Ve),et===null?Fe=ot:et.sibling=ot,et=ot);return ut&&Xs(Q,Ve),Fe}for(Pe=h(Pe);!ot.done;Ve++,ot=J.next())ot=ae(Pe,Q,Ve,ot.value,fe),ot!==null&&(s&&ot.alternate!==null&&Pe.delete(ot.key===null?Ve:ot.key),K=_(ot,K,Ve),et===null?Fe=ot:et.sibling=ot,et=ot);return s&&Pe.forEach(function(ek){return o(Q,ek)}),ut&&Xs(Q,Ve),Fe}function gt(Q,K,J,fe){if(typeof J=="object"&&J!==null&&J.type===x&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Fe=J.key;K!==null;){if(K.key===Fe){if(Fe=J.type,Fe===x){if(K.tag===7){c(Q,K.sibling),fe=g(K,J.props.children),fe.return=Q,Q=fe;break e}}else if(K.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===B&&Wg(Fe)===K.type){c(Q,K.sibling),fe=g(K,J.props),jl(fe,J),fe.return=Q,Q=fe;break e}c(Q,K);break}else o(Q,K);K=K.sibling}J.type===x?(fe=Ks(J.props.children,Q.mode,fe,J.key),fe.return=Q,Q=fe):(fe=Tc(J.type,J.key,J.props,null,Q.mode,fe),jl(fe,J),fe.return=Q,Q=fe)}return T(Q);case v:e:{for(Fe=J.key;K!==null;){if(K.key===Fe)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){c(Q,K.sibling),fe=g(K,J.children||[]),fe.return=Q,Q=fe;break e}else{c(Q,K);break}else o(Q,K);K=K.sibling}fe=th(J,Q.mode,fe),fe.return=Q,Q=fe}return T(Q);case B:return Fe=J._init,J=Fe(J._payload),gt(Q,K,J,fe)}if(ce(J))return Ge(Q,K,J,fe);if(H(J)){if(Fe=H(J),typeof Fe!="function")throw Error(n(150));return J=Fe.call(J),Ue(Q,K,J,fe)}if(typeof J.then=="function")return gt(Q,K,Vc(J),fe);if(J.$$typeof===j)return gt(Q,K,jc(Q,J),fe);Gc(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(c(Q,K.sibling),fe=g(K,J),fe.return=Q,Q=fe):(c(Q,K),fe=eh(J,Q.mode,fe),fe.return=Q,Q=fe),T(Q)):c(Q,K)}return function(Q,K,J,fe){try{Ml=0;var Fe=gt(Q,K,J,fe);return fo=null,Fe}catch(Pe){if(Pe===wl||Pe===Oc)throw Pe;var et=Yr(29,Pe,null,Q.mode);return et.lanes=fe,et.return=Q,et}finally{}}}var ho=Jg(!0),e4=Jg(!1),yn=le(null),Gn=null;function is(s){var o=s.alternate;ge(nr,nr.current&1),ge(yn,s),Gn===null&&(o===null||oo.current!==null||o.memoizedState!==null)&&(Gn=s)}function t4(s){if(s.tag===22){if(ge(nr,nr.current),ge(yn,s),Gn===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Gn=s)}}else os()}function os(){ge(nr,nr.current),ge(yn,yn.current)}function Aa(s){ue(yn),Gn===s&&(Gn=null),ue(nr)}var nr=le(0);function Zc(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||k1(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Oh(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:m({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Rh={enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Jr(),g=ns(h);g.payload=o,c!=null&&(g.callback=c),o=as(s,g,h),o!==null&&(en(o,s,h),Sl(o,s,h))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Jr(),g=ns(h);g.tag=1,g.payload=o,c!=null&&(g.callback=c),o=as(s,g,h),o!==null&&(en(o,s,h),Sl(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Jr(),h=ns(c);h.tag=2,o!=null&&(h.callback=o),o=as(s,h,c),o!==null&&(en(o,s,c),Sl(o,s,c))}};function r4(s,o,c,h,g,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,T):o.prototype&&o.prototype.isPureReactComponent?!ml(c,h)||!ml(g,_):!0}function n4(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&Rh.enqueueReplaceState(o,o.state,null)}function ni(s,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(s=s.defaultProps){c===o&&(c=m({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}var Kc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function a4(s){Kc(s)}function s4(s){console.error(s)}function i4(s){Kc(s)}function Yc(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function o4(s,o,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Fh(s,o,c){return c=ns(c),c.tag=3,c.payload={element:null},c.callback=function(){Yc(s,o)},c}function l4(s){return s=ns(s),s.tag=3,s}function u4(s,o,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;s.payload=function(){return g(_)},s.callback=function(){o4(o,c,h)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){o4(o,c,h),typeof g!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var z=h.stack;this.componentDidCatch(h.value,{componentStack:z!==null?z:""})})}function ew(s,o,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&xl(o,c,g,!0),c=yn.current,c!==null){switch(c.tag){case 13:return Gn===null?i1():c.alternate===null&&Lt===0&&(Lt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===dh?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),l1(s,h,g)),!1;case 22:return c.flags|=65536,h===dh?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),l1(s,h,g)),!1}throw Error(n(435,c.tag))}return l1(s,h,g),i1(),!1}if(ut)return o=yn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,h!==ah&&(s=Error(n(422),{cause:h}),yl(mn(s,c)))):(h!==ah&&(o=Error(n(423),{cause:h}),yl(mn(o,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=mn(h,c),g=Fh(s.stateNode,h,g),mh(s,g),Lt!==4&&(Lt=2)),!1;var _=Error(n(520),{cause:h});if(_=mn(_,c),Pl===null?Pl=[_]:Pl.push(_),Lt!==4&&(Lt=2),o===null)return!0;h=mn(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Fh(c.stateNode,h,s),mh(c,s),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(hs===null||!hs.has(_))))return c.flags|=65536,g&=-g,c.lanes|=g,g=l4(g),u4(g,s,c,h),mh(c,g),!1}c=c.return}while(c!==null);return!1}var c4=Error(n(461)),ur=!1;function br(s,o,c,h){o.child=s===null?e4(o,null,c,h):ho(o,s.child,c,h)}function d4(s,o,c,h,g){c=c.render;var _=o.ref;if("ref"in h){var T={};for(var z in h)z!=="ref"&&(T[z]=h[z])}else T=h;return ei(o),h=xh(s,o,c,T,_,g),z=vh(),s!==null&&!ur?(_h(s,o,g),Ca(s,o,g)):(ut&&z&&rh(o),o.flags|=1,br(s,o,h,g),o.child)}function f4(s,o,c,h,g){if(s===null){var _=c.type;return typeof _=="function"&&!Jf(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,h4(s,o,_,h,g)):(s=Tc(c.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!Uh(s,g)){var T=_.memoizedProps;if(c=c.compare,c=c!==null?c:ml,c(T,h)&&s.ref===o.ref)return Ca(s,o,g)}return o.flags|=1,s=va(_,h),s.ref=o.ref,s.return=o,o.child=s}function h4(s,o,c,h,g){if(s!==null){var _=s.memoizedProps;if(ml(_,h)&&s.ref===o.ref)if(ur=!1,o.pendingProps=h=_,Uh(s,g))(s.flags&131072)!==0&&(ur=!0);else return o.lanes=s.lanes,Ca(s,o,g)}return Lh(s,o,c,h,g)}function m4(s,o,c){var h=o.pendingProps,g=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=_!==null?_.baseLanes|c:c,s!==null){for(g=o.child=s.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;o.childLanes=_&~h}else o.childLanes=0,o.child=null;return p4(s,o,h,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&zc(o,_!==null?_.cachePool:null),_!==null?hg(o,_):bh(),t4(o);else return o.lanes=o.childLanes=536870912,p4(s,o,_!==null?_.baseLanes|c:c,c)}else _!==null?(zc(o,_.cachePool),hg(o,_),os(),o.memoizedState=null):(s!==null&&zc(o,null),bh(),os());return br(s,o,g,c),o.child}function p4(s,o,c,h){var g=ch();return g=g===null?null:{parent:rr._currentValue,pool:g},o.memoizedState={baseLanes:c,cachePool:g},s!==null&&zc(o,null),bh(),t4(o),s!==null&&xl(s,o,h,!0),null}function Xc(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function Lh(s,o,c,h,g){return ei(o),c=xh(s,o,c,h,void 0,g),h=vh(),s!==null&&!ur?(_h(s,o,g),Ca(s,o,g)):(ut&&h&&rh(o),o.flags|=1,br(s,o,c,g),o.child)}function b4(s,o,c,h,g,_){return ei(o),o.updateQueue=null,c=pg(o,h,c,g),mg(s),h=vh(),s!==null&&!ur?(_h(s,o,_),Ca(s,o,_)):(ut&&h&&rh(o),o.flags|=1,br(s,o,c,_),o.child)}function g4(s,o,c,h,g){if(ei(o),o.stateNode===null){var _=ro,T=c.contextType;typeof T=="object"&&T!==null&&(_=wr(T)),_=new c(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Rh,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},fh(o),T=c.contextType,_.context=typeof T=="object"&&T!==null?wr(T):ro,_.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Oh(o,c,T,h),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(T=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),T!==_.state&&Rh.enqueueReplaceState(_,_.state,null),Al(o,h,_,g),El(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){_=o.stateNode;var z=o.memoizedProps,V=ni(c,z);_.props=V;var ee=_.context,de=c.contextType;T=ro,typeof de=="object"&&de!==null&&(T=wr(de));var pe=c.getDerivedStateFromProps;de=typeof pe=="function"||typeof _.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,de||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(z||ee!==T)&&n4(o,_,h,T),rs=!1;var ne=o.memoizedState;_.state=ne,Al(o,h,_,g),El(),ee=o.memoizedState,z||ne!==ee||rs?(typeof pe=="function"&&(Oh(o,c,pe,h),ee=o.memoizedState),(V=rs||r4(o,c,V,h,ne,ee,T))?(de||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ee),_.props=h,_.state=ee,_.context=T,h=V):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,hh(s,o),T=o.memoizedProps,de=ni(c,T),_.props=de,pe=o.pendingProps,ne=_.context,ee=c.contextType,V=ro,typeof ee=="object"&&ee!==null&&(V=wr(ee)),z=c.getDerivedStateFromProps,(ee=typeof z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==pe||ne!==V)&&n4(o,_,h,V),rs=!1,ne=o.memoizedState,_.state=ne,Al(o,h,_,g),El();var ae=o.memoizedState;T!==pe||ne!==ae||rs||s!==null&&s.dependencies!==null&&Mc(s.dependencies)?(typeof z=="function"&&(Oh(o,c,z,h),ae=o.memoizedState),(de=rs||r4(o,c,de,h,ne,ae,V)||s!==null&&s.dependencies!==null&&Mc(s.dependencies))?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ae,V),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ae,V)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ae),_.props=h,_.state=ae,_.context=V,h=de):(typeof _.componentDidUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),h=!1)}return _=h,Xc(s,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&h?(o.child=ho(o,s.child,null,g),o.child=ho(o,null,c,g)):br(s,o,c,g),o.memoizedState=_.state,s=o.child):s=Ca(s,o,g),s}function y4(s,o,c,h){return gl(),o.flags|=256,br(s,o,c,h),o.child}var Bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(s){return{baseLanes:s,cachePool:sg()}}function Ih(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=xn),s}function x4(s,o,c){var h=o.pendingProps,g=!1,_=(o.flags&128)!==0,T;if((T=_)||(T=s!==null&&s.memoizedState===null?!1:(nr.current&2)!==0),T&&(g=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,s===null){if(ut){if(g?is(o):os(),ut){var z=Ft,V;if(V=z){e:{for(V=z,z=Vn;V.nodeType!==8;){if(!z){z=null;break e}if(V=Dn(V.nextSibling),V===null){z=null;break e}}z=V}z!==null?(o.memoizedState={dehydrated:z,treeContext:Ys!==null?{id:_a,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},V=Yr(18,null,null,0),V.stateNode=z,V.return=o,o.child=V,Cr=o,Ft=null,V=!0):V=!1}V||Ws(o)}if(z=o.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return k1(z)?o.lanes=32:o.lanes=536870912,null;Aa(o)}return z=h.children,h=h.fallback,g?(os(),g=o.mode,z=Qc({mode:"hidden",children:z},g),h=Ks(h,g,c,null),z.return=o,h.return=o,z.sibling=h,o.child=z,g=o.child,g.memoizedState=Ph(c),g.childLanes=Ih(s,T,c),o.memoizedState=Bh,h):(is(o),$h(o,z))}if(V=s.memoizedState,V!==null&&(z=V.dehydrated,z!==null)){if(_)o.flags&256?(is(o),o.flags&=-257,o=Hh(s,o,c)):o.memoizedState!==null?(os(),o.child=s.child,o.flags|=128,o=null):(os(),g=h.fallback,z=o.mode,h=Qc({mode:"visible",children:h.children},z),g=Ks(g,z,c,null),g.flags|=2,h.return=o,g.return=o,h.sibling=g,o.child=h,ho(o,s.child,null,c),h=o.child,h.memoizedState=Ph(c),h.childLanes=Ih(s,T,c),o.memoizedState=Bh,o=g);else if(is(o),k1(z)){if(T=z.nextSibling&&z.nextSibling.dataset,T)var ee=T.dgst;T=ee,h=Error(n(419)),h.stack="",h.digest=T,yl({value:h,source:null,stack:null}),o=Hh(s,o,c)}else if(ur||xl(s,o,c,!1),T=(c&s.childLanes)!==0,ur||T){if(T=wt,T!==null&&(h=c&-c,h=(h&42)!==0?1:Sf(h),h=(h&(T.suspendedLanes|c))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,to(s,h),en(T,s,h),c4;z.data==="$?"||i1(),o=Hh(s,o,c)}else z.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=V.treeContext,Ft=Dn(z.nextSibling),Cr=o,ut=!0,Qs=null,Vn=!1,s!==null&&(bn[gn++]=_a,bn[gn++]=wa,bn[gn++]=Ys,_a=s.id,wa=s.overflow,Ys=o),o=$h(o,h.children),o.flags|=4096);return o}return g?(os(),g=h.fallback,z=o.mode,V=s.child,ee=V.sibling,h=va(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,ee!==null?g=va(ee,g):(g=Ks(g,z,c,null),g.flags|=2),g.return=o,h.return=o,h.sibling=g,o.child=h,h=g,g=o.child,z=s.child.memoizedState,z===null?z=Ph(c):(V=z.cachePool,V!==null?(ee=rr._currentValue,V=V.parent!==ee?{parent:ee,pool:ee}:V):V=sg(),z={baseLanes:z.baseLanes|c,cachePool:V}),g.memoizedState=z,g.childLanes=Ih(s,T,c),o.memoizedState=Bh,h):(is(o),c=s.child,s=c.sibling,c=va(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,s!==null&&(T=o.deletions,T===null?(o.deletions=[s],o.flags|=16):T.push(s)),o.child=c,o.memoizedState=null,c)}function $h(s,o){return o=Qc({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Qc(s,o){return s=Yr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Hh(s,o,c){return ho(o,s.child,null,c),s=$h(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function v4(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),ih(s.return,o,c)}function qh(s,o,c,h,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=g)}function _4(s,o,c){var h=o.pendingProps,g=h.revealOrder,_=h.tail;if(br(s,o,h.children,c),h=nr.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&v4(s,c,o);else if(s.tag===19)v4(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(ge(nr,h),g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&Zc(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),qh(o,!1,g,c,_);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Zc(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}qh(o,!0,c,null,_);break;case"together":qh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ca(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),fs|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(xl(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=va(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=va(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Uh(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Mc(s)))}function tw(s,o,c){switch(o.tag){case 3:We(o,o.stateNode.containerInfo),ts(o,rr,s.memoizedState.cache),gl();break;case 27:case 5:xr(o);break;case 4:We(o,o.stateNode.containerInfo);break;case 10:ts(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(is(o),o.flags|=128,null):(c&o.child.childLanes)!==0?x4(s,o,c):(is(o),s=Ca(s,o,c),s!==null?s.sibling:null);is(o);break;case 19:var g=(s.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(xl(s,o,c,!1),h=(c&o.childLanes)!==0),g){if(h)return _4(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(nr,nr.current),h)break;return null;case 22:case 23:return o.lanes=0,m4(s,o,c);case 24:ts(o,rr,s.memoizedState.cache)}return Ca(s,o,c)}function w4(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)ur=!0;else{if(!Uh(s,c)&&(o.flags&128)===0)return ur=!1,tw(s,o,c);ur=(s.flags&131072)!==0}else ur=!1,ut&&(o.flags&1048576)!==0&&Wb(o,Dc,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var h=o.elementType,g=h._init;if(h=g(h._payload),o.type=h,typeof h=="function")Jf(h)?(s=ni(h,s),o.tag=1,o=g4(null,o,h,s,c)):(o.tag=0,o=Lh(null,o,h,s,c));else{if(h!=null){if(g=h.$$typeof,g===F){o.tag=11,o=d4(null,o,h,s,c);break e}else if(g===$){o.tag=14,o=f4(null,o,h,s,c);break e}}throw o=he(h)||h,Error(n(306,o,""))}}return o;case 0:return Lh(s,o,o.type,o.pendingProps,c);case 1:return h=o.type,g=ni(h,o.pendingProps),g4(s,o,h,g,c);case 3:e:{if(We(o,o.stateNode.containerInfo),s===null)throw Error(n(387));h=o.pendingProps;var _=o.memoizedState;g=_.element,hh(s,o),Al(o,h,null,c);var T=o.memoizedState;if(h=T.cache,ts(o,rr,h),h!==_.cache&&oh(o,[rr],c,!0),El(),h=T.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=y4(s,o,h,c);break e}else if(h!==g){g=mn(Error(n(424)),o),yl(g),o=y4(s,o,h,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ft=Dn(s.firstChild),Cr=o,ut=!0,Qs=null,Vn=!0,c=e4(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(gl(),h===g){o=Ca(s,o,c);break e}br(s,o,h,c)}o=o.child}return o;case 26:return Xc(s,o),s===null?(c=A3(o.type,null,o.pendingProps,null))?o.memoizedState=c:ut||(c=o.type,s=o.pendingProps,h=d0(ze.current).createElement(c),h[_r]=o,h[zr]=s,yr(h,c,s),lr(h),o.stateNode=h):o.memoizedState=A3(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return xr(o),s===null&&ut&&(h=o.stateNode=k3(o.type,o.pendingProps,ze.current),Cr=o,Vn=!0,g=Ft,bs(o.type)?(S1=g,Ft=Dn(h.firstChild)):Ft=g),br(s,o,o.pendingProps.children,c),Xc(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ut&&((g=h=Ft)&&(h=Nw(h,o.type,o.pendingProps,Vn),h!==null?(o.stateNode=h,Cr=o,Ft=Dn(h.firstChild),Vn=!1,g=!0):g=!1),g||Ws(o)),xr(o),g=o.type,_=o.pendingProps,T=s!==null?s.memoizedProps:null,h=_.children,v1(g,_)?h=null:T!==null&&v1(g,T)&&(o.flags|=32),o.memoizedState!==null&&(g=xh(s,o,Z_,null,null,c),Kl._currentValue=g),Xc(s,o),br(s,o,h,c),o.child;case 6:return s===null&&ut&&((s=c=Ft)&&(c=Dw(c,o.pendingProps,Vn),c!==null?(o.stateNode=c,Cr=o,Ft=null,s=!0):s=!1),s||Ws(o)),null;case 13:return x4(s,o,c);case 4:return We(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=ho(o,null,h,c):br(s,o,h,c),o.child;case 11:return d4(s,o,o.type,o.pendingProps,c);case 7:return br(s,o,o.pendingProps,c),o.child;case 8:return br(s,o,o.pendingProps.children,c),o.child;case 12:return br(s,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,ts(o,o.type,h.value),br(s,o,h.children,c),o.child;case 9:return g=o.type._context,h=o.pendingProps.children,ei(o),g=wr(g),h=h(g),o.flags|=1,br(s,o,h,c),o.child;case 14:return f4(s,o,o.type,o.pendingProps,c);case 15:return h4(s,o,o.type,o.pendingProps,c);case 19:return _4(s,o,c);case 31:return h=o.pendingProps,c=o.mode,h={mode:h.mode,children:h.children},s===null?(c=Qc(h,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=va(s.child,h),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return m4(s,o,c);case 24:return ei(o),h=wr(rr),s===null?(g=ch(),g===null&&(g=wt,_=lh(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=c),g=_),o.memoizedState={parent:h,cache:g},fh(o),ts(o,rr,g)):((s.lanes&c)!==0&&(hh(s,o),Al(o,null,null,c),El()),g=s.memoizedState,_=o.memoizedState,g.parent!==h?(g={parent:h,cache:h},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ts(o,rr,h)):(h=_.cache,ts(o,rr,h),h!==g.cache&&oh(o,[rr],c,!0))),br(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ta(s){s.flags|=4}function k4(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!M3(o)){if(o=yn.current,o!==null&&((st&4194048)===st?Gn!==null:(st&62914560)!==st&&(st&536870912)===0||o!==Gn))throw kl=dh,ig;s.flags|=8192}}function Wc(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?tb():536870912,s.lanes|=o,go|=o)}function zl(s,o){if(!ut)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Mt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function rw(s,o,c){var h=o.pendingProps;switch(nh(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(o),null;case 1:return Mt(o),null;case 3:return c=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Sa(rr),$t(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(bl(o)?Ta(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tg())),Mt(o),null;case 26:return c=o.memoizedState,s===null?(Ta(o),c!==null?(Mt(o),k4(o,c)):(Mt(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Ta(o),Mt(o),k4(o,c)):(Mt(o),o.flags&=-16777217):(s.memoizedProps!==h&&Ta(o),Mt(o),o.flags&=-16777217),null;case 27:dn(o),c=ze.current;var g=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Ta(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Mt(o),null}s=xe.current,bl(o)?Jb(o):(s=k3(g,h,c),o.stateNode=s,Ta(o))}return Mt(o),null;case 5:if(dn(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Ta(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Mt(o),null}if(s=xe.current,bl(o))Jb(o);else{switch(g=d0(ze.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?g.createElement(c,{is:h.is}):g.createElement(c)}}s[_r]=o,s[zr]=h;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=s;e:switch(yr(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ta(o)}}return Mt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&Ta(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(s=ze.current,bl(o)){if(s=o.stateNode,c=o.memoizedProps,h=null,g=Cr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[_r]=o,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||b3(s.nodeValue,c)),s||Ws(o)}else s=d0(s).createTextNode(h),s[_r]=o,o.stateNode=s}return Mt(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=bl(o),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(n(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[_r]=o}else gl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mt(o),g=!1}else g=tg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Aa(o),o):(Aa(o),null)}if(Aa(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=o.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Wc(o,o.updateQueue),Mt(o),null;case 4:return $t(),s===null&&p1(o.stateNode.containerInfo),Mt(o),null;case 10:return Sa(o.type),Mt(o),null;case 19:if(ue(nr),g=o.memoizedState,g===null)return Mt(o),null;if(h=(o.flags&128)!==0,_=g.rendering,_===null)if(h)zl(g,!1);else{if(Lt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=Zc(s),_!==null){for(o.flags|=128,zl(g,!1),s=_.updateQueue,o.updateQueue=s,Wc(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Qb(c,s),c=c.sibling;return ge(nr,nr.current&1|2),o.child}s=s.sibling}g.tail!==null&&or()>t0&&(o.flags|=128,h=!0,zl(g,!1),o.lanes=4194304)}else{if(!h)if(s=Zc(_),s!==null){if(o.flags|=128,h=!0,s=s.updateQueue,o.updateQueue=s,Wc(o,s),zl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!ut)return Mt(o),null}else 2*or()-g.renderingStartTime>t0&&c!==536870912&&(o.flags|=128,h=!0,zl(g,!1),o.lanes=4194304);g.isBackwards?(_.sibling=o.child,o.child=_):(s=g.last,s!==null?s.sibling=_:o.child=_,g.last=_)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=or(),o.sibling=null,s=nr.current,ge(nr,h?s&1|2:s&1),o):(Mt(o),null);case 22:case 23:return Aa(o),gh(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Mt(o),o.subtreeFlags&6&&(o.flags|=8192)):Mt(o),c=o.updateQueue,c!==null&&Wc(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),s!==null&&ue(ti),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Sa(rr),Mt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function nw(s,o){switch(nh(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Sa(rr),$t(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return dn(o),null;case 13:if(Aa(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));gl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ue(nr),null;case 4:return $t(),null;case 10:return Sa(o.type),null;case 22:case 23:return Aa(o),gh(),s!==null&&ue(ti),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Sa(rr),null;case 25:return null;default:return null}}function S4(s,o){switch(nh(o),o.tag){case 3:Sa(rr),$t();break;case 26:case 27:case 5:dn(o);break;case 4:$t();break;case 13:Aa(o);break;case 19:ue(nr);break;case 10:Sa(o.type);break;case 22:case 23:Aa(o),gh(),s!==null&&ue(ti);break;case 24:Sa(rr)}}function Ol(s,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&s)===s){h=void 0;var _=c.create,T=c.inst;h=_(),T.destroy=h}c=c.next}while(c!==g)}}catch(z){yt(o,o.return,z)}}function ls(s,o,c){try{var h=o.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&s)===s){var T=h.inst,z=T.destroy;if(z!==void 0){T.destroy=void 0,g=o;var V=c,ee=z;try{ee()}catch(de){yt(g,V,de)}}}h=h.next}while(h!==_)}}catch(de){yt(o,o.return,de)}}function E4(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{fg(o,c)}catch(h){yt(s,s.return,h)}}}function A4(s,o,c){c.props=ni(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){yt(s,o,h)}}function Rl(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(g){yt(s,o,g)}}function Zn(s,o){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){yt(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){yt(s,o,g)}else c.current=null}function C4(s){var o=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){yt(s,s.return,g)}}function Vh(s,o,c){try{var h=s.stateNode;Sw(h,s.type,c,o),h[zr]=o}catch(g){yt(s,s.return,g)}}function T4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&bs(s.type)||s.tag===4}function Gh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||T4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&bs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zh(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=c0));else if(h!==4&&(h===27&&bs(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(Zh(s,o,c),s=s.sibling;s!==null;)Zh(s,o,c),s=s.sibling}function Jc(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(h===27&&bs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Jc(s,o,c),s=s.sibling;s!==null;)Jc(s,o,c),s=s.sibling}function N4(s){var o=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);yr(o,h,c),o[_r]=s,o[zr]=c}catch(_){yt(s,s.return,_)}}var Na=!1,qt=!1,Kh=!1,D4=typeof WeakSet=="function"?WeakSet:Set,cr=null;function aw(s,o){if(s=s.containerInfo,y1=g0,s=$b(s),Gf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var T=0,z=-1,V=-1,ee=0,de=0,pe=s,ne=null;t:for(;;){for(var ae;pe!==c||g!==0&&pe.nodeType!==3||(z=T+g),pe!==_||h!==0&&pe.nodeType!==3||(V=T+h),pe.nodeType===3&&(T+=pe.nodeValue.length),(ae=pe.firstChild)!==null;)ne=pe,pe=ae;for(;;){if(pe===s)break t;if(ne===c&&++ee===g&&(z=T),ne===_&&++de===h&&(V=T),(ae=pe.nextSibling)!==null)break;pe=ne,ne=pe.parentNode}pe=ae}c=z===-1||V===-1?null:{start:z,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(x1={focusedElem:s,selectionRange:c},g0=!1,cr=o;cr!==null;)if(o=cr,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,cr=s;else for(;cr!==null;){switch(o=cr,_=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=o,g=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var Ge=ni(c.type,g,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(Ge,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(Ue){yt(c,c.return,Ue)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)w1(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":w1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,cr=s;break}cr=o.return}}function M4(s,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:us(s,c),h&4&&Ol(5,c);break;case 1:if(us(s,c),h&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(T){yt(c,c.return,T)}else{var g=ni(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){yt(c,c.return,T)}}h&64&&E4(c),h&512&&Rl(c,c.return);break;case 3:if(us(s,c),h&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{fg(s,o)}catch(T){yt(c,c.return,T)}}break;case 27:o===null&&h&4&&N4(c);case 26:case 5:us(s,c),o===null&&h&4&&C4(c),h&512&&Rl(c,c.return);break;case 12:us(s,c);break;case 13:us(s,c),h&4&&O4(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=hw.bind(null,c),Mw(s,c))));break;case 22:if(h=c.memoizedState!==null||Na,!h){o=o!==null&&o.memoizedState!==null||qt,g=Na;var _=qt;Na=h,(qt=o)&&!_?cs(s,c,(c.subtreeFlags&8772)!==0):us(s,c),Na=g,qt=_}break;case 30:break;default:us(s,c)}}function j4(s){var o=s.alternate;o!==null&&(s.alternate=null,j4(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Cf(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ct=null,Fr=!1;function Da(s,o,c){for(c=c.child;c!==null;)z4(s,o,c),c=c.sibling}function z4(s,o,c){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Ne,c)}catch{}switch(c.tag){case 26:qt||Zn(c,o),Da(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:qt||Zn(c,o);var h=Ct,g=Fr;bs(c.type)&&(Ct=c.stateNode,Fr=!1),Da(s,o,c),Ul(c.stateNode),Ct=h,Fr=g;break;case 5:qt||Zn(c,o);case 6:if(h=Ct,g=Fr,Ct=null,Da(s,o,c),Ct=h,Fr=g,Ct!==null)if(Fr)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(c.stateNode)}catch(_){yt(c,o,_)}else try{Ct.removeChild(c.stateNode)}catch(_){yt(c,o,_)}break;case 18:Ct!==null&&(Fr?(s=Ct,_3(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Wl(s)):_3(Ct,c.stateNode));break;case 4:h=Ct,g=Fr,Ct=c.stateNode.containerInfo,Fr=!0,Da(s,o,c),Ct=h,Fr=g;break;case 0:case 11:case 14:case 15:qt||ls(2,c,o),qt||ls(4,c,o),Da(s,o,c);break;case 1:qt||(Zn(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&A4(c,o,h)),Da(s,o,c);break;case 21:Da(s,o,c);break;case 22:qt=(h=qt)||c.memoizedState!==null,Da(s,o,c),qt=h;break;default:Da(s,o,c)}}function O4(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wl(s)}catch(c){yt(o,o.return,c)}}function sw(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new D4),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new D4),o;default:throw Error(n(435,s.tag))}}function Yh(s,o){var c=sw(s);o.forEach(function(h){var g=mw.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}function Xr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],_=s,T=o,z=T;e:for(;z!==null;){switch(z.tag){case 27:if(bs(z.type)){Ct=z.stateNode,Fr=!1;break e}break;case 5:Ct=z.stateNode,Fr=!1;break e;case 3:case 4:Ct=z.stateNode.containerInfo,Fr=!0;break e}z=z.return}if(Ct===null)throw Error(n(160));z4(_,T,g),Ct=null,Fr=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)R4(o,s),o=o.sibling}var Nn=null;function R4(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Xr(o,s),Qr(s),h&4&&(ls(3,s,s.return),Ol(3,s),ls(5,s,s.return));break;case 1:Xr(o,s),Qr(s),h&512&&(qt||c===null||Zn(c,c.return)),h&64&&Na&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Nn;if(Xr(o,s),Qr(s),h&512&&(qt||c===null||Zn(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[sl]||_[_r]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),yr(_,h,c),_[_r]=s,lr(_),h=_;break e;case"link":var T=N3("link","href",g).get(h+(c.href||""));if(T){for(var z=0;z<T.length;z++)if(_=T[z],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(z,1);break t}}_=g.createElement(h),yr(_,h,c),g.head.appendChild(_);break;case"meta":if(T=N3("meta","content",g).get(h+(c.content||""))){for(z=0;z<T.length;z++)if(_=T[z],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(z,1);break t}}_=g.createElement(h),yr(_,h,c),g.head.appendChild(_);break;default:throw Error(n(468,h))}_[_r]=s,lr(_),h=_}s.stateNode=h}else D3(g,s.type,s.stateNode);else s.stateNode=T3(g,h,s.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?D3(g,s.type,s.stateNode):T3(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Vh(s,s.memoizedProps,c.memoizedProps)}break;case 27:Xr(o,s),Qr(s),h&512&&(qt||c===null||Zn(c,c.return)),c!==null&&h&4&&Vh(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Xr(o,s),Qr(s),h&512&&(qt||c===null||Zn(c,c.return)),s.flags&32){g=s.stateNode;try{Ki(g,"")}catch(ae){yt(s,s.return,ae)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,Vh(s,g,c!==null?c.memoizedProps:g)),h&1024&&(Kh=!0);break;case 6:if(Xr(o,s),Qr(s),h&4){if(s.stateNode===null)throw Error(n(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(ae){yt(s,s.return,ae)}}break;case 3:if(m0=null,g=Nn,Nn=f0(o.containerInfo),Xr(o,s),Nn=g,Qr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Wl(o.containerInfo)}catch(ae){yt(s,s.return,ae)}Kh&&(Kh=!1,F4(s));break;case 4:h=Nn,Nn=f0(s.stateNode.containerInfo),Xr(o,s),Qr(s),Nn=h;break;case 12:Xr(o,s),Qr(s);break;case 13:Xr(o,s),Qr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(t1=or()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Yh(s,h)));break;case 22:g=s.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,ee=Na,de=qt;if(Na=ee||g,qt=de||V,Xr(o,s),qt=de,Na=ee,Qr(s),h&8192)e:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(c===null||V||Na||qt||ai(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){V=c=o;try{if(_=V.stateNode,g)T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{z=V.stateNode;var pe=V.memoizedProps.style,ne=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;z.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ae){yt(V,V.return,ae)}}}else if(o.tag===6){if(c===null){V=o;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(ae){yt(V,V.return,ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Yh(s,c))));break;case 19:Xr(o,s),Qr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Yh(s,h)));break;case 30:break;case 21:break;default:Xr(o,s),Qr(s)}}function Qr(s){var o=s.flags;if(o&2){try{for(var c,h=s.return;h!==null;){if(T4(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,_=Gh(s);Jc(s,_,g);break;case 5:var T=c.stateNode;c.flags&32&&(Ki(T,""),c.flags&=-33);var z=Gh(s);Jc(s,z,T);break;case 3:case 4:var V=c.stateNode.containerInfo,ee=Gh(s);Zh(s,ee,V);break;default:throw Error(n(161))}}catch(de){yt(s,s.return,de)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function F4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;F4(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function us(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)M4(s,o.alternate,o),o=o.sibling}function ai(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ls(4,o,o.return),ai(o);break;case 1:Zn(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&A4(o,o.return,c),ai(o);break;case 27:Ul(o.stateNode);case 26:case 5:Zn(o,o.return),ai(o);break;case 22:o.memoizedState===null&&ai(o);break;case 30:ai(o);break;default:ai(o)}s=s.sibling}}function cs(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,g=s,_=o,T=_.flags;switch(_.tag){case 0:case 11:case 15:cs(g,_,c),Ol(4,_);break;case 1:if(cs(g,_,c),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){yt(h,h.return,ee)}if(h=_,g=h.updateQueue,g!==null){var z=h.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)dg(V[g],z)}catch(ee){yt(h,h.return,ee)}}c&&T&64&&E4(_),Rl(_,_.return);break;case 27:N4(_);case 26:case 5:cs(g,_,c),c&&h===null&&T&4&&C4(_),Rl(_,_.return);break;case 12:cs(g,_,c);break;case 13:cs(g,_,c),c&&T&4&&O4(g,_);break;case 22:_.memoizedState===null&&cs(g,_,c),Rl(_,_.return);break;case 30:break;default:cs(g,_,c)}o=o.sibling}}function Xh(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&vl(c))}function Qh(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&vl(s))}function Kn(s,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)L4(s,o,c,h),o=o.sibling}function L4(s,o,c,h){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Kn(s,o,c,h),g&2048&&Ol(9,o);break;case 1:Kn(s,o,c,h);break;case 3:Kn(s,o,c,h),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&vl(s)));break;case 12:if(g&2048){Kn(s,o,c,h),s=o.stateNode;try{var _=o.memoizedProps,T=_.id,z=_.onPostCommit;typeof z=="function"&&z(T,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){yt(o,o.return,V)}}else Kn(s,o,c,h);break;case 13:Kn(s,o,c,h);break;case 23:break;case 22:_=o.stateNode,T=o.alternate,o.memoizedState!==null?_._visibility&2?Kn(s,o,c,h):Fl(s,o):_._visibility&2?Kn(s,o,c,h):(_._visibility|=2,mo(s,o,c,h,(o.subtreeFlags&10256)!==0)),g&2048&&Xh(T,o);break;case 24:Kn(s,o,c,h),g&2048&&Qh(o.alternate,o);break;default:Kn(s,o,c,h)}}function mo(s,o,c,h,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=s,T=o,z=c,V=h,ee=T.flags;switch(T.tag){case 0:case 11:case 15:mo(_,T,z,V,g),Ol(8,T);break;case 23:break;case 22:var de=T.stateNode;T.memoizedState!==null?de._visibility&2?mo(_,T,z,V,g):Fl(_,T):(de._visibility|=2,mo(_,T,z,V,g)),g&&ee&2048&&Xh(T.alternate,T);break;case 24:mo(_,T,z,V,g),g&&ee&2048&&Qh(T.alternate,T);break;default:mo(_,T,z,V,g)}o=o.sibling}}function Fl(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,h=o,g=h.flags;switch(h.tag){case 22:Fl(c,h),g&2048&&Xh(h.alternate,h);break;case 24:Fl(c,h),g&2048&&Qh(h.alternate,h);break;default:Fl(c,h)}o=o.sibling}}var Ll=8192;function po(s){if(s.subtreeFlags&Ll)for(s=s.child;s!==null;)B4(s),s=s.sibling}function B4(s){switch(s.tag){case 26:po(s),s.flags&Ll&&s.memoizedState!==null&&Uw(Nn,s.memoizedState,s.memoizedProps);break;case 5:po(s);break;case 3:case 4:var o=Nn;Nn=f0(s.stateNode.containerInfo),po(s),Nn=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Ll,Ll=16777216,po(s),Ll=o):po(s));break;default:po(s)}}function P4(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Bl(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];cr=h,$4(h,s)}P4(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)I4(s),s=s.sibling}function I4(s){switch(s.tag){case 0:case 11:case 15:Bl(s),s.flags&2048&&ls(9,s,s.return);break;case 3:Bl(s);break;case 12:Bl(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,e0(s)):Bl(s);break;default:Bl(s)}}function e0(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];cr=h,$4(h,s)}P4(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ls(8,o,o.return),e0(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,e0(o));break;default:e0(o)}s=s.sibling}}function $4(s,o){for(;cr!==null;){var c=cr;switch(c.tag){case 0:case 11:case 15:ls(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:vl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,cr=h;else e:for(c=s;cr!==null;){h=cr;var g=h.sibling,_=h.return;if(j4(h),h===c){cr=null;break e}if(g!==null){g.return=_,cr=g;break e}cr=_}}}var iw={getCacheForType:function(s){var o=wr(rr),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},ow=typeof WeakMap=="function"?WeakMap:Map,dt=0,wt=null,tt=null,st=0,ft=0,Wr=null,ds=!1,bo=!1,Wh=!1,Ma=0,Lt=0,fs=0,si=0,Jh=0,xn=0,go=0,Pl=null,Lr=null,e1=!1,t1=0,t0=1/0,r0=null,hs=null,gr=0,ms=null,yo=null,xo=0,r1=0,n1=null,H4=null,Il=0,a1=null;function Jr(){if((dt&2)!==0&&st!==0)return st&-st;if(Y.T!==null){var s=so;return s!==0?s:d1()}return ab()}function q4(){xn===0&&(xn=(st&536870912)===0||ut?eb():536870912);var s=yn.current;return s!==null&&(s.flags|=32),xn}function en(s,o,c){(s===wt&&(ft===2||ft===9)||s.cancelPendingCommit!==null)&&(vo(s,0),ps(s,st,xn,!1)),al(s,c),((dt&2)===0||s!==wt)&&(s===wt&&((dt&2)===0&&(si|=c),Lt===4&&ps(s,st,xn,!1)),Yn(s))}function U4(s,o,c){if((dt&6)!==0)throw Error(n(327));var h=!c&&(o&124)===0&&(o&s.expiredLanes)===0||qs(s,o),g=h?cw(s,o):o1(s,o,!0),_=h;do{if(g===0){bo&&!h&&ps(s,o,0,!1);break}else{if(c=s.current.alternate,_&&!lw(c)){g=o1(s,o,!1),_=!1;continue}if(g===2){if(_=o,s.errorRecoveryDisabledLanes&_)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var z=s;g=Pl;var V=z.current.memoizedState.isDehydrated;if(V&&(vo(z,T).flags|=256),T=o1(z,T,!1),T!==2){if(Wh&&!V){z.errorRecoveryDisabledLanes|=_,si|=_,g=4;break e}_=Lr,Lr=g,_!==null&&(Lr===null?Lr=_:Lr.push.apply(Lr,_))}g=T}if(_=!1,g!==2)continue}}if(g===1){vo(s,0),ps(s,o,0,!0);break}e:{switch(h=s,_=g,_){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ps(h,o,xn,!ds);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(g=t1+300-or(),10<g)){if(ps(h,o,xn,!ds),Hs(h,0,!0)!==0)break e;h.timeoutHandle=x3(V4.bind(null,h,c,Lr,r0,e1,o,xn,si,go,ds,_,2,-0,0),g);break e}V4(h,c,Lr,r0,e1,o,xn,si,go,ds,_,0,-0,0)}}break}while(!0);Yn(s)}function V4(s,o,c,h,g,_,T,z,V,ee,de,pe,ne,ae){if(s.timeoutHandle=-1,pe=o.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:qw},B4(o),pe=Vw(),pe!==null)){s.cancelPendingCommit=pe(W4.bind(null,s,o,_,c,h,g,T,z,V,de,1,ne,ae)),ps(s,_,T,!ee);return}W4(s,o,_,c,h,g,T,z,V)}function lw(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],_=g.getSnapshot;g=g.value;try{if(!Kr(_(),g))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ps(s,o,c,h){o&=~Jh,o&=~si,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var g=o;0<g;){var _=31-_t(g),T=1<<_;h[_]=-1,g&=~T}c!==0&&rb(s,c,o)}function n0(){return(dt&6)===0?($l(0),!1):!0}function s1(){if(tt!==null){if(ft===0)var s=tt.return;else s=tt,ka=Js=null,wh(s),fo=null,Ml=0,s=tt;for(;s!==null;)S4(s.alternate,s),s=s.return;tt=null}}function vo(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,Aw(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),s1(),wt=s,tt=c=va(s.current,null),st=o,ft=0,Wr=null,ds=!1,bo=qs(s,o),Wh=!1,go=xn=Jh=si=fs=Lt=0,Lr=Pl=null,e1=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var g=31-_t(h),_=1<<g;o|=s[g],h&=~_}return Ma=o,Ec(),c}function G4(s,o){Je=null,Y.H=Uc,o===wl||o===Oc?(o=ug(),ft=3):o===ig?(o=ug(),ft=4):ft=o===c4?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Wr=o,tt===null&&(Lt=1,Yc(s,mn(o,s.current)))}function Z4(){var s=Y.H;return Y.H=Uc,s===null?Uc:s}function K4(){var s=Y.A;return Y.A=iw,s}function i1(){Lt=4,ds||(st&4194048)!==st&&yn.current!==null||(bo=!0),(fs&134217727)===0&&(si&134217727)===0||wt===null||ps(wt,st,xn,!1)}function o1(s,o,c){var h=dt;dt|=2;var g=Z4(),_=K4();(wt!==s||st!==o)&&(r0=null,vo(s,o)),o=!1;var T=Lt;e:do try{if(ft!==0&&tt!==null){var z=tt,V=Wr;switch(ft){case 8:s1(),T=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(o=!0);var ee=ft;if(ft=0,Wr=null,_o(s,z,V,ee),c&&bo){T=0;break e}break;default:ee=ft,ft=0,Wr=null,_o(s,z,V,ee)}}uw(),T=Lt;break}catch(de){G4(s,de)}while(!0);return o&&s.shellSuspendCounter++,ka=Js=null,dt=h,Y.H=g,Y.A=_,tt===null&&(wt=null,st=0,Ec()),T}function uw(){for(;tt!==null;)Y4(tt)}function cw(s,o){var c=dt;dt|=2;var h=Z4(),g=K4();wt!==s||st!==o?(r0=null,t0=or()+500,vo(s,o)):bo=qs(s,o);e:do try{if(ft!==0&&tt!==null){o=tt;var _=Wr;t:switch(ft){case 1:ft=0,Wr=null,_o(s,o,_,1);break;case 2:case 9:if(og(_)){ft=0,Wr=null,X4(o);break}o=function(){ft!==2&&ft!==9||wt!==s||(ft=7),Yn(s)},_.then(o,o);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:og(_)?(ft=0,Wr=null,X4(o)):(ft=0,Wr=null,_o(s,o,_,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var z=tt;if(!T||M3(T)){ft=0,Wr=null;var V=z.sibling;if(V!==null)tt=V;else{var ee=z.return;ee!==null?(tt=ee,a0(ee)):tt=null}break t}}ft=0,Wr=null,_o(s,o,_,5);break;case 6:ft=0,Wr=null,_o(s,o,_,6);break;case 8:s1(),Lt=6;break e;default:throw Error(n(462))}}dw();break}catch(de){G4(s,de)}while(!0);return ka=Js=null,Y.H=h,Y.A=g,dt=c,tt!==null?0:(wt=null,st=0,Ec(),Lt)}function dw(){for(;tt!==null&&!qn();)Y4(tt)}function Y4(s){var o=w4(s.alternate,s,Ma);s.memoizedProps=s.pendingProps,o===null?a0(s):tt=o}function X4(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=b4(c,o,o.pendingProps,o.type,void 0,st);break;case 11:o=b4(c,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:wh(o);default:S4(c,o),o=tt=Qb(o,Ma),o=w4(c,o,Ma)}s.memoizedProps=s.pendingProps,o===null?a0(s):tt=o}function _o(s,o,c,h){ka=Js=null,wh(o),fo=null,Ml=0;var g=o.return;try{if(ew(s,g,o,c,st)){Lt=1,Yc(s,mn(c,s.current)),tt=null;return}}catch(_){if(g!==null)throw tt=g,_;Lt=1,Yc(s,mn(c,s.current)),tt=null;return}o.flags&32768?(ut||h===1?s=!0:bo||(st&536870912)!==0?s=!1:(ds=s=!0,(h===2||h===9||h===3||h===6)&&(h=yn.current,h!==null&&h.tag===13&&(h.flags|=16384))),Q4(o,s)):a0(o)}function a0(s){var o=s;do{if((o.flags&32768)!==0){Q4(o,ds);return}s=o.return;var c=rw(o.alternate,o,Ma);if(c!==null){tt=c;return}if(o=o.sibling,o!==null){tt=o;return}tt=o=s}while(o!==null);Lt===0&&(Lt=5)}function Q4(s,o){do{var c=nw(s.alternate,s);if(c!==null){c.flags&=32767,tt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){tt=s;return}tt=s=c}while(s!==null);Lt=6,tt=null}function W4(s,o,c,h,g,_,T,z,V){s.cancelPendingCommit=null;do s0();while(gr!==0);if((dt&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(_=o.lanes|o.childLanes,_|=Qf,q9(s,c,_,T,z,V),s===wt&&(tt=wt=null,st=0),yo=o,ms=s,xo=c,r1=_,n1=g,H4=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,pw(W,function(){return n3(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,g=ie.p,ie.p=2,T=dt,dt|=4;try{aw(s,o,c)}finally{dt=T,ie.p=g,Y.T=h}}gr=1,J4(),e3(),t3()}}function J4(){if(gr===1){gr=0;var s=ms,o=yo,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var h=ie.p;ie.p=2;var g=dt;dt|=4;try{R4(o,s);var _=x1,T=$b(s.containerInfo),z=_.focusedElem,V=_.selectionRange;if(T!==z&&z&&z.ownerDocument&&Ib(z.ownerDocument.documentElement,z)){if(V!==null&&Gf(z)){var ee=V.start,de=V.end;if(de===void 0&&(de=ee),"selectionStart"in z)z.selectionStart=ee,z.selectionEnd=Math.min(de,z.value.length);else{var pe=z.ownerDocument||document,ne=pe&&pe.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Ge=z.textContent.length,Ue=Math.min(V.start,Ge),gt=V.end===void 0?Ue:Math.min(V.end,Ge);!ae.extend&&Ue>gt&&(T=gt,gt=Ue,Ue=T);var Q=Pb(z,Ue),K=Pb(z,gt);if(Q&&K&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var J=pe.createRange();J.setStart(Q.node,Q.offset),ae.removeAllRanges(),Ue>gt?(ae.addRange(J),ae.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),ae.addRange(J))}}}}for(pe=[],ae=z;ae=ae.parentNode;)ae.nodeType===1&&pe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<pe.length;z++){var fe=pe[z];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}g0=!!y1,x1=y1=null}finally{dt=g,ie.p=h,Y.T=c}}s.current=o,gr=2}}function e3(){if(gr===2){gr=0;var s=ms,o=yo,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var h=ie.p;ie.p=2;var g=dt;dt|=4;try{M4(s,o.alternate,o)}finally{dt=g,ie.p=h,Y.T=c}}gr=3}}function t3(){if(gr===4||gr===3){gr=0,Xa();var s=ms,o=yo,c=xo,h=H4;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?gr=5:(gr=0,yo=ms=null,r3(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(hs=null),Ef(c),o=o.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Ne,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Y.T,g=ie.p,ie.p=2,Y.T=null;try{for(var _=s.onRecoverableError,T=0;T<h.length;T++){var z=h[T];_(z.value,{componentStack:z.stack})}}finally{Y.T=o,ie.p=g}}(xo&3)!==0&&s0(),Yn(s),g=s.pendingLanes,(c&4194090)!==0&&(g&42)!==0?s===a1?Il++:(Il=0,a1=s):Il=0,$l(0)}}function r3(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,vl(o)))}function s0(s){return J4(),e3(),t3(),n3()}function n3(){if(gr!==5)return!1;var s=ms,o=r1;r1=0;var c=Ef(xo),h=Y.T,g=ie.p;try{ie.p=32>c?32:c,Y.T=null,c=n1,n1=null;var _=ms,T=xo;if(gr=0,yo=ms=null,xo=0,(dt&6)!==0)throw Error(n(331));var z=dt;if(dt|=4,I4(_.current),L4(_,_.current,T,c),dt=z,$l(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Ne,_)}catch{}return!0}finally{ie.p=g,Y.T=h,r3(s,o)}}function a3(s,o,c){o=mn(c,o),o=Fh(s.stateNode,o,2),s=as(s,o,2),s!==null&&(al(s,2),Yn(s))}function yt(s,o,c){if(s.tag===3)a3(s,s,c);else for(;o!==null;){if(o.tag===3){a3(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(hs===null||!hs.has(h))){s=mn(c,s),c=l4(2),h=as(o,c,2),h!==null&&(u4(c,h,o,s),al(h,2),Yn(h));break}}o=o.return}}function l1(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new ow;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(Wh=!0,g.add(c),s=fw.bind(null,s,o,c),o.then(s,s))}function fw(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,wt===s&&(st&c)===c&&(Lt===4||Lt===3&&(st&62914560)===st&&300>or()-t1?(dt&2)===0&&vo(s,0):Jh|=c,go===st&&(go=0)),Yn(s)}function s3(s,o){o===0&&(o=tb()),s=to(s,o),s!==null&&(al(s,o),Yn(s))}function hw(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),s3(s,c)}function mw(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),s3(s,c)}function pw(s,o){return tr(s,o)}var i0=null,wo=null,u1=!1,o0=!1,c1=!1,ii=0;function Yn(s){s!==wo&&s.next===null&&(wo===null?i0=wo=s:wo=wo.next=s),o0=!0,u1||(u1=!0,gw())}function $l(s,o){if(!c1&&o0){c1=!0;do for(var c=!1,h=i0;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var T=h.suspendedLanes,z=h.pingedLanes;_=(1<<31-_t(42|s)+1)-1,_&=g&~(T&~z),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,u3(h,_))}else _=st,_=Hs(h,h===wt?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||qs(h,_)||(c=!0,u3(h,_));h=h.next}while(c);c1=!1}}function bw(){i3()}function i3(){o0=u1=!1;var s=0;ii!==0&&(Ew()&&(s=ii),ii=0);for(var o=or(),c=null,h=i0;h!==null;){var g=h.next,_=o3(h,o);_===0?(h.next=null,c===null?i0=g:c.next=g,g===null&&(wo=c)):(c=h,(s!==0||(_&3)!==0)&&(o0=!0)),h=g}$l(s)}function o3(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var T=31-_t(_),z=1<<T,V=g[T];V===-1?((z&c)===0||(z&h)!==0)&&(g[T]=hc(z,o)):V<=o&&(s.expiredLanes|=z),_&=~z}if(o=wt,c=st,c=Hs(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===o&&(ft===2||ft===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Ar(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||qs(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(h!==null&&Ar(h),Ef(c)){case 2:case 8:c=P;break;case 32:c=W;break;case 268435456:c=Ce;break;default:c=W}return h=l3.bind(null,s),c=tr(c,h),s.callbackPriority=o,s.callbackNode=c,o}return h!==null&&h!==null&&Ar(h),s.callbackPriority=2,s.callbackNode=null,2}function l3(s,o){if(gr!==0&&gr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(s0()&&s.callbackNode!==c)return null;var h=st;return h=Hs(s,s===wt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(U4(s,h,o),o3(s,or()),s.callbackNode!=null&&s.callbackNode===c?l3.bind(null,s):null)}function u3(s,o){if(s0())return null;U4(s,o,!0)}function gw(){Cw(function(){(dt&6)!==0?tr(Re,bw):i3()})}function d1(){return ii===0&&(ii=eb()),ii}function c3(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yc(""+s)}function d3(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function yw(s,o,c,h,g){if(o==="submit"&&c&&c.stateNode===g){var _=c3((g[zr]||null).action),T=h.submitter;T&&(o=(o=T[zr]||null)?c3(o.formAction):T.getAttribute("formAction"),o!==null&&(_=o,T=null));var z=new wc("action","action",null,h,g);s.push({event:z,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ii!==0){var V=T?d3(g,T):new FormData(g);Mh(c,{pending:!0,data:V,method:g.method,action:_},null,V)}}else typeof _=="function"&&(z.preventDefault(),V=T?d3(g,T):new FormData(g),Mh(c,{pending:!0,data:V,method:g.method,action:_},_,V))},currentTarget:g}]})}}for(var f1=0;f1<Xf.length;f1++){var h1=Xf[f1],xw=h1.toLowerCase(),vw=h1[0].toUpperCase()+h1.slice(1);Tn(xw,"on"+vw)}Tn(Ub,"onAnimationEnd"),Tn(Vb,"onAnimationIteration"),Tn(Gb,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(L_,"onTransitionRun"),Tn(B_,"onTransitionStart"),Tn(P_,"onTransitionCancel"),Tn(Zb,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Us("onBeforeInput",["compositionend","keypress","textInput","paste"]),Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function f3(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var T=h.length-1;0<=T;T--){var z=h[T],V=z.instance,ee=z.currentTarget;if(z=z.listener,V!==_&&g.isPropagationStopped())break e;_=z,g.currentTarget=ee;try{_(g)}catch(de){Kc(de)}g.currentTarget=null,_=V}else for(T=0;T<h.length;T++){if(z=h[T],V=z.instance,ee=z.currentTarget,z=z.listener,V!==_&&g.isPropagationStopped())break e;_=z,g.currentTarget=ee;try{_(g)}catch(de){Kc(de)}g.currentTarget=null,_=V}}}}function rt(s,o){var c=o[Af];c===void 0&&(c=o[Af]=new Set);var h=s+"__bubble";c.has(h)||(h3(o,s,2,!1),c.add(h))}function m1(s,o,c){var h=0;o&&(h|=4),h3(c,s,h,o)}var l0="_reactListening"+Math.random().toString(36).slice(2);function p1(s){if(!s[l0]){s[l0]=!0,ib.forEach(function(c){c!=="selectionchange"&&(_w.has(c)||m1(c,!1,s),m1(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[l0]||(o[l0]=!0,m1("selectionchange",!1,o))}}function h3(s,o,c,h){switch(L3(o)){case 2:var g=Kw;break;case 8:g=Yw;break;default:g=N1}c=g.bind(null,o,c,s),g=void 0,!Lf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function b1(s,o,c,h,g){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var z=h.stateNode.containerInfo;if(z===g)break;if(T===4)for(T=h.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;z!==null;){if(T=Hi(z),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){h=_=T;continue e}z=z.parentNode}}h=h.return}vb(function(){var ee=_,de=Rf(c),pe=[];e:{var ne=Kb.get(s);if(ne!==void 0){var ae=wc,Ge=s;switch(s){case"keypress":if(vc(c)===0)break e;case"keydown":case"keyup":ae=p_;break;case"focusin":Ge="focus",ae=$f;break;case"focusout":Ge="blur",ae=$f;break;case"beforeblur":case"afterblur":ae=$f;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=kb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=n_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=y_;break;case Ub:case Vb:case Gb:ae=i_;break;case Zb:ae=v_;break;case"scroll":case"scrollend":ae=t_;break;case"wheel":ae=w_;break;case"copy":case"cut":case"paste":ae=l_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Eb;break;case"toggle":case"beforetoggle":ae=S_}var Ue=(o&4)!==0,gt=!Ue&&(s==="scroll"||s==="scrollend"),Q=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var K=ee,J;K!==null;){var fe=K;if(J=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||J===null||Q===null||(fe=ol(K,Q),fe!=null&&Ue.push(ql(K,fe,J))),gt)break;K=K.return}0<Ue.length&&(ne=new ae(ne,Ge,null,c,de),pe.push({event:ne,listeners:Ue}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",ne&&c!==Of&&(Ge=c.relatedTarget||c.fromElement)&&(Hi(Ge)||Ge[$i]))break e;if((ae||ne)&&(ne=de.window===de?de:(ne=de.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Ge=c.relatedTarget||c.toElement,ae=ee,Ge=Ge?Hi(Ge):null,Ge!==null&&(gt=i(Ge),Ue=Ge.tag,Ge!==gt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ge=null)):(ae=null,Ge=ee),ae!==Ge)){if(Ue=kb,fe="onMouseLeave",Q="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=Eb,fe="onPointerLeave",Q="onPointerEnter",K="pointer"),gt=ae==null?ne:il(ae),J=Ge==null?ne:il(Ge),ne=new Ue(fe,K+"leave",ae,c,de),ne.target=gt,ne.relatedTarget=J,fe=null,Hi(de)===ee&&(Ue=new Ue(Q,K+"enter",Ge,c,de),Ue.target=J,Ue.relatedTarget=gt,fe=Ue),gt=fe,ae&&Ge)t:{for(Ue=ae,Q=Ge,K=0,J=Ue;J;J=ko(J))K++;for(J=0,fe=Q;fe;fe=ko(fe))J++;for(;0<K-J;)Ue=ko(Ue),K--;for(;0<J-K;)Q=ko(Q),J--;for(;K--;){if(Ue===Q||Q!==null&&Ue===Q.alternate)break t;Ue=ko(Ue),Q=ko(Q)}Ue=null}else Ue=null;ae!==null&&m3(pe,ne,ae,Ue,!1),Ge!==null&&gt!==null&&m3(pe,gt,Ge,Ue,!0)}}e:{if(ne=ee?il(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Fe=zb;else if(Mb(ne))if(Ob)Fe=O_;else{Fe=j_;var et=M_}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&zf(ee.elementType)&&(Fe=zb):Fe=z_;if(Fe&&(Fe=Fe(s,ee))){jb(pe,Fe,c,de);break e}et&&et(s,ne,ee),s==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&jf(ne,"number",ne.value)}switch(et=ee?il(ee):window,s){case"focusin":(Mb(et)||et.contentEditable==="true")&&(Wi=et,Zf=ee,pl=null);break;case"focusout":pl=Zf=Wi=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Hb(pe,c,de);break;case"selectionchange":if(F_)break;case"keydown":case"keyup":Hb(pe,c,de)}var Pe;if(qf)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Qi?Nb(s,c)&&(Ve="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ab&&c.locale!=="ko"&&(Qi||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Qi&&(Pe=_b()):(es=de,Bf="value"in es?es.value:es.textContent,Qi=!0)),et=u0(ee,Ve),0<et.length&&(Ve=new Sb(Ve,s,null,c,de),pe.push({event:Ve,listeners:et}),Pe?Ve.data=Pe:(Pe=Db(c),Pe!==null&&(Ve.data=Pe)))),(Pe=A_?C_(s,c):T_(s,c))&&(Ve=u0(ee,"onBeforeInput"),0<Ve.length&&(et=new Sb("onBeforeInput","beforeinput",null,c,de),pe.push({event:et,listeners:Ve}),et.data=Pe)),yw(pe,s,ee,c,de)}f3(pe,o)})}function ql(s,o,c){return{instance:s,listener:o,currentTarget:c}}function u0(s,o){for(var c=o+"Capture",h=[];s!==null;){var g=s,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=ol(s,c),g!=null&&h.unshift(ql(s,g,_)),g=ol(s,o),g!=null&&h.push(ql(s,g,_))),s.tag===3)return h;s=s.return}return[]}function ko(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function m3(s,o,c,h,g){for(var _=o._reactName,T=[];c!==null&&c!==h;){var z=c,V=z.alternate,ee=z.stateNode;if(z=z.tag,V!==null&&V===h)break;z!==5&&z!==26&&z!==27||ee===null||(V=ee,g?(ee=ol(c,_),ee!=null&&T.unshift(ql(c,ee,V))):g||(ee=ol(c,_),ee!=null&&T.push(ql(c,ee,V)))),c=c.return}T.length!==0&&s.push({event:o,listeners:T})}var ww=/\r\n?/g,kw=/\u0000|\uFFFD/g;function p3(s){return(typeof s=="string"?s:""+s).replace(ww,`
`).replace(kw,"")}function b3(s,o){return o=p3(o),p3(s)===o}function c0(){}function bt(s,o,c,h,g,_){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Ki(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Ki(s,""+h);break;case"className":pc(s,"class",h);break;case"tabIndex":pc(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":pc(s,c,h);break;case"style":yb(s,h,_);break;case"data":if(o!=="object"){pc(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=yc(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&bt(s,o,"name",g.name,g,null),bt(s,o,"formEncType",g.formEncType,g,null),bt(s,o,"formMethod",g.formMethod,g,null),bt(s,o,"formTarget",g.formTarget,g,null)):(bt(s,o,"encType",g.encType,g,null),bt(s,o,"method",g.method,g,null),bt(s,o,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=yc(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=c0);break;case"onScroll":h!=null&&rt("scroll",s);break;case"onScrollEnd":h!=null&&rt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=yc(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":rt("beforetoggle",s),rt("toggle",s),mc(s,"popover",h);break;case"xlinkActuate":ya(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ya(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ya(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ya(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ya(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ya(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ya(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ya(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ya(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":mc(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=J9.get(c)||c,mc(s,c,h))}}function g1(s,o,c,h,g,_){switch(c){case"style":yb(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Ki(s,h):(typeof h=="number"||typeof h=="bigint")&&Ki(s,""+h);break;case"onScroll":h!=null&&rt("scroll",s);break;case"onScrollEnd":h!=null&&rt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=c0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ob.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),o=c.slice(2,g?c.length-7:void 0),_=s[zr]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(o,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,h,g);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):mc(s,c,h)}}}function yr(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",s),rt("load",s);var h=!1,g=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var T=c[_];if(T!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:bt(s,o,_,T,c,null)}}g&&bt(s,o,"srcSet",c.srcSet,c,null),h&&bt(s,o,"src",c.src,c,null);return;case"input":rt("invalid",s);var z=_=T=g=null,V=null,ee=null;for(h in c)if(c.hasOwnProperty(h)){var de=c[h];if(de!=null)switch(h){case"name":g=de;break;case"type":T=de;break;case"checked":V=de;break;case"defaultChecked":ee=de;break;case"value":_=de;break;case"defaultValue":z=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:bt(s,o,h,de,c,null)}}mb(s,_,z,V,ee,T,g,!1),bc(s);return;case"select":rt("invalid",s),h=T=_=null;for(g in c)if(c.hasOwnProperty(g)&&(z=c[g],z!=null))switch(g){case"value":_=z;break;case"defaultValue":T=z;break;case"multiple":h=z;default:bt(s,o,g,z,c,null)}o=_,c=T,s.multiple=!!h,o!=null?Zi(s,!!h,o,!1):c!=null&&Zi(s,!!h,c,!0);return;case"textarea":rt("invalid",s),_=g=h=null;for(T in c)if(c.hasOwnProperty(T)&&(z=c[T],z!=null))switch(T){case"value":h=z;break;case"defaultValue":g=z;break;case"children":_=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:bt(s,o,T,z,c,null)}bb(s,h,g,_),bc(s);return;case"option":for(V in c)if(c.hasOwnProperty(V)&&(h=c[V],h!=null))switch(V){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:bt(s,o,V,h,c,null)}return;case"dialog":rt("beforetoggle",s),rt("toggle",s),rt("cancel",s),rt("close",s);break;case"iframe":case"object":rt("load",s);break;case"video":case"audio":for(h=0;h<Hl.length;h++)rt(Hl[h],s);break;case"image":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"embed":case"source":case"link":rt("error",s),rt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(h=c[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:bt(s,o,ee,h,c,null)}return;default:if(zf(o)){for(de in c)c.hasOwnProperty(de)&&(h=c[de],h!==void 0&&g1(s,o,de,h,c,void 0));return}}for(z in c)c.hasOwnProperty(z)&&(h=c[z],h!=null&&bt(s,o,z,h,c,null))}function Sw(s,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,T=null,z=null,V=null,ee=null,de=null;for(ae in c){var pe=c[ae];if(c.hasOwnProperty(ae)&&pe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":V=pe;default:h.hasOwnProperty(ae)||bt(s,o,ae,null,h,pe)}}for(var ne in h){var ae=h[ne];if(pe=c[ne],h.hasOwnProperty(ne)&&(ae!=null||pe!=null))switch(ne){case"type":_=ae;break;case"name":g=ae;break;case"checked":ee=ae;break;case"defaultChecked":de=ae;break;case"value":T=ae;break;case"defaultValue":z=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,o));break;default:ae!==pe&&bt(s,o,ne,ae,h,pe)}}Mf(s,T,z,V,ee,de,_,g);return;case"select":ae=T=z=ne=null;for(_ in c)if(V=c[_],c.hasOwnProperty(_)&&V!=null)switch(_){case"value":break;case"multiple":ae=V;default:h.hasOwnProperty(_)||bt(s,o,_,null,h,V)}for(g in h)if(_=h[g],V=c[g],h.hasOwnProperty(g)&&(_!=null||V!=null))switch(g){case"value":ne=_;break;case"defaultValue":z=_;break;case"multiple":T=_;default:_!==V&&bt(s,o,g,_,h,V)}o=z,c=T,h=ae,ne!=null?Zi(s,!!c,ne,!1):!!h!=!!c&&(o!=null?Zi(s,!!c,o,!0):Zi(s,!!c,c?[]:"",!1));return;case"textarea":ae=ne=null;for(z in c)if(g=c[z],c.hasOwnProperty(z)&&g!=null&&!h.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:bt(s,o,z,null,h,g)}for(T in h)if(g=h[T],_=c[T],h.hasOwnProperty(T)&&(g!=null||_!=null))switch(T){case"value":ne=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==_&&bt(s,o,T,g,h,_)}pb(s,ne,ae);return;case"option":for(var Ge in c)if(ne=c[Ge],c.hasOwnProperty(Ge)&&ne!=null&&!h.hasOwnProperty(Ge))switch(Ge){case"selected":s.selected=!1;break;default:bt(s,o,Ge,null,h,ne)}for(V in h)if(ne=h[V],ae=c[V],h.hasOwnProperty(V)&&ne!==ae&&(ne!=null||ae!=null))switch(V){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:bt(s,o,V,ne,h,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in c)ne=c[Ue],c.hasOwnProperty(Ue)&&ne!=null&&!h.hasOwnProperty(Ue)&&bt(s,o,Ue,null,h,ne);for(ee in h)if(ne=h[ee],ae=c[ee],h.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,o));break;default:bt(s,o,ee,ne,h,ae)}return;default:if(zf(o)){for(var gt in c)ne=c[gt],c.hasOwnProperty(gt)&&ne!==void 0&&!h.hasOwnProperty(gt)&&g1(s,o,gt,void 0,h,ne);for(de in h)ne=h[de],ae=c[de],!h.hasOwnProperty(de)||ne===ae||ne===void 0&&ae===void 0||g1(s,o,de,ne,h,ae);return}}for(var Q in c)ne=c[Q],c.hasOwnProperty(Q)&&ne!=null&&!h.hasOwnProperty(Q)&&bt(s,o,Q,null,h,ne);for(pe in h)ne=h[pe],ae=c[pe],!h.hasOwnProperty(pe)||ne===ae||ne==null&&ae==null||bt(s,o,pe,ne,h,ae)}var y1=null,x1=null;function d0(s){return s.nodeType===9?s:s.ownerDocument}function g3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y3(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function v1(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _1=null;function Ew(){var s=window.event;return s&&s.type==="popstate"?s===_1?!1:(_1=s,!0):(_1=null,!1)}var x3=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,v3=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof v3<"u"?function(s){return v3.resolve(null).then(s).catch(Tw)}:x3;function Tw(s){setTimeout(function(){throw s})}function bs(s){return s==="head"}function _3(s,o){var c=o,h=0,g=0;do{var _=c.nextSibling;if(s.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<h&&8>h){c=h;var T=s.ownerDocument;if(c&1&&Ul(T.documentElement),c&2&&Ul(T.body),c&4)for(c=T.head,Ul(c),T=c.firstChild;T;){var z=T.nextSibling,V=T.nodeName;T[sl]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=z}}if(g===0){s.removeChild(_),Wl(o);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:h=c.charCodeAt(0)-48;else h=0;c=_}while(c);Wl(o)}function w1(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":w1(c),Cf(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function Nw(s,o,c,h){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[sl])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Dn(s.nextSibling),s===null)break}return null}function Dw(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Dn(s.nextSibling),s===null))return null;return s}function k1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Mw(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Dn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var S1=null;function w3(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function k3(s,o,c){switch(o=d0(c),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Ul(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Cf(s)}var vn=new Map,S3=new Set;function f0(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ja=ie.d;ie.d={f:jw,r:zw,D:Ow,C:Rw,L:Fw,m:Lw,X:Pw,S:Bw,M:Iw};function jw(){var s=ja.f(),o=n0();return s||o}function zw(s){var o=qi(s);o!==null&&o.tag===5&&o.type==="form"?Ug(o):ja.r(s)}var So=typeof document>"u"?null:document;function E3(s,o,c){var h=So;if(h&&typeof o=="string"&&o){var g=hn(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),S3.has(g)||(S3.add(g),s={rel:s,crossOrigin:c,href:o},h.querySelector(g)===null&&(o=h.createElement("link"),yr(o,"link",s),lr(o),h.head.appendChild(o)))}}function Ow(s){ja.D(s),E3("dns-prefetch",s,null)}function Rw(s,o){ja.C(s,o),E3("preconnect",s,o)}function Fw(s,o,c){ja.L(s,o,c);var h=So;if(h&&s&&o){var g='link[rel="preload"][as="'+hn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+hn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+hn(c.imageSizes)+'"]')):g+='[href="'+hn(s)+'"]';var _=g;switch(o){case"style":_=Eo(s);break;case"script":_=Ao(s)}vn.has(_)||(s=m({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),vn.set(_,s),h.querySelector(g)!==null||o==="style"&&h.querySelector(Vl(_))||o==="script"&&h.querySelector(Gl(_))||(o=h.createElement("link"),yr(o,"link",s),lr(o),h.head.appendChild(o)))}}function Lw(s,o){ja.m(s,o);var c=So;if(c&&s){var h=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+hn(h)+'"][href="'+hn(s)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ao(s)}if(!vn.has(_)&&(s=m({rel:"modulepreload",href:s},o),vn.set(_,s),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gl(_)))return}h=c.createElement("link"),yr(h,"link",s),lr(h),c.head.appendChild(h)}}}function Bw(s,o,c){ja.S(s,o,c);var h=So;if(h&&s){var g=Ui(h).hoistableStyles,_=Eo(s);o=o||"default";var T=g.get(_);if(!T){var z={loading:0,preload:null};if(T=h.querySelector(Vl(_)))z.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},c),(c=vn.get(_))&&E1(s,c);var V=T=h.createElement("link");lr(V),yr(V,"link",s),V._p=new Promise(function(ee,de){V.onload=ee,V.onerror=de}),V.addEventListener("load",function(){z.loading|=1}),V.addEventListener("error",function(){z.loading|=2}),z.loading|=4,h0(T,o,h)}T={type:"stylesheet",instance:T,count:1,state:z},g.set(_,T)}}}function Pw(s,o){ja.X(s,o);var c=So;if(c&&s){var h=Ui(c).hoistableScripts,g=Ao(s),_=h.get(g);_||(_=c.querySelector(Gl(g)),_||(s=m({src:s,async:!0},o),(o=vn.get(g))&&A1(s,o),_=c.createElement("script"),lr(_),yr(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function Iw(s,o){ja.M(s,o);var c=So;if(c&&s){var h=Ui(c).hoistableScripts,g=Ao(s),_=h.get(g);_||(_=c.querySelector(Gl(g)),_||(s=m({src:s,async:!0,type:"module"},o),(o=vn.get(g))&&A1(s,o),_=c.createElement("script"),lr(_),yr(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function A3(s,o,c,h){var g=(g=ze.current)?f0(g):null;if(!g)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Eo(c.href),c=Ui(g).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Eo(c.href);var _=Ui(g).hoistableStyles,T=_.get(s);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,T),(_=g.querySelector(Vl(s)))&&!_._p&&(T.instance=_,T.state.loading=5),vn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},vn.set(s,c),_||$w(g,s,c,T.state))),o&&h===null)throw Error(n(528,""));return T}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ao(c),c=Ui(g).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Eo(s){return'href="'+hn(s)+'"'}function Vl(s){return'link[rel="stylesheet"]['+s+"]"}function C3(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function $w(s,o,c,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),yr(o,"link",c),lr(o),s.head.appendChild(o))}function Ao(s){return'[src="'+hn(s)+'"]'}function Gl(s){return"script[async]"+s}function T3(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+hn(c.href)+'"]');if(h)return o.instance=h,lr(h),h;var g=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),lr(h),yr(h,"style",g),h0(h,c.precedence,s),o.instance=h;case"stylesheet":g=Eo(c.href);var _=s.querySelector(Vl(g));if(_)return o.state.loading|=4,o.instance=_,lr(_),_;h=C3(c),(g=vn.get(g))&&E1(h,g),_=(s.ownerDocument||s).createElement("link"),lr(_);var T=_;return T._p=new Promise(function(z,V){T.onload=z,T.onerror=V}),yr(_,"link",h),o.state.loading|=4,h0(_,c.precedence,s),o.instance=_;case"script":return _=Ao(c.src),(g=s.querySelector(Gl(_)))?(o.instance=g,lr(g),g):(h=c,(g=vn.get(_))&&(h=m({},c),A1(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),lr(g),yr(g,"link",h),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,h0(h,c.precedence,s));return o.instance}function h0(s,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,T=0;T<h.length;T++){var z=h[T];if(z.dataset.precedence===o)_=z;else if(_!==g)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function E1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function A1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var m0=null;function N3(s,o,c){if(m0===null){var h=new Map,g=m0=new Map;g.set(c,h)}else g=m0,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var _=c[g];if(!(_[sl]||_[_r]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var T=_.getAttribute(o)||"";T=s+T;var z=h.get(T);z?z.push(_):h.set(T,[_])}}return h}function D3(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function Hw(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function M3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Zl=null;function qw(){}function Uw(s,o,c){if(Zl===null)throw Error(n(475));var h=Zl;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Eo(c.href),_=s.querySelector(Vl(g));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=p0.bind(h),s.then(h,h)),o.state.loading|=4,o.instance=_,lr(_);return}_=s.ownerDocument||s,c=C3(c),(g=vn.get(g))&&E1(c,g),_=_.createElement("link"),lr(_);var T=_;T._p=new Promise(function(z,V){T.onload=z,T.onerror=V}),yr(_,"link",c),o.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=p0.bind(h),s.addEventListener("load",o),s.addEventListener("error",o))}}function Vw(){if(Zl===null)throw Error(n(475));var s=Zl;return s.stylesheets&&s.count===0&&C1(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&C1(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function p0(){if(this.count--,this.count===0){if(this.stylesheets)C1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var b0=null;function C1(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,b0=new Map,o.forEach(Gw,s),b0=null,p0.call(s))}function Gw(s,o){if(!(o.state.loading&4)){var c=b0.get(s);if(c)var h=c.get(null);else{c=new Map,b0.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var T=g[_];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),h=T)}h&&c.set(null,h)}g=o.instance,T=g.getAttribute("data-precedence"),_=c.get(T)||h,_===h&&c.set(null,g),c.set(T,g),this.count++,h=p0.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var Kl={$$typeof:j,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function Zw(s,o,c,h,g,_,T,z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.hiddenUpdates=kf(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function j3(s,o,c,h,g,_,T,z,V,ee,de,pe){return s=new Zw(s,o,c,T,z,V,ee,pe),o=1,_===!0&&(o|=24),_=Yr(3,null,null,o),s.current=_,_.stateNode=s,o=lh(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:o},fh(_),s}function z3(s){return s?(s=ro,s):ro}function O3(s,o,c,h,g,_){g=z3(g),h.context===null?h.context=g:h.pendingContext=g,h=ns(o),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=as(s,h,o),c!==null&&(en(c,s,o),Sl(c,s,o))}function R3(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function T1(s,o){R3(s,o),(s=s.alternate)&&R3(s,o)}function F3(s){if(s.tag===13){var o=to(s,67108864);o!==null&&en(o,s,67108864),T1(s,67108864)}}var g0=!0;function Kw(s,o,c,h){var g=Y.T;Y.T=null;var _=ie.p;try{ie.p=2,N1(s,o,c,h)}finally{ie.p=_,Y.T=g}}function Yw(s,o,c,h){var g=Y.T;Y.T=null;var _=ie.p;try{ie.p=8,N1(s,o,c,h)}finally{ie.p=_,Y.T=g}}function N1(s,o,c,h){if(g0){var g=D1(h);if(g===null)b1(s,o,h,y0,c),B3(s,h);else if(Qw(g,s,o,c,h))h.stopPropagation();else if(B3(s,h),o&4&&-1<Xw.indexOf(s)){for(;g!==null;){var _=qi(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var T=ga(_.pendingLanes);if(T!==0){var z=_;for(z.pendingLanes|=2,z.entangledLanes|=2;T;){var V=1<<31-_t(T);z.entanglements[1]|=V,T&=~V}Yn(_),(dt&6)===0&&(t0=or()+500,$l(0))}}break;case 13:z=to(_,2),z!==null&&en(z,_,2),n0(),T1(_,2)}if(_=D1(h),_===null&&b1(s,o,h,y0,c),_===g)break;g=_}g!==null&&h.stopPropagation()}else b1(s,o,h,null,c)}}function D1(s){return s=Rf(s),M1(s)}var y0=null;function M1(s){if(y0=null,s=Hi(s),s!==null){var o=i(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return y0=s,null}function L3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case Re:return 2;case P:return 8;case W:case oe:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var j1=!1,gs=null,ys=null,xs=null,Yl=new Map,Xl=new Map,vs=[],Xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B3(s,o){switch(s){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Yl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(o.pointerId)}}function Ql(s,o,c,h,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},o!==null&&(o=qi(o),o!==null&&F3(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Qw(s,o,c,h,g){switch(o){case"focusin":return gs=Ql(gs,s,o,c,h,g),!0;case"dragenter":return ys=Ql(ys,s,o,c,h,g),!0;case"mouseover":return xs=Ql(xs,s,o,c,h,g),!0;case"pointerover":var _=g.pointerId;return Yl.set(_,Ql(Yl.get(_)||null,s,o,c,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Xl.set(_,Ql(Xl.get(_)||null,s,o,c,h,g)),!0}return!1}function P3(s){var o=Hi(s.target);if(o!==null){var c=i(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,U9(s.priority,function(){if(c.tag===13){var h=Jr();h=Sf(h);var g=to(c,h);g!==null&&en(g,c,h),T1(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function x0(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=D1(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Of=h,c.target.dispatchEvent(h),Of=null}else return o=qi(c),o!==null&&F3(o),s.blockedOn=c,!1;o.shift()}return!0}function I3(s,o,c){x0(s)&&c.delete(o)}function Ww(){j1=!1,gs!==null&&x0(gs)&&(gs=null),ys!==null&&x0(ys)&&(ys=null),xs!==null&&x0(xs)&&(xs=null),Yl.forEach(I3),Xl.forEach(I3)}function v0(s,o){s.blockedOn===o&&(s.blockedOn=null,j1||(j1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ww)))}var _0=null;function $3(s){_0!==s&&(_0=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_0===s&&(_0=null);for(var o=0;o<s.length;o+=3){var c=s[o],h=s[o+1],g=s[o+2];if(typeof h!="function"){if(M1(h||c)===null)continue;break}var _=qi(c);_!==null&&(s.splice(o,3),o-=3,Mh(_,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Wl(s){function o(V){return v0(V,s)}gs!==null&&v0(gs,s),ys!==null&&v0(ys,s),xs!==null&&v0(xs,s),Yl.forEach(o),Xl.forEach(o);for(var c=0;c<vs.length;c++){var h=vs[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<vs.length&&(c=vs[0],c.blockedOn===null);)P3(c),c.blockedOn===null&&vs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],_=c[h+1],T=g[zr]||null;if(typeof _=="function")T||$3(c);else if(T){var z=null;if(_&&_.hasAttribute("formAction")){if(g=_,T=_[zr]||null)z=T.formAction;else if(M1(g)!==null)continue}else z=T.action;typeof z=="function"?c[h+1]=z:(c.splice(h,3),h-=3),$3(c)}}}function z1(s){this._internalRoot=s}w0.prototype.render=z1.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,h=Jr();O3(c,h,s,o,null,null)},w0.prototype.unmount=z1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;O3(s.current,2,null,s,null,null),n0(),o[$i]=null}};function w0(s){this._internalRoot=s}w0.prototype.unstable_scheduleHydration=function(s){if(s){var o=ab();s={blockedOn:null,target:s,priority:o};for(var c=0;c<vs.length&&o!==0&&o<vs[c].priority;c++);vs.splice(c,0,s),c===0&&P3(s)}};var H3=t.version;if(H3!=="19.1.0")throw Error(n(527,H3,"19.1.0"));ie.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=d(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var Jw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k0.isDisabled&&k0.supportsFiber)try{Ne=k0.inject(Jw),Ke=k0}catch{}}return eu.createRoot=function(s,o){if(!a(s))throw Error(n(299));var c=!1,h="",g=a4,_=s4,T=i4,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks)),o=j3(s,1,!1,null,null,c,h,g,_,T,z,null),s[$i]=o.current,p1(s),new z1(o)},eu.hydrateRoot=function(s,o,c){if(!a(s))throw Error(n(299));var h=!1,g="",_=a4,T=s4,z=i4,V=null,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(V=c.unstable_transitionCallbacks),c.formState!==void 0&&(ee=c.formState)),o=j3(s,1,!0,o,c??null,h,g,_,T,z,V,ee),o.context=z3(null),c=o.current,h=Jr(),h=Sf(h),g=ns(h),g.callback=null,as(c,g,h),c=h,o.current.lanes=c,al(o,c),Yn(o),s[$i]=o.current,p1(s),new w0(o)},eu.version="19.1.0",eu}var W3;function lk(){if(W3)return F1.exports;W3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),F1.exports=ok(),F1.exports}var uk=lk();const ck=Tp(uk);var Ko=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ci=typeof window>"u"||"Deno"in globalThis;function Nr(){}function dk(e,t){return typeof e=="function"?e(t):e}function Rm(e){return typeof e=="number"&&e>=0&&e!==1/0}function R5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zs(e,t){return typeof e=="function"?e(t):e}function jn(e,t){return typeof e=="function"?e(t):e}function J3(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==Dp(l,t.options))return!1}else if(!Mu(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||i&&!i(t))}function ey(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ti(t.options.mutationKey)!==Ti(i))return!1}else if(!Mu(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Dp(e,t){return(t?.queryKeyHashFn||Ti)(e)}function Ti(e){return JSON.stringify(e,(t,r)=>Fm(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Mu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Mu(e[r],t[r])):!1}function F5(e,t){if(e===t)return e;const r=ty(e)&&ty(t);if(r||Fm(e)&&Fm(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),l=i.length,u=r?[]:{},d=new Set(n);let f=0;for(let m=0;m<l;m++){const b=r?m:i[m];(!r&&d.has(b)||r)&&e[b]===void 0&&t[b]===void 0?(u[b]=void 0,f++):(u[b]=F5(e[b],t[b]),u[b]===e[b]&&e[b]!==void 0&&f++)}return a===l&&f===a?e:u}return t}function gd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ty(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fm(e){if(!ry(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ry(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ry(e){return Object.prototype.toString.call(e)==="[object Object]"}function fk(e){return new Promise(t=>{setTimeout(t,e)})}function Lm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?F5(e,t):t}function hk(e){return e}function mk(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function pk(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Mp=Symbol();function L5(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Mp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function B5(e,t){return typeof e=="function"?e(...t):!!e}var bk=class extends Ko{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Ci&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},jp=new bk,gk=class extends Ko{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Ci&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},yd=new gk;function Bm(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function yk(e){return Math.min(1e3*2**e,3e4)}function P5(e){return(e??"online")==="online"?yd.isOnline():!0}var I5=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function I1(e){return e instanceof I5}function $5(e){let t=!1,r=0,n=!1,a;const i=Bm(),l=w=>{n||(y(new I5(w)),e.abort?.())},u=()=>{t=!0},d=()=>{t=!1},f=()=>jp.isFocused()&&(e.networkMode==="always"||yd.isOnline())&&e.canRun(),m=()=>P5(e.networkMode)&&e.canRun(),b=w=>{n||(n=!0,e.onSuccess?.(w),a?.(),i.resolve(w))},y=w=>{n||(n=!0,e.onError?.(w),a?.(),i.reject(w))},v=()=>new Promise(w=>{a=k=>{(n||f())&&w(k)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),x=()=>{if(n)return;let w;const k=r===0?e.initialPromise:void 0;try{w=k??e.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(b).catch(E=>{if(n)return;const C=e.retry??(Ci?0:3),j=e.retryDelay??yk,F=typeof j=="function"?j(r,E):j,D=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,E);if(t||!D){y(E);return}r++,e.onFail?.(r,E),fk(F).then(()=>f()?void 0:v()).then(()=>{t?y(E):x()})})};return{promise:i,cancel:l,continue:()=>(a?.(),i),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?x():v().then(x),i)}}var xk=e=>setTimeout(e,0);function vk(){let e=[],t=0,r=u=>{u()},n=u=>{u()},a=xk;const i=u=>{t?e.push(u):a(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&a(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{i(()=>{u(...d)})},schedule:i,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var sr=vk(),H5=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rm(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ci?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},_k=class extends H5{#t;#e;#r;#n;#a;#i;#s;constructor(e){super(),this.#s=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=wk(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=Lm(this.state.data,e,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>jn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>zs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!R5(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#s?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},a=()=>{const d=L5(this.options,t),m=(()=>{const b={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(b),b})();return this.#s=!1,this.options.persister?this.options.persister(d,m,this):d(m)},l=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(d),d})();this.options.behavior?.onFetch(l,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#o({type:"fetch",meta:l.fetchOptions?.meta});const u=d=>{I1(d)&&d.silent||this.#o({type:"error",error:d}),I1(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#a=$5({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){u(f);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,f)=>{this.#o({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#a.start()}#o(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...q5(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return I1(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),sr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function q5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var kk=class extends Ko{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,a=t.queryHash??Dp(n,t);let i=this.get(a);return i||(i=new _k({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>J3(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>J3(e,r)):t}notify(e){sr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){sr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sk=class extends H5{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||U5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=$5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const a=await this.#r.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),sr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function U5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ek=class extends Ko{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new Sk({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=S0(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=S0(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=S0(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=S0(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){sr.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ey(t,r))}findAll(e={}){return this.getAll().filter(t=>ey(e,t))}notify(e){sr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return sr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Nr))))}};function S0(e){return e.options.scope?.id}function ny(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let m=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=L5(t.options,t.fetchOptions),v=async(x,w,k)=>{if(m)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:w,direction:k?"backward":"forward",meta:t.options.meta};return b(O),O})(),j=await y(C),{maxPages:F}=t.options,D=k?pk:mk;return{pages:D(x.pages,j,F),pageParams:D(x.pageParams,w,F)}};if(a&&i.length){const x=a==="backward",w=x?Ak:ay,k={pages:i,pageParams:l},E=w(n,k);u=await v(k,E,x)}else{const x=e??i.length;do{const w=d===0?l[0]??n.initialPageParam:ay(n,u);if(d>0&&w==null)break;u=await v(u,w),d++}while(d<x)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function ay(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Ak(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Ck=class{#t;#e;#r;#n;#a;#i;#s;#o;constructor(e={}){this.#t=e.queryCache||new kk,this.#e=e.mutationCache||new Ek,this.#r=e.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=jp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=yd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(zs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,l=dk(t,i);if(l!==void 0)return this.#t.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return sr.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;sr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return sr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=sr.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Nr).catch(Nr)}invalidateQueries(e,t={}){return sr.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=sr.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Nr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(zs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nr).catch(Nr)}fetchInfiniteQuery(e){return e.behavior=ny(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nr).catch(Nr)}ensureInfiniteQueryData(e){return e.behavior=ny(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yd.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ti(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Mu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#a.set(Ti(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Mu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Mp&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Tk=class extends Ko{constructor(e,t){super(),this.options=t,this.#t=e,this.#o=null,this.#s=Bm(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#a;#i;#s;#o;#p;#f;#h;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),sy(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pm(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pm(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#_(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),t._defaulted&&!gd(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&iy(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||jn(this.options.enabled,this.#e)!==jn(t.enabled,this.#e)||zs(this.options.staleTime,this.#e)!==zs(t.staleTime,this.#e))&&this.#b();const a=this.#g();n&&(this.#e!==r||jn(this.options.enabled,this.#e)!==jn(t.enabled,this.#e)||a!==this.#l)&&this.#y(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Dk(this,r)&&(this.#n=r,this.#i=this.options,this.#a=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#w();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Nr)),t}#b(){this.#v();const e=zs(this.options.staleTime,this.#e);if(Ci||this.#n.isStale||!Rm(e))return;const r=R5(this.#n.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#l=e,!(Ci||jn(this.options.enabled,this.#e)===!1||!Rm(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||jp.isFocused())&&this.#d()},this.#l))}#x(){this.#b(),this.#y(this.#g())}#v(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const r=this.#e,n=this.options,a=this.#n,i=this.#a,l=this.#i,d=e!==r?e.state:this.#r,{state:f}=e;let m={...f},b=!1,y;if(t._optimisticResults){const B=this.hasListeners(),Z=!B&&sy(e,t),G=B&&iy(e,r,t,n);(Z||G)&&(m={...m,...q5(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:w}=m;y=m.data;let k=!1;if(t.placeholderData!==void 0&&y===void 0&&w==="pending"){let B;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(B=a.data,k=!0):B=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,B!==void 0&&(w="success",y=Lm(a?.data,B,t),b=!0)}if(t.select&&y!==void 0&&!k)if(a&&y===i?.data&&t.select===this.#p)y=this.#f;else try{this.#p=t.select,y=t.select(y),y=Lm(a?.data,y,t),this.#f=y,this.#o=null}catch(B){this.#o=B}this.#o&&(v=this.#o,y=this.#f,x=Date.now(),w="error");const E=m.fetchStatus==="fetching",C=w==="pending",j=w==="error",F=C&&E,D=y!==void 0,$={status:w,fetchStatus:m.fetchStatus,isPending:C,isSuccess:w==="success",isError:j,isInitialLoading:F,isLoading:F,data:y,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:E,isRefetching:E&&!C,isLoadingError:j&&!D,isPaused:m.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:j&&D,isStale:zp(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const B=L=>{$.status==="error"?L.reject($.error):$.data!==void 0&&L.resolve($.data)},Z=()=>{const L=this.#s=$.promise=Bm();B(L)},G=this.#s;switch(G.status){case"pending":e.queryHash===r.queryHash&&B(G);break;case"fulfilled":($.status==="error"||$.data!==G.value)&&Z();break;case"rejected":($.status!=="error"||$.error!==G.reason)&&Z();break}}return $}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#e),gd(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(l=>{const u=l;return this.#n[u]!==e[u]&&i.has(u)})};this.#k({listeners:r()})}#w(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#k(e){sr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Nk(e,t){return jn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sy(e,t){return Nk(e,t)||e.state.data!==void 0&&Pm(e,t,t.refetchOnMount)}function Pm(e,t,r){if(jn(t.enabled,e)!==!1&&zs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&zp(e,t)}return!1}function iy(e,t,r,n){return(e!==t||jn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zp(e,r)}function zp(e,t){return jn(t.enabled,e)!==!1&&e.isStaleByTime(zs(t.staleTime,e))}function Dk(e,t){return!gd(e.getCurrentResult(),t)}var Mk=class extends Ko{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),gd(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ti(r.mutationKey)!==Ti(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#a(),this.#i(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#i()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#a(){const t=this.#r?.state??U5();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){sr.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},V5=N.createContext(void 0),qd=e=>{const t=N.useContext(V5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jk=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(V5.Provider,{value:e,children:t})),G5=N.createContext(!1),zk=()=>N.useContext(G5);G5.Provider;function Ok(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Rk=N.createContext(Ok()),Fk=()=>N.useContext(Rk),Lk=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Bk=e=>{N.useEffect(()=>{e.clearReset()},[e])},Pk=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||B5(r,[e.error,n])),Ik=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$k=(e,t)=>e.isLoading&&e.isFetching&&!t,Hk=(e,t)=>e?.suspense&&t.isPending,oy=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qk(e,t,r){const n=zk(),a=Fk(),i=qd(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",Ik(l),Lk(l,a),Bk(a);const u=!i.getQueryCache().get(l.queryHash),[d]=N.useState(()=>new t(i,l)),f=d.getOptimisticResult(l),m=!n&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(b=>{const y=m?d.subscribe(sr.batchCalls(b)):Nr;return d.updateResult(),y},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setOptions(l)},[l,d]),Hk(l,f))throw oy(l,d,a);if(Pk({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!Ci&&$k(f,n)&&(u?oy(l,d,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Nr).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?f:d.trackResult(f)}function zi(e,t){return qk(e,Tk)}function E0(e,t){const r=qd(),[n]=N.useState(()=>new Mk(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const a=N.useSyncExternalStore(N.useCallback(l=>n.subscribe(sr.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=N.useCallback((l,u)=>{n.mutate(l,u).catch(Nr)},[n]);if(a.error&&B5(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var tu={},ly;function Uk(){if(ly)return tu;ly=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.parse=l,tu.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,v){const x=new i,w=y.length;if(w<2)return x;const k=v?.decode||m;let E=0;do{const C=y.indexOf("=",E);if(C===-1)break;const j=y.indexOf(";",E),F=j===-1?w:j;if(C>F){E=y.lastIndexOf(";",C-1)+1;continue}const D=u(y,E,C),O=d(y,C,D),$=y.slice(D,O);if(x[$]===void 0){let B=u(y,C+1,F),Z=d(y,F,B);const G=k(y.slice(B,Z));x[$]=G}E=F+1}while(E<w);return x}function u(y,v,x){do{const w=y.charCodeAt(v);if(w!==32&&w!==9)return v}while(++v<x);return x}function d(y,v,x){for(;v>x;){const w=y.charCodeAt(--v);if(w!==32&&w!==9)return v+1}return x}function f(y,v,x){const w=x?.encode||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const k=w(v);if(!t.test(k))throw new TypeError(`argument val is invalid: ${v}`);let E=y+"="+k;if(!x)return E;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);E+="; Max-Age="+x.maxAge}if(x.domain){if(!r.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);E+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);E+="; Path="+x.path}if(x.expires){if(!b(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);E+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(E+="; HttpOnly"),x.secure&&(E+="; Secure"),x.partitioned&&(E+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return E}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function b(y){return a.call(y)==="[object Date]"}return tu}Uk();var uy="popstate";function Vk(e={}){function t(a,i){let{pathname:l="/",search:u="",hash:d=""}=Oi(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Im("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let l=a.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=a.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof i=="string"?i:ju(i))}function n(a,i){sn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return Zk(t,r,n,e)}function Tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gk(){return Math.random().toString(36).substring(2,10)}function cy(e,t){return{usr:e.state,key:e.key,idx:t}}function Im(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oi(t):t,state:r,key:t&&t.key||n||Gk()}}function ju({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Zk(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function b(){u="POP";let k=m(),E=k==null?null:k-f;f=k,d&&d({action:u,location:w.location,delta:E})}function y(k,E){u="PUSH";let C=Im(w.location,k,E);r&&r(C,k),f=m()+1;let j=cy(C,f),F=w.createHref(C);try{l.pushState(j,"",F)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(F)}i&&d&&d({action:u,location:w.location,delta:1})}function v(k,E){u="REPLACE";let C=Im(w.location,k,E);r&&r(C,k),f=m();let j=cy(C,f),F=w.createHref(C);l.replaceState(j,"",F),i&&d&&d({action:u,location:w.location,delta:0})}function x(k){return Kk(k)}let w={get action(){return u},get location(){return e(a,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(uy,b),d=k,()=>{a.removeEventListener(uy,b),d=null}},createHref(k){return t(a,k)},createURL:x,encodeLocation(k){let E=x(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:v,go(k){return l.go(k)}};return w}function Kk(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ju(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Z5(e,t,r="/"){return Yk(e,t,r,!1)}function Yk(e,t,r,n){let a=typeof t=="string"?Oi(t):t,i=Ua(a.pathname||"/",r);if(i==null)return null;let l=K5(e);Xk(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=oS(i);u=sS(l[d],f,n)}return u}function K5(e,t=[],r=[],n=""){let a=(i,l,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(Tt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=$a([n,d.relativePath]),m=r.concat(d);i.children&&i.children.length>0&&(Tt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),K5(i.children,t,m,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:nS(f,i.index),routesMeta:m})};return e.forEach((i,l)=>{if(i.path===""||!i.path?.includes("?"))a(i,l);else for(let u of Y5(i.path))a(i,l,u)}),t}function Y5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Y5(n.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Xk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:aS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Qk=/^:[\w-]+$/,Wk=3,Jk=2,eS=1,tS=10,rS=-2,dy=e=>e==="*";function nS(e,t){let r=e.split("/"),n=r.length;return r.some(dy)&&(n+=rS),t&&(n+=Jk),r.filter(a=>!dy(a)).reduce((a,i)=>a+(Qk.test(i)?Wk:i===""?eS:tS),n)}function aS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function sS(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",b=xd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!b&&f&&r&&!n[n.length-1].route.index&&(b=xd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!b)return null;Object.assign(a,b.params),l.push({params:a,pathname:$a([i,b.pathname]),pathnameBase:dS($a([i,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(i=$a([i,b.pathnameBase]))}return l}function xd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=iS(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:b},y)=>{if(m==="*"){let x=u[y]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=u[y];return b&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function iS(e,t=!1,r=!0){sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function oS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ua(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function lS(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Oi(e):e;return{pathname:r?r.startsWith("/")?r:uS(r,t):t,search:fS(n),hash:hS(a)}}function uS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Op(e){let t=cS(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Rp(e,t,r,n=!1){let a;typeof e=="string"?a=Oi(e):(a={...e},Tt(!a.pathname||!a.pathname.includes("?"),$1("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),$1("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),$1("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,u;if(l==null)u=r;else{let b=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),b-=1;a.pathname=y.join("/")}u=b>=0?t[b]:"/"}let d=lS(a,u),f=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var $a=e=>e.join("/").replace(/\/\/+/g,"/"),dS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var X5=["POST","PUT","PATCH","DELETE"];new Set(X5);var pS=["GET",...X5];new Set(pS);var Yo=N.createContext(null);Yo.displayName="DataRouter";var Ud=N.createContext(null);Ud.displayName="DataRouterState";var Q5=N.createContext({isTransitioning:!1});Q5.displayName="ViewTransition";var bS=N.createContext(new Map);bS.displayName="Fetchers";var gS=N.createContext(null);gS.displayName="Await";var Pn=N.createContext(null);Pn.displayName="Navigation";var Xu=N.createContext(null);Xu.displayName="Location";var da=N.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var Fp=N.createContext(null);Fp.displayName="RouteError";function yS(e,{relative:t}={}){Tt(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(Pn),{hash:a,pathname:i,search:l}=Qu(e,{relative:t}),u=i;return r!=="/"&&(u=i==="/"?r:$a([r,i])),n.createHref({pathname:u,search:l,hash:a})}function Xo(){return N.useContext(Xu)!=null}function In(){return Tt(Xo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Xu).location}var W5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J5(e){N.useContext(Pn).static||N.useLayoutEffect(e)}function Qo(){let{isDataRoute:e}=N.useContext(da);return e?MS():xS()}function xS(){Tt(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Yo),{basename:t,navigator:r}=N.useContext(Pn),{matches:n}=N.useContext(da),{pathname:a}=In(),i=JSON.stringify(Op(n)),l=N.useRef(!1);return J5(()=>{l.current=!0}),N.useCallback((d,f={})=>{if(sn(l.current,W5),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Rp(d,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:$a([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,i,a,e])}N.createContext(null);function Qu(e,{relative:t}={}){let{matches:r}=N.useContext(da),{pathname:n}=In(),a=JSON.stringify(Op(r));return N.useMemo(()=>Rp(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function vS(e,t){return ev(e,t)}function ev(e,t,r,n){Tt(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(Pn),{matches:i}=N.useContext(da),l=i[i.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let E=m&&m.path||"";tv(d,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=In(),y;if(t){let E=typeof t=="string"?Oi(t):t;Tt(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=b;let v=y.pathname||"/",x=v;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=Z5(e,{pathname:x});sn(m||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),sn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=ES(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:$a([f,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:$a([f,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,r,n);return t&&k?N.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function _S(){let e=DS(),t=mS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:i},"ErrorBoundary")," or"," ",N.createElement("code",{style:i},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,l)}var wS=N.createElement(_S,null),kS=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(da.Provider,{value:this.props.routeContext},N.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SS({routeContext:e,match:t,children:r}){let n=N.useContext(Yo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(da.Provider,{value:e},r)}function ES(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r?.errors;if(i!=null){let d=a.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);Tt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:b}=r,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let b,y=!1,v=null,x=null;r&&(b=i&&f.route.id?i[f.route.id]:void 0,v=f.route.errorElement||wS,l&&(u<0&&m===0?(tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):u===m&&(y=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,m+1)),k=()=>{let E;return b?E=v:y?E=x:f.route.Component?E=N.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,N.createElement(SS,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:E})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?N.createElement(kS,{location:r.location,revalidation:r.revalidation,component:v,error:b,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}function Lp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AS(e){let t=N.useContext(Yo);return Tt(t,Lp(e)),t}function CS(e){let t=N.useContext(Ud);return Tt(t,Lp(e)),t}function TS(e){let t=N.useContext(da);return Tt(t,Lp(e)),t}function Bp(e){let t=TS(e),r=t.matches[t.matches.length-1];return Tt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function NS(){return Bp("useRouteId")}function DS(){let e=N.useContext(Fp),t=CS("useRouteError"),r=Bp("useRouteError");return e!==void 0?e:t.errors?.[r]}function MS(){let{router:e}=AS("useNavigate"),t=Bp("useNavigate"),r=N.useRef(!1);return J5(()=>{r.current=!0}),N.useCallback(async(a,i={})=>{sn(r.current,W5),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var fy={};function tv(e,t,r){!t&&!fy[e]&&(fy[e]=!0,sn(!1,r))}N.memo(jS);function jS({routes:e,future:t,state:r}){return ev(e,void 0,r,t)}function zS({to:e,replace:t,state:r,relative:n}){Tt(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Pn);sn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=N.useContext(da),{pathname:l}=In(),u=Qo(),d=Rp(e,Op(i),l,n==="path"),f=JSON.stringify(d);return N.useEffect(()=>{u(JSON.parse(f),{replace:t,state:r,relative:n})},[u,f,n,t,r]),null}function fi(e){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OS({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Tt(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=Oi(r));let{pathname:d="/",search:f="",hash:m="",state:b=null,key:y="default"}=r,v=N.useMemo(()=>{let x=Ua(d,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:b,key:y},navigationType:n}},[l,d,f,m,b,y,n]);return sn(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Pn.Provider,{value:u},N.createElement(Xu.Provider,{children:t,value:v}))}function RS({children:e,location:t}){return vS($m(e),t)}function $m(e,t=[]){let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let i=[...t,a];if(n.type===N.Fragment){r.push.apply(r,$m(n.props.children,i));return}Tt(n.type===fi,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=$m(n.props.children,i)),r.push(l)}),r}var sd="get",id="application/x-www-form-urlencoded";function Vd(e){return e!=null&&typeof e.tagName=="string"}function FS(e){return Vd(e)&&e.tagName.toLowerCase()==="button"}function LS(e){return Vd(e)&&e.tagName.toLowerCase()==="form"}function BS(e){return Vd(e)&&e.tagName.toLowerCase()==="input"}function PS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IS(e,t){return e.button===0&&(!t||t==="_self")&&!PS(e)}function Hm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function $S(e,t){let r=Hm(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var A0=null;function HS(){if(A0===null)try{new FormData(document.createElement("form"),0),A0=!1}catch{A0=!0}return A0}var qS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function H1(e){return e!=null&&!qS.has(e)?(sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):e}function US(e,t){let r,n,a,i,l;if(LS(e)){let u=e.getAttribute("action");n=u?Ua(u,t):null,r=e.getAttribute("method")||sd,a=H1(e.getAttribute("enctype"))||id,i=new FormData(e)}else if(FS(e)||BS(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?Ua(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||sd,a=H1(e.getAttribute("formenctype"))||H1(u.getAttribute("enctype"))||id,i=new FormData(u,e),!HS()){let{name:f,type:m,value:b}=e;if(m==="image"){let y=f?`${f}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else f&&i.append(f,b)}}else{if(Vd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sd,n=null,a=id,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}function Pp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function VS(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZS(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await VS(i,r);return l.links?l.links():[]}return[]}));return QS(n.flat(1).filter(GS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hy(e,t,r,n,a,i){let l=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,u=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):i==="data"?t.filter((d,f)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function KS(e,t,{includeHydrateFallback:r}={}){return YS(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function YS(e){return[...new Set(e)]}function XS(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function QS(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(XS(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WS=new Set([100,101,204,205]);function JS(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Ua(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function rv(){let e=N.useContext(Yo);return Pp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eE(){let e=N.useContext(Ud);return Pp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ip=N.createContext(void 0);Ip.displayName="FrameworkContext";function nv(){let e=N.useContext(Ip);return Pp(e,"You must render this element inside a <HydratedRouter> element"),e}function tE(e,t){let r=N.useContext(Ip),[n,a]=N.useState(!1),[i,l]=N.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:b}=t,y=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=E=>{E.forEach(C=>{l(C.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[e]),N.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{a(!0)},x=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,y,{}]:[i,y,{onFocus:ru(u,v),onBlur:ru(d,x),onMouseEnter:ru(f,v),onMouseLeave:ru(m,x),onTouchStart:ru(b,v)}]:[!1,y,{}]}function ru(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function rE({page:e,...t}){let{router:r}=rv(),n=N.useMemo(()=>Z5(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(aE,{page:e,matches:n,...t}):null}function nE(e){let{manifest:t,routeModules:r}=nv(),[n,a]=N.useState([]);return N.useEffect(()=>{let i=!1;return ZS(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function aE({page:e,matches:t,...r}){let n=In(),{manifest:a,routeModules:i}=nv(),{basename:l}=rv(),{loaderData:u,matches:d}=eE(),f=N.useMemo(()=>hy(e,t,d,a,n,"data"),[e,t,d,a,n]),m=N.useMemo(()=>hy(e,t,d,a,n,"assets"),[e,t,d,a,n]),b=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,w=!1;if(t.forEach(E=>{let C=a.routes[E.route.id];!C||!C.hasLoader||(!f.some(j=>j.route.id===E.route.id)&&E.route.id in u&&i[E.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:x.add(E.route.id))}),x.size===0)return[];let k=JS(e,l);return w&&x.size>0&&k.searchParams.set("_routes",t.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[l,u,n,a,f,t,e,i]),y=N.useMemo(()=>KS(m,a),[m,a]),v=nE(m);return N.createElement(N.Fragment,null,b.map(x=>N.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),y.map(x=>N.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),v.map(({key:x,link:w})=>N.createElement("link",{key:x,...w})))}function sE(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var av=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{av&&(window.__reactRouterVersion="7.6.3")}catch{}function iE({basename:e,children:t,window:r}){let n=N.useRef();n.current==null&&(n.current=Vk({window:r,v5Compat:!0}));let a=n.current,[i,l]=N.useState({action:a.action,location:a.location}),u=N.useCallback(d=>{N.startTransition(()=>l(d))},[l]);return N.useLayoutEffect(()=>a.listen(u),[a,u]),N.createElement(OS,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iv=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:b,...y},v){let{basename:x}=N.useContext(Pn),w=typeof f=="string"&&sv.test(f),k,E=!1;if(typeof f=="string"&&w&&(k=f,av))try{let Z=new URL(window.location.href),G=f.startsWith("//")?new URL(Z.protocol+f):new URL(f),L=Ua(G.pathname,x);G.origin===Z.origin&&L!=null?f=L+G.search+G.hash:E=!0}catch{sn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=yS(f,{relative:a}),[j,F,D]=tE(n,y),O=cE(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:a,viewTransition:b});function $(Z){t&&t(Z),Z.defaultPrevented||O(Z)}let B=N.createElement("a",{...y,...D,href:k||C,onClick:E||i?t:$,ref:sE(v,F),target:d,"data-discover":!w&&r==="render"?"true":void 0});return j&&!w?N.createElement(N.Fragment,null,B,N.createElement(rE,{page:C})):B});iv.displayName="Link";var oE=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:u,children:d,...f},m){let b=Qu(l,{relative:f.relative}),y=In(),v=N.useContext(Ud),{navigator:x,basename:w}=N.useContext(Pn),k=v!=null&&bE(b)&&u===!0,E=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,C=y.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(C=C.toLowerCase(),j=j?j.toLowerCase():null,E=E.toLowerCase()),j&&w&&(j=Ua(j,w)||j);const F=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=C===E||!a&&C.startsWith(E)&&C.charAt(F)==="/",O=j!=null&&(j===E||!a&&j.startsWith(E)&&j.charAt(E.length)==="/"),$={isActive:D,isPending:O,isTransitioning:k},B=D?t:void 0,Z;typeof n=="function"?Z=n($):Z=[n,D?"active":null,O?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i($):i;return N.createElement(iv,{...f,"aria-current":B,className:Z,ref:m,style:G,to:l,viewTransition:u},typeof d=="function"?d($):d)});oE.displayName="NavLink";var lE=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=sd,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:b,...y},v)=>{let x=mE(),w=pE(u,{relative:f}),k=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&sv.test(u),C=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let F=j.nativeEvent.submitter,D=F?.getAttribute("formmethod")||l;x(F||j.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:a,state:i,relative:f,preventScrollReset:m,viewTransition:b})};return N.createElement("form",{ref:v,method:k,action:w,onSubmit:n?d:C,...y,"data-discover":!E&&e==="render"?"true":void 0})});lE.displayName="Form";function uE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ov(e){let t=N.useContext(Yo);return Tt(t,uE(e)),t}function cE(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let u=Qo(),d=In(),f=Qu(e,{relative:i});return N.useCallback(m=>{if(IS(m,t)){m.preventDefault();let b=r!==void 0?r:ju(d)===ju(f);u(e,{replace:b,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[d,u,f,r,n,t,e,a,i,l])}function dE(e){sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(Hm(e)),r=N.useRef(!1),n=In(),a=N.useMemo(()=>$S(n.search,r.current?null:t.current),[n.search]),i=Qo(),l=N.useCallback((u,d)=>{const f=Hm(typeof u=="function"?u(a):u);r.current=!0,i("?"+f,d)},[i,a]);return[a,l]}var fE=0,hE=()=>`__${String(++fE)}__`;function mE(){let{router:e}=ov("useSubmit"),{basename:t}=N.useContext(Pn),r=NS();return N.useCallback(async(n,a={})=>{let{action:i,method:l,encType:u,formData:d,body:f}=US(n,t);if(a.navigate===!1){let m=a.fetcherKey||hE();await e.fetch(m,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function pE(e,{relative:t}={}){let{basename:r}=N.useContext(Pn),n=N.useContext(da);Tt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Qu(e||".",{relative:t})},l=In();if(e==null){i.search=l.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(b=>b).forEach(b=>u.append("index",b));let m=u.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:$a([r,i.pathname])),ju(i)}function bE(e,t={}){let r=N.useContext(Q5);Tt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ov("useViewTransitionState"),a=Qu(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Ua(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Ua(r.nextLocation.pathname,n)||r.nextLocation.pathname;return xd(a.pathname,l)!=null||xd(a.pathname,i)!=null}[...WS];var zu=O5();const $p=N.createContext(void 0),un=()=>{const e=N.useContext($p);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function gE(){const{expiresAt:e}=un(),[t,r]=N.useState(null);return N.useEffect(()=>{if(!e){r(null);return}const n=()=>{const i=e-Date.now();r(i>0?i:0)};n();const a=setInterval(n,1e3);return()=>clearInterval(a)},[e]),t}class xu extends Error{url;status;statusText;body;request;constructor(t,r,n){super(n),this.name="ApiError",this.url=r.url,this.status=r.status,this.statusText=r.statusText,this.body=r.body,this.request=t}}class yE extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}}class xE{#t;#e;#r;#n;#a;#i;#s;constructor(t){this.#t=!1,this.#e=!1,this.#r=!1,this.#n=[],this.#a=new Promise((r,n)=>{this.#i=r,this.#s=n;const a=u=>{this.#t||this.#e||this.#r||(this.#t=!0,this.#i&&this.#i(u))},i=u=>{this.#t||this.#e||this.#r||(this.#e=!0,this.#s&&this.#s(u))},l=u=>{this.#t||this.#e||this.#r||this.#n.push(u)};return Object.defineProperty(l,"isResolved",{get:()=>this.#t}),Object.defineProperty(l,"isRejected",{get:()=>this.#e}),Object.defineProperty(l,"isCancelled",{get:()=>this.#r}),t(a,i,l)})}get[Symbol.toStringTag](){return"Cancellable Promise"}then(t,r){return this.#a.then(t,r)}catch(t){return this.#a.catch(t)}finally(t){return this.#a.finally(t)}cancel(){if(!(this.#t||this.#e||this.#r)){if(this.#r=!0,this.#n.length)try{for(const t of this.#n)t()}catch(t){console.warn("Cancellation threw an error",t);return}this.#n.length=0,this.#s&&this.#s(new yE("Request aborted"))}}get isCancelled(){return this.#r}}const vE=()=>"https://83.251.173.209.nip.io",ve={BASE:vE(),VERSION:"0.1.0",WITH_CREDENTIALS:!0,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0};var qm=(e=>(e.ADMIN="admin",e.TRUSTED="trusted",e.USER="user",e.GUEST="guest",e))(qm||{});const Hp=e=>e!=null,Wu=e=>typeof e=="string",q1=e=>Wu(e)&&e!=="",qp=e=>typeof e=="object"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.arrayBuffer=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),lv=e=>e instanceof FormData,_E=e=>{try{return btoa(e)}catch{return Buffer.from(e).toString("base64")}},wE=e=>{const t=[],r=(a,i)=>{t.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(i))}`)},n=(a,i)=>{Hp(i)&&(Array.isArray(i)?i.forEach(l=>{n(a,l)}):typeof i=="object"?Object.entries(i).forEach(([l,u])=>{n(`${a}[${l}]`,u)}):r(a,i))};return Object.entries(e).forEach(([a,i])=>{n(a,i)}),t.length>0?`?${t.join("&")}`:""},kE=(e,t)=>{const r=encodeURI,n=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(i,l)=>t.path?.hasOwnProperty(l)?r(String(t.path[l])):i),a=`${e.BASE}${n}`;return t.query?`${a}${wE(t.query)}`:a},SE=e=>{if(e.formData){const t=new FormData,r=(n,a)=>{Wu(a)||qp(a)?t.append(n,a):t.append(n,JSON.stringify(a))};return Object.entries(e.formData).filter(([n,a])=>Hp(a)).forEach(([n,a])=>{Array.isArray(a)?a.forEach(i=>r(n,i)):r(n,a)}),t}},C0=async(e,t)=>typeof t=="function"?t(e):t,EE=async(e,t)=>{const[r,n,a,i]=await Promise.all([C0(t,e.TOKEN),C0(t,e.USERNAME),C0(t,e.PASSWORD),C0(t,e.HEADERS)]),l=Object.entries({Accept:"application/json",...i,...t.headers}).filter(([u,d])=>Hp(d)).reduce((u,[d,f])=>({...u,[d]:String(f)}),{});if(q1(r)&&(l.Authorization=`Bearer ${r}`),q1(n)&&q1(a)){const u=_E(`${n}:${a}`);l.Authorization=`Basic ${u}`}return t.body&&(t.mediaType?l["Content-Type"]=t.mediaType:qp(t.body)?l["Content-Type"]=t.body.type||"application/octet-stream":Wu(t.body)?l["Content-Type"]="text/plain":lv(t.body)||(l["Content-Type"]="application/json")),new Headers(l)},AE=e=>{if(e.body!==void 0)return e.mediaType?.includes("/json")?JSON.stringify(e.body):Wu(e.body)||qp(e.body)||lv(e.body)?e.body:JSON.stringify(e.body)},CE=async(e,t,r,n,a,i,l)=>{const u=new AbortController,d={headers:i,body:n??a,method:t.method,signal:u.signal};return d.credentials=e.CREDENTIALS,l(()=>u.abort()),await fetch(r,d)},TE=(e,t)=>{if(t){const r=e.headers.get(t);if(Wu(r))return r}},NE=async e=>{if(e.status!==204)try{const t=e.headers.get("Content-Type");if(t)return["application/json","application/problem+json"].some(a=>t.toLowerCase().startsWith(a))?await e.json():await e.text()}catch(t){console.error(t)}},DE=(e,t)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(n)throw new xu(e,t,n);if(!t.ok){const a=t.status??"unknown",i=t.statusText??"unknown",l=(()=>{try{return JSON.stringify(t.body,null,2)}catch{return}})();throw new xu(e,t,`Generic Error: status: ${a}; status text: ${i}; body: ${l}`)}},De=(e,t)=>new xE(async(r,n,a)=>{try{const i=kE(e,t),l=SE(t),u=AE(t),d=await EE(e,t);if(!a.isCancelled){const f=await CE(e,t,i,u,l,d,a),m=await NE(f),b=TE(f,t.responseHeader),y={url:i,ok:f.ok,status:f.status,statusText:f.statusText,body:b??m};DE(t,y),r(y.body)}}catch(i){n(i)}});class my{static uploadAttachmentV1AttachmentsProblemIdUploadPost(t,r){return De(ve,{method:"POST",url:"/v1/attachments/{problem_id}/upload",path:{problem_id:t},formData:r,mediaType:"multipart/form-data",errors:{422:"Validation Error"}})}static listAttachmentsV1AttachmentsProblemIdListGet(t){return De(ve,{method:"GET",url:"/v1/attachments/{problem_id}/list",path:{problem_id:t},errors:{422:"Validation Error"}})}static downloadAttachmentV1AttachmentsProblemIdDownloadFilenameGet(t,r){return De(ve,{method:"GET",url:"/v1/attachments/{problem_id}/download/{filename}",path:{problem_id:t,filename:r},errors:{422:"Validation Error"}})}static deleteAttachmentV1AttachmentsProblemIdDeleteFilenameDelete(t,r){return De(ve,{method:"DELETE",url:"/v1/attachments/{problem_id}/delete/{filename}",path:{problem_id:t,filename:r},errors:{422:"Validation Error"}})}}class od{static loginAuthLoginPost(t){return De(ve,{method:"POST",url:"/auth/login",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getCurrentUserInfoAuthMeGet(){return De(ve,{method:"GET",url:"/auth/me"})}static logoutAuthLogoutPost(){return De(ve,{method:"POST",url:"/auth/logout"})}static signupAuthSignupPost(t,r){return De(ve,{method:"POST",url:"/auth/signup",query:{token:r},body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static refreshTokenAuthRefreshPost(){return De(ve,{method:"POST",url:"/auth/refresh"})}static forgotPasswordAuthForgotPasswordPost(t){return De(ve,{method:"POST",url:"/auth/forgot-password",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static resetPasswordAuthResetPasswordPost(t){return De(ve,{method:"POST",url:"/auth/reset-password",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static updateProfileAuthProfilePut(t){return De(ve,{method:"PUT",url:"/auth/profile",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static changePasswordAuthPasswordPut(t){return De(ve,{method:"PUT",url:"/auth/password",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}}class ME{static serveMediaFileMediaPathGet(t){return De(ve,{method:"GET",url:"/media/{path}",path:{path:t},errors:{422:"Validation Error"}})}static serveMediaFileOptionsMediaPathOptions(t){return De(ve,{method:"OPTIONS",url:"/media/{path}",path:{path:t},errors:{422:"Validation Error"}})}static testEndpointTestGet(){return De(ve,{method:"GET",url:"/test"})}static testDbEndpointTestDbGet(){return De(ve,{method:"GET",url:"/test-db"})}static healthLivenessHealthzGet(){return De(ve,{method:"GET",url:"/healthz"})}static healthReadinessReadyzGet(){return De(ve,{method:"GET",url:"/readyz"})}static listAbilitiesAbilitiesGet(t){return De(ve,{method:"GET",url:"/abilities",query:{subject_id:t},errors:{422:"Validation Error"}})}static listLevelsLevelsGet(){return De(ve,{method:"GET",url:"/levels"})}}class zt{static getHierarchyApiHierarchyGet(t){return De(ve,{method:"GET",url:"/api/hierarchy/",query:{subject_id:t},errors:{422:"Validation Error"}})}static listSubjectsApiHierarchySubjectsGet(){return De(ve,{method:"GET",url:"/api/hierarchy/subjects"})}static getSubjectCompleteApiHierarchySubjectsSubjectIdCompleteGet(t){return De(ve,{method:"GET",url:"/api/hierarchy/subjects/{subject_id}/complete",path:{subject_id:t},errors:{422:"Validation Error"}})}static getSubjectForEditApiHierarchySubjectsSubjectIdEditGet(t){return De(ve,{method:"GET",url:"/api/hierarchy/subjects/{subject_id}/edit",path:{subject_id:t},errors:{422:"Validation Error"}})}static createSubjectWithAbilitiesApiHierarchySubjectsWithAbilitiesPost(t){return De(ve,{method:"POST",url:"/api/hierarchy/subjects/with-abilities",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static updateSubjectApiHierarchySubjectsSubjectIdPut(t,r){return De(ve,{method:"PUT",url:"/api/hierarchy/subjects/{subject_id}",path:{subject_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteSubjectApiHierarchySubjectsSubjectIdDelete(t){return De(ve,{method:"DELETE",url:"/api/hierarchy/subjects/{subject_id}",path:{subject_id:t},errors:{422:"Validation Error"}})}static moveCourseApiHierarchyCoursesCourseIdMovePut(t,r){return De(ve,{method:"PUT",url:"/api/hierarchy/courses/{course_id}/move",path:{course_id:t},query:{target_subject_id:r},errors:{422:"Validation Error"}})}static moveChapterApiHierarchyChaptersChapterIdMovePut(t,r,n){return De(ve,{method:"PUT",url:"/api/hierarchy/chapters/{chapter_id}/move",path:{chapter_id:t},query:{target_parent_type:r,target_parent_id:n},errors:{422:"Validation Error"}})}static moveAreaApiHierarchyAreasAreaIdMovePut(t,r,n){return De(ve,{method:"PUT",url:"/api/hierarchy/areas/{area_id}/move",path:{area_id:t},query:{target_parent_type:r,target_parent_id:n},errors:{422:"Validation Error"}})}static checkSubjectDeleteSafetyApiHierarchySubjectsSubjectIdCheckDeleteGet(t){return De(ve,{method:"GET",url:"/api/hierarchy/subjects/{subject_id}/check-delete",path:{subject_id:t},errors:{422:"Validation Error"}})}static checkCourseDeleteSafetyApiHierarchyCoursesCourseIdCheckDeleteGet(t){return De(ve,{method:"GET",url:"/api/hierarchy/courses/{course_id}/check-delete",path:{course_id:t},errors:{422:"Validation Error"}})}static checkChapterDeleteSafetyApiHierarchyChaptersChapterIdCheckDeleteGet(t){return De(ve,{method:"GET",url:"/api/hierarchy/chapters/{chapter_id}/check-delete",path:{chapter_id:t},errors:{422:"Validation Error"}})}static checkAreaDeleteSafetyApiHierarchyAreasAreaIdCheckDeleteGet(t){return De(ve,{method:"GET",url:"/api/hierarchy/areas/{area_id}/check-delete",path:{area_id:t},errors:{422:"Validation Error"}})}static createCourseApiHierarchyCoursesPost(t){return De(ve,{method:"POST",url:"/api/hierarchy/courses",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static updateCourseApiHierarchyCoursesCourseIdPut(t,r){return De(ve,{method:"PUT",url:"/api/hierarchy/courses/{course_id}",path:{course_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteCourseApiHierarchyCoursesCourseIdDelete(t){return De(ve,{method:"DELETE",url:"/api/hierarchy/courses/{course_id}",path:{course_id:t},errors:{422:"Validation Error"}})}static createChapterApiHierarchyChaptersPost(t){return De(ve,{method:"POST",url:"/api/hierarchy/chapters",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static updateChapterApiHierarchyChaptersChapterIdPut(t,r){return De(ve,{method:"PUT",url:"/api/hierarchy/chapters/{chapter_id}",path:{chapter_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteChapterApiHierarchyChaptersChapterIdDelete(t){return De(ve,{method:"DELETE",url:"/api/hierarchy/chapters/{chapter_id}",path:{chapter_id:t},errors:{422:"Validation Error"}})}static createAreaApiHierarchyAreasPost(t){return De(ve,{method:"POST",url:"/api/hierarchy/areas",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static updateAreaApiHierarchyAreasAreaIdPut(t,r){return De(ve,{method:"PUT",url:"/api/hierarchy/areas/{area_id}",path:{area_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteAreaApiHierarchyAreasAreaIdDelete(t){return De(ve,{method:"DELETE",url:"/api/hierarchy/areas/{area_id}",path:{area_id:t},errors:{422:"Validation Error"}})}static getParentsApiHierarchyParentsTypeIdGet(t,r){return De(ve,{method:"GET",url:"/api/hierarchy/parents/{type}/{id}",path:{type:t,id:r},errors:{422:"Validation Error"}})}static getChildrenApiHierarchyChildrenTypeIdGet(t,r,n=1){return De(ve,{method:"GET",url:"/api/hierarchy/children/{type}/{id}",path:{type:t,id:r},query:{depth:n},errors:{422:"Validation Error"}})}static getProblemParentApiHierarchyProblemParentProblemIdGet(t){return De(ve,{method:"GET",url:"/api/hierarchy/problem-parent/{problem_id}",path:{problem_id:t},errors:{422:"Validation Error"}})}static getDescendantsApiHierarchyDescendantsGet(t,r,n="area"){return De(ve,{method:"GET",url:"/api/hierarchy/descendants",query:{type:t,id:r,leaf:n},errors:{422:"Validation Error"}})}}class nu{static createInviteV1InvitesPost(t){return De(ve,{method:"POST",url:"/v1/invites/",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static listInvitesV1InvitesGet(t=!1,r=!1){return De(ve,{method:"GET",url:"/v1/invites/",query:{include_expired:t,include_used:r},errors:{422:"Validation Error"}})}static getInviteV1InvitesInviteTokenIdGet(t){return De(ve,{method:"GET",url:"/v1/invites/{invite_token_id}",path:{invite_token_id:t},errors:{422:"Validation Error"}})}static revokeInviteV1InvitesInviteTokenIdDelete(t){return De(ve,{method:"DELETE",url:"/v1/invites/{invite_token_id}",path:{invite_token_id:t},errors:{422:"Validation Error"}})}static cleanupExpiredInvitesV1InvitesCleanupPost(){return De(ve,{method:"POST",url:"/v1/invites/cleanup"})}}class oa{static createProblemV1ProblemsPost(t){return De(ve,{method:"POST",url:"/v1/problems",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getProblemByIdV1ProblemsProblemIdGet(t){return De(ve,{method:"GET",url:"/v1/problems/{problem_id}",path:{problem_id:t},errors:{422:"Validation Error"}})}static updateProblemV1ProblemsProblemIdPatch(t,r){return De(ve,{method:"PATCH",url:"/v1/problems/{problem_id}",path:{problem_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteProblemV1ProblemsProblemIdDelete(t,r=!1){return De(ve,{method:"DELETE",url:"/v1/problems/{problem_id}",path:{problem_id:t},query:{hard:r},errors:{422:"Validation Error"}})}static publishProblemV1ProblemsProblemIdPublishPost(t,r){return De(ve,{method:"POST",url:"/v1/problems/{problem_id}/publish",path:{problem_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}static requestPublishProblemV1ProblemsProblemIdRequestPublishPost(t){return De(ve,{method:"POST",url:"/v1/problems/{problem_id}/request_publish",path:{problem_id:t},errors:{422:"Validation Error"}})}static getPendingPublishProblemsV1ProblemsPendingPublishGet(){return De(ve,{method:"GET",url:"/v1/problems/pending_publish"})}static searchProblemsV1ProblemsSearchPost(t){return De(ve,{method:"POST",url:"/v1/problems/search",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getProblemsDetailsV1ProblemsDetailsPost(t){return De(ve,{method:"POST",url:"/v1/problems/details",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}}class jE{static getGreedySuggestionsV1SuggestionsGreedyPost(t){return De(ve,{method:"POST",url:"/v1/suggestions/greedy",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}}class T0{static listUsersV1UsersGet(){return De(ve,{method:"GET",url:"/v1/users/"})}static promoteUserV1UsersUserIdPromotePost(t,r){return De(ve,{method:"POST",url:"/v1/users/{user_id}/promote",path:{user_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}static demoteUserV1UsersUserIdDemotePost(t,r){return De(ve,{method:"POST",url:"/v1/users/{user_id}/demote",path:{user_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}static toggleUserActiveV1UsersUserIdToggleActivePost(t,r){return De(ve,{method:"POST",url:"/v1/users/{user_id}/toggle-active",path:{user_id:t},body:r,mediaType:"application/json",errors:{422:"Validation Error"}})}}class py{static getGlobalStatisticsV1UserStatisticsGlobalGet(){return De(ve,{method:"GET",url:"/v1/user-statistics/global"})}static getUserStatisticsV1UserStatisticsUserUsernameGet(t){return De(ve,{method:"GET",url:"/v1/user-statistics/user/{username}",path:{username:t},errors:{422:"Validation Error"}})}static getCurrentUserStatisticsV1UserStatisticsCurrentUserGet(){return De(ve,{method:"GET",url:"/v1/user-statistics/current-user"})}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OE=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),by=e=>{const t=OE(e);return t.charAt(0).toUpperCase()+t.slice(1)},uv=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),RE=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...u},d)=>N.createElement("svg",{ref:d,...FE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:uv("lucide",a),...!i&&!RE(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>N.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const r=N.forwardRef(({className:n,...a},i)=>N.createElement(LE,{ref:i,iconNode:t,className:uv(`lucide-${zE(by(e))}`,`lucide-${e}`,n),...a}));return r.displayName=by(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],PE=Me("ban",BE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],$E=Me("bold",IE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qE=Me("book-open",HE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],VE=Me("book-text",UE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],cv=Me("bot",GE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],KE=Me("brain",ZE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ri=Me("chevron-down",YE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QE=Me("chevron-left",XE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ju=Me("chevron-right",WE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eA=Me("chevron-up",JE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vd=Me("circle-alert",tA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nA=Me("circle-check-big",rA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sA=Me("circle-question-mark",aA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oA=Me("circle",iA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],dv=Me("code",lA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],cA=Me("cookie",uA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fA=Me("copy",dA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Um=Me("cpu",hA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pA=Me("download",mA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],gA=Me("ellipsis",bA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xA=Me("external-link",yA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bo=Me("eye-off",vA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Po=Me("eye",_A);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Gd=Me("file-text",wA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Up=Me("flag",kA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]],_d=Me("folder-closed",SA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Vp=Me("folder-open",EA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],CA=Me("globe",AA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],fv=Me("graduation-cap",TA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],DA=Me("hash",NA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],jA=Me("house",MA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],OA=Me("image",zA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hv=Me("info",RA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],LA=Me("italic",FA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Vm=Me("key",BA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],IA=Me("layers",PA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],HA=Me("library-big",$A);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],UA=Me("list",qA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],GA=Me("log-in",VA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gy=Me("lock",ZA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YA=Me("log-out",KA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gm=Me("mail",XA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],WA=Me("map-pin",QA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],mv=Me("monitor",JA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],tC=Me("move",eC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],U1=Me("pen-tool",rC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ka=Me("plus",nC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],sC=Me("printer",aC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ou=Me("refresh-cw",iC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lC=Me("rotate-ccw",oC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Io=Me("save",uC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dC=Me("search",cC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pv=Me("settings",fC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bv=Me("shield-check",hC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],Zm=Me("shield-x",mC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wi=Me("shield",pC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gv=Me("square-pen",bC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],yC=Me("table",gC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gp=Me("target",xC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ln=Me("trash-2",vC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zo=Me("triangle-alert",_C);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],kC=Me("type",wC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],EC=Me("underline",SC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CC=Me("user-check",AC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],NC=Me("user-x",TC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$o=Me("user",DC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ec=Me("users",MC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],zC=Me("workflow",jC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ca=Me("x",OC),RC=()=>{const{isAuthenticated:e,user:t,logout:r,renewToken:n}=un(),a=gE(),i=In(),l=Qo(),[u,d]=N.useState(!1),f=N.useRef(null),[m,b]=N.useState(null),[y,v]=N.useState(null),[x,w]=N.useState(null);N.useEffect(()=>{e&&(async()=>{try{if(!e){console.error("User not authenticated for global stats request");return}if(!ve.TOKEN){console.error("No token available for global stats request");return}const O=await py.getGlobalStatisticsV1UserStatisticsGlobalGet();b(O)}catch(O){console.error("Failed to fetch global stats:",O)}})()},[e]),N.useEffect(()=>{e&&(async()=>{try{if(!e||!ve.TOKEN)return;const O=await oa.searchProblemsV1ProblemsSearchPost({page:1,page_size:1});w(O.total_count||0)}catch(O){console.error("Failed to fetch total problems:",O)}})()},[e]),N.useEffect(()=>{e&&t&&(async()=>{try{if(!e||!t){console.error("User not authenticated or no user data for user stats request");return}if(!ve.TOKEN){console.error("No token available for user stats request");return}const O=await py.getCurrentUserStatisticsV1UserStatisticsCurrentUserGet();v(O)}catch(O){console.error("Failed to fetch user stats:",O)}})()},[e,t]);const k=D=>{switch(D){case"home":l("/");break;case"problems":l("/problems");break;case"docs":l("/docs");break;case"login":l("/login");break;default:l("/")}},E=D=>{const O="nav-link";let $=!1;switch(D){case"home":$=i.pathname==="/";break;case"problems":$=i.pathname==="/problems";break;case"docs":$=i.pathname==="/docs";break;case"login":$=i.pathname==="/login";break;default:$=!1}return $?`${O} active`:O};N.useEffect(()=>{const D=O=>{f.current&&!f.current.contains(O.target)&&d(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const C=()=>{d(!u)},j=()=>{d(!1),l("/settings")},F=()=>{d(!1),r()};return p.jsx("nav",{className:"topnav px-6 py-3 w-full",children:p.jsxs("div",{className:"max-w-screen-2xl mx-auto flex justify-between items-center gap-8",children:[p.jsxs("div",{className:"flex items-center gap-8",children:[p.jsxs("button",{onClick:()=>k("home"),className:E("home"),children:[p.jsx(jA,{})," Hem"]}),p.jsxs("button",{onClick:()=>k("problems"),className:E("problems"),children:[p.jsx(Gd,{})," Problem",x!==null&&p.jsxs("span",{className:"ml-1 text-xs font-mono",style:{fontFamily:"Roboto Mono, monospace"},children:["(",x,")"]})]}),p.jsxs("button",{onClick:()=>k("docs"),className:E("docs"),children:[p.jsx(sA,{})," Docs"]})]}),p.jsx("div",{className:"flex items-center gap-4",children:e?p.jsxs(p.Fragment,{children:[m&&p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[p.jsx(ec,{size:16}),p.jsx("span",{className:"text-green-500 font-mono",children:m.active_users}),p.jsx("span",{className:"text-gray-500",children:"/"}),p.jsx("span",{className:"text-gray-500 font-mono",children:m.total_users})]}),a!==null&&a<3e5&&p.jsxs("span",{className:"nav-link text-red-500",children:[Math.ceil(a/1e3),"s"]}),a!==null&&a<3e5&&p.jsxs("button",{onClick:n,className:"nav-link",children:[p.jsx(Ou,{})," Frnya token"]}),p.jsxs("div",{className:"relative",ref:f,children:[p.jsxs("button",{onClick:C,className:"nav-link flex items-center gap-2",children:[p.jsx($o,{size:20}),p.jsx("span",{children:t?.username}),y&&p.jsx(p.Fragment,{children:p.jsxs("span",{className:"text-xs text-green-500 font-mono",children:["(+",y.problems_public+y.problems_requested,")"]})}),p.jsx(Ri,{size:16,className:`transition-transform ${u?"rotate-180":""}`})]}),u&&p.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:[p.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[p.jsx("div",{className:"font-medium text-gray-900",children:t?.username}),p.jsx("div",{className:"text-sm text-gray-500",children:t?.role}),y&&p.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[y.problems_created," skapade  ",y.problems_public," publika  ",y.problems_requested," begrda"]})]}),p.jsxs("div",{className:"py-1",children:[p.jsxs("button",{onClick:j,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[p.jsx(pv,{size:16}),"Instllningar"]}),p.jsxs("button",{onClick:F,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[p.jsx(YA,{size:16}),"Logga ut"]})]})]})]})]}):p.jsxs("button",{onClick:()=>k("login"),className:"nav-link",children:[p.jsx(GA,{})," Login"]})})]})})},FC=()=>{const{login:e}=un(),[t,r]=N.useState(""),[n,a]=N.useState(""),[i,l]=N.useState(null),[u,d]=N.useState(!1),[f,m]=N.useState(!1),[b,y]=N.useState(!1),[v,x]=N.useState(""),[w,k]=N.useState(!1),[E,C]=N.useState(!1),j=Qo(),F=async O=>{O.preventDefault(),l(null),d(!0);try{await e(t,n),m(!0),setTimeout(()=>{j("/problems")},500)}catch{l("Felaktigt anvndarnamn eller lsenord")}finally{d(!1)}},D=async O=>{O.preventDefault(),k(!0);try{(await fetch("/api/v1/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v})})).ok?(C(!0),x("")):l("Kunde inte skicka lsenordsterstllning")}catch{l("Ett fel uppstod vid skickning av lsenordsterstllning")}finally{k(!1)}};return b?p.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border border-panel rounded bg-panel max-w-xs mx-auto mt-12 text-primary font-roboto",children:[p.jsx("h2",{className:"text-xl font-bold mb-2",children:"Glmt lsenord"}),E?p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-green-600 text-sm mb-4",children:"Om email-adressen finns i systemet har ett temporrt lsenord skickats."}),p.jsx("button",{onClick:()=>y(!1),className:"btn-primary px-4 py-2 rounded w-full",children:"Tillbaka till inloggning"})]}):p.jsxs("form",{onSubmit:D,className:"w-full",children:[p.jsxs("label",{className:"w-full text-left block mb-4",children:["Email-adress:",p.jsx("input",{className:"ml-2 border border-panel rounded px-2 py-1 w-full bg-primary text-primary",type:"email",value:v,onChange:O=>x(O.target.value),placeholder:"din.email@example.com",autoComplete:"email",required:!0})]}),i&&p.jsx("div",{className:"text-red-600 text-sm mb-4",children:i}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"submit",className:"btn-primary px-4 py-2 rounded flex-1",disabled:w,children:w?"Skickar...":"Skicka terstllning"}),p.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 rounded border border-panel flex-1",children:"Avbryt"})]})]})]}):p.jsxs("form",{onSubmit:F,className:"flex flex-col items-center gap-4 p-6 border border-panel rounded bg-panel max-w-xs mx-auto mt-12 text-primary font-roboto",children:[p.jsx("h2",{className:"text-xl font-bold mb-2",children:"Logga in"}),p.jsxs("label",{className:"w-full text-left",children:["Anvndarnamn:",p.jsx("input",{className:"ml-2 border border-panel rounded px-2 py-1 w-full bg-primary text-primary",value:t,onChange:O=>r(O.target.value),autoFocus:!0,autoComplete:"username"})]}),p.jsxs("label",{className:"w-full text-left",children:["Lsenord:",p.jsx("input",{className:"ml-2 border border-panel rounded px-2 py-1 w-full bg-primary text-primary",type:"password",value:n,onChange:O=>a(O.target.value),autoComplete:"current-password"})]}),i&&p.jsx("div",{className:"text-red-600 text-sm",children:i}),f&&p.jsx("div",{className:"text-green-600 text-sm",children:"Inloggad  omdirigerar "}),p.jsx("button",{type:"submit",className:"btn-primary px-4 py-2 rounded w-full",disabled:u,children:u?"Loggar in...":"Logga in"}),p.jsxs("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-muted hover:text-primary flex items-center gap-1",children:[p.jsx(Gm,{size:14}),"Glmt lsenord?"]})]})},au={fetchRootSubjects:async()=>(await zt.listSubjectsApiHierarchySubjectsGet()).map(t=>({id:t.id,uid:`subject-${t.id}`,title:t.title,type:"subject",hasChildren:!0,children:[]})),fetchChildren:async(e,t)=>(await zt.getChildrenApiHierarchyChildrenTypeIdGet(e,t,1)).children.map(n=>({id:n.id,uid:`${n.type}-${n.id}`,title:n.title,type:n.type,hasChildren:n.type!=="area",children:[]}))},yv=({onSelect:e,height:t,selectedNodeId:r,expandedNodes:n})=>{const[a,i]=N.useState([]),[l,u]=N.useState(!0);N.useEffect(()=>{async function b(){try{const v=(await au.fetchRootSubjects()).map(x=>({id:x.uid,uid:x.uid,title:x.title,type:x.type,numericId:x.id,hasChildren:x.hasChildren,isOpen:n?.has(x.uid)||!1,parentSubjectId:x.type==="subject"?x.id:void 0}));i(v)}catch(y){console.error("Failed to load root nodes:",y)}finally{u(!1)}}b()},[n]),N.useEffect(()=>{const b=async()=>{if(!n||n.size===0)return;const y=a.filter(v=>n.has(v.uid)&&v.hasChildren&&!v.children);for(const v of y)try{const x=await au.fetchChildren(v.type,v.numericId);if(!x||x.length===0)i(w=>{const k=E=>E.map(C=>C.id===v.id?{...C,hasChildren:!1}:C.children?{...C,children:k(C.children)}:C);return k(w)});else{const w=x.map(E=>({id:`${E.type}-${E.id}`,uid:`${E.type}-${E.id}`,title:E.title,type:E.type,numericId:E.id,hasChildren:E.type!=="area",isOpen:n?.has(`${E.type}-${E.id}`)||!1,parentSubjectId:E.type==="subject"?E.id:v.parentSubjectId}));i(E=>{const C=j=>j.map(F=>F.id===v.id?{...F,children:w,isOpen:!0}:F.children?{...F,children:C(F.children)}:F);return C(E)});const k=w.filter(E=>n.has(E.uid)&&E.hasChildren);for(const E of k)try{const C=await au.fetchChildren(E.type,E.numericId);if(C&&C.length>0){const j=C.map(D=>({id:`${D.type}-${D.id}`,uid:`${D.type}-${D.id}`,title:D.title,type:D.type,numericId:D.id,hasChildren:D.type!=="area",isOpen:n?.has(`${D.type}-${D.id}`)||!1,parentSubjectId:D.type==="subject"?D.id:E.parentSubjectId}));i(D=>{const O=$=>$.map(B=>B.id===E.id?{...B,children:j,isOpen:!0}:B.children?{...B,children:O(B.children)}:B);return O(D)});const F=j.filter(D=>n.has(D.uid)&&D.hasChildren);for(const D of F)try{const O=await au.fetchChildren(D.type,D.numericId);if(O&&O.length>0){const $=O.map(B=>({id:`${B.type}-${B.id}`,uid:`${B.type}-${B.id}`,title:B.title,type:B.type,numericId:B.id,hasChildren:B.hasChildren,isOpen:n?.has(`${B.type}-${B.id}`)||!1,parentSubjectId:B.parentSubjectId}));i(B=>B.map(G=>{if(G.children){const L=G.children.map(H=>{if(H.children){const re=H.children.map(he=>he.uid===D.uid?{...he,children:$}:he);return{...H,children:re}}return H});return{...G,children:L}}return G}))}}catch(O){console.error("Failed to load children for chapter node:",O)}}}catch(C){console.error("Failed to load children for child node:",C)}}}catch(x){console.error("Failed to load children for expanded node:",x)}};a.length>0&&b()},[a,n]);const d=async b=>{if(e&&e({id:b.numericId,uid:b.uid,title:b.title,type:b.type,hasChildren:b.hasChildren,parentSubjectId:b.parentSubjectId}),b.hasChildren&&!b.children)try{const y=await au.fetchChildren(b.type,b.numericId);if(!y||y.length===0)i(v=>{const x=w=>w.map(k=>k.id===b.id?{...k,hasChildren:!1}:k.children?{...k,children:x(k.children)}:k);return x(v)});else{const v=y.map(x=>({id:`${x.type}-${x.id}`,uid:`${x.type}-${x.id}`,title:x.title,type:x.type,numericId:x.id,hasChildren:x.type!=="area",isOpen:n?.has(`${x.type}-${x.id}`)||!1,parentSubjectId:x.type==="subject"?x.id:b.parentSubjectId}));i(x=>{const w=k=>k.map(E=>E.id===b.id?{...E,children:v,isOpen:!0}:E.children?{...E,children:w(E.children)}:E);return w(x)})}}catch(y){console.error("Failed to load children:",y),i(v=>{const x=w=>w.map(k=>k.id===b.id?{...k,hasChildren:!1}:k.children?{...k,children:x(k.children)}:k);return x(v)})}else b.children&&b.children.length>0&&i(y=>{const v=x=>x.map(w=>w.id===b.id?{...w,isOpen:!w.isOpen}:w.children?{...w,children:v(w.children)}:w);return v(y)});e?.({id:b.numericId,uid:b.uid,title:b.title,type:b.type,hasChildren:b.hasChildren,parentSubjectId:b.parentSubjectId})},f=b=>{switch(b){case"subject":return p.jsx(HA,{size:16,style:{color:"var(--accent-primary)"}});case"course":return p.jsx(VE,{size:16,style:{color:"var(--text-secondary)"}});case"chapter":case"area":default:return null}},m=(b,y=0)=>{const v=b.type==="area",x=b.type==="chapter",w=r===b.uid;let k;return v?k=y*26:x?k=y*22:k=y*20,p.jsxs("div",{children:[p.jsxs("div",{className:`hierarchy-node flex items-center py-0 px-0 cursor-pointer rounded-lg transition-all duration-200 group ${w?"hierarchy-node--selected":""}`,style:{marginLeft:`${k}px`,marginRight:"2px",marginTop:v?"-12px":"-4px",marginBottom:v?"-12px":"-4px",background:"var(--bg-panel)",minHeight:"36px"},onClick:()=>d(b),children:[b.hasChildren&&!v&&p.jsx(Ju,{size:16,className:`mr-2 transition-transform duration-200 lucide ${b.isOpen?"rotate-90":""}`}),f(b.type)&&p.jsx("div",{className:"mr-2 flex-shrink-0",children:f(b.type)}),p.jsx("span",{className:`flex-1 overflow-hidden text-ellipsis whitespace-nowrap text-xs transition-colors duration-200 ${v?"":"font-medium"}`,children:b.title})]}),b.isOpen&&b.children&&p.jsx("div",{className:"transition-all duration-200",children:b.children.map(E=>m(E,y+1))})]},b.id)};return l?p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"text-secondary text-sm flex items-center gap-2",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2",style:{borderColor:"var(--accent-primary)"}}),"Laddar hierarki..."]})}):p.jsx("div",{className:"p-2",children:p.jsx("div",{className:"hide-scrollbar",style:{maxHeight:t,overflowY:t?"auto":"visible"},children:a.map(b=>m(b))})})},xv={fetchProblemIds:async(e,t,r)=>{const n={...e,page:t+1,page_size:r},a=await oa.searchProblemsV1ProblemsSearchPost(n);return{problem_ids:a.problem_ids||[],total_count:a.total_count||0,page:t+1,page_size:r}},fetchProblemDetails:async e=>e.length===0?[]:((await oa.getProblemsDetailsV1ProblemsDetailsPost({problem_ids:e})).problems||[]).map(r=>({bank_problem_definition_id:r.bank_problem_definition_id,prompt_tex:r.prompt_tex??"",title:r.title??"",assessment_items:r.assessment_items??[],owner_id:r.owner_id??r.core_user_id??r.created_by??null,owner_username:r.owner_username??null,is_np:r.is_np,is_digital:r.is_digital,is_s:r.is_s,is_r:r.is_r,is_elev:r.is_elev,is_fake:r.is_fake,is_whole:r.is_whole,is_public:r.is_public,request_publish:r.request_publish,points_e:r.points_e??0,points_c:r.points_c??0,points_a:r.points_a??0})),fetchProblemById:async e=>{const t=await oa.getProblemByIdV1ProblemsProblemIdGet(e);return{bank_problem_definition_id:t.bank_problem_definition_id,prompt_tex:t.prompt_tex??"",title:t.title??"",assessment_items:t.assessment_items??[],owner_id:t.owner_id??t.core_user_id??t.created_by??null,owner_username:t.owner_username??null,is_np:t.is_np,is_digital:t.is_digital,is_s:t.is_s,is_r:t.is_r,is_elev:t.is_elev,is_fake:t.is_fake,is_whole:t.is_whole,is_public:t.is_public,request_publish:t.request_publish,points_e:t.points_e??0,points_c:t.points_c??0,points_a:t.points_a??0}}},ar={all:["problemFetch"],lists:()=>[...ar.all,"list"],list:(e,t,r)=>[...ar.lists(),{filters:e,page:t,pageSize:r}],details:()=>[...ar.all,"details"],detail:e=>[...ar.details(),e],problem:e=>[...ar.all,"problem",e]},LC=(e,t,r)=>zi({queryKey:ar.list(e,t,r),queryFn:()=>xv.fetchProblemIds(e,t,r),staleTime:6e4,enabled:!!e}),Zd=e=>zi({queryKey:ar.detail(e),queryFn:()=>xv.fetchProblemDetails(e),staleTime:6e4,enabled:e.length>0}),BC=10;function PC({hierarchyFilter:e,extraFilter:t,page:r,greedyProblemIds:n,onProblemsLoaded:a,onLoadingChange:i,onErrorChange:l}){const u={...e,...t},{data:d,isLoading:f,error:m}=LC(u,r,BC),b=n||d?.problem_ids||[],{data:y,isLoading:v,error:x}=Zd(b);return N.useEffect(()=>{i(f||v)},[f,v,i]),N.useEffect(()=>{const w=m?.message||x?.message||null;l(w)},[m,x,l]),N.useEffect(()=>{if(y){const w=n?n.length:d?.total_count||0;a(y,w)}},[y,d,n,a]),N.useEffect(()=>{window.newProblemFetchComponent={}},[]),null}const yy={};function IC(e){let t=yy[e];if(t)return t;t=yy[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);t.push(n)}for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return t}function Ho(e,t){typeof t!="string"&&(t=Ho.defaultChars);const r=IC(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(n){let a="";for(let i=0,l=n.length;i<l;i+=3){const u=parseInt(n.slice(i+1,i+3),16);if(u<128){a+=r[u];continue}if((u&224)===192&&i+3<l){const d=parseInt(n.slice(i+4,i+6),16);if((d&192)===128){const f=u<<6&1984|d&63;f<128?a+="":a+=String.fromCharCode(f),i+=3;continue}}if((u&240)===224&&i+6<l){const d=parseInt(n.slice(i+4,i+6),16),f=parseInt(n.slice(i+7,i+9),16);if((d&192)===128&&(f&192)===128){const m=u<<12&61440|d<<6&4032|f&63;m<2048||m>=55296&&m<=57343?a+="":a+=String.fromCharCode(m),i+=6;continue}}if((u&248)===240&&i+9<l){const d=parseInt(n.slice(i+4,i+6),16),f=parseInt(n.slice(i+7,i+9),16),m=parseInt(n.slice(i+10,i+12),16);if((d&192)===128&&(f&192)===128&&(m&192)===128){let b=u<<18&1835008|d<<12&258048|f<<6&4032|m&63;b<65536||b>1114111?a+="":(b-=65536,a+=String.fromCharCode(55296+(b>>10),56320+(b&1023))),i+=9;continue}}a+=""}return a})}Ho.defaultChars=";/?:@&=+$,#";Ho.componentChars="";const xy={};function $C(e){let t=xy[e];if(t)return t;t=xy[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<e.length;r++)t[e.charCodeAt(r)]=e[r];return t}function tc(e,t,r){typeof t!="string"&&(r=t,t=tc.defaultChars),typeof r>"u"&&(r=!0);const n=$C(t);let a="";for(let i=0,l=e.length;i<l;i++){const u=e.charCodeAt(i);if(r&&u===37&&i+2<l&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3))){a+=e.slice(i,i+3),i+=2;continue}if(u<128){a+=n[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&i+1<l){const d=e.charCodeAt(i+1);if(d>=56320&&d<=57343){a+=encodeURIComponent(e[i]+e[i+1]),i++;continue}}a+="%EF%BF%BD";continue}a+=encodeURIComponent(e[i])}return a}tc.defaultChars=";/?:@&=+$,-_.!~*'()#";tc.componentChars="-_.!~*'()";function Zp(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function wd(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const HC=/^([a-z0-9.+-]+:)/i,qC=/:[0-9]*$/,UC=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,VC=["<",">",'"',"`"," ","\r",`
`,"	"],GC=["{","}","|","\\","^","`"].concat(VC),ZC=["'"].concat(GC),vy=["%","/","?",";","#"].concat(ZC),_y=["/","?","#"],KC=255,wy=/^[+a-z0-9A-Z_-]{0,63}$/,YC=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ky={javascript:!0,"javascript:":!0},Sy={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Kp(e,t){if(e&&e instanceof wd)return e;const r=new wd;return r.parse(e,t),r}wd.prototype.parse=function(e,t){let r,n,a,i=e;if(i=i.trim(),!t&&e.split("#").length===1){const f=UC.exec(i);if(f)return this.pathname=f[1],f[2]&&(this.search=f[2]),this}let l=HC.exec(i);if(l&&(l=l[0],r=l.toLowerCase(),this.protocol=l,i=i.substr(l.length)),(t||l||i.match(/^\/\/[^@\/]+@[^@\/]+/))&&(a=i.substr(0,2)==="//",a&&!(l&&ky[l])&&(i=i.substr(2),this.slashes=!0)),!ky[l]&&(a||l&&!Sy[l])){let f=-1;for(let x=0;x<_y.length;x++)n=i.indexOf(_y[x]),n!==-1&&(f===-1||n<f)&&(f=n);let m,b;f===-1?b=i.lastIndexOf("@"):b=i.lastIndexOf("@",f),b!==-1&&(m=i.slice(0,b),i=i.slice(b+1),this.auth=m),f=-1;for(let x=0;x<vy.length;x++)n=i.indexOf(vy[x]),n!==-1&&(f===-1||n<f)&&(f=n);f===-1&&(f=i.length),i[f-1]===":"&&f--;const y=i.slice(0,f);i=i.slice(f),this.parseHost(y),this.hostname=this.hostname||"";const v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v){const x=this.hostname.split(/\./);for(let w=0,k=x.length;w<k;w++){const E=x[w];if(E&&!E.match(wy)){let C="";for(let j=0,F=E.length;j<F;j++)E.charCodeAt(j)>127?C+="x":C+=E[j];if(!C.match(wy)){const j=x.slice(0,w),F=x.slice(w+1),D=E.match(YC);D&&(j.push(D[1]),F.unshift(D[2])),F.length&&(i=F.join(".")+i),this.hostname=j.join(".");break}}}}this.hostname.length>KC&&(this.hostname=""),v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=i.indexOf("#");u!==-1&&(this.hash=i.substr(u),i=i.slice(0,u));const d=i.indexOf("?");return d!==-1&&(this.search=i.substr(d),i=i.slice(0,d)),i&&(this.pathname=i),Sy[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};wd.prototype.parseHost=function(e){let t=qC.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const XC=Object.freeze(Object.defineProperty({__proto__:null,decode:Ho,encode:tc,format:Zp,parse:Kp},Symbol.toStringTag,{value:"Module"})),vv=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_v=/[\0-\x1F\x7F-\x9F]/,QC=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Yp=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,wv=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,kv=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,WC=Object.freeze(Object.defineProperty({__proto__:null,Any:vv,Cc:_v,Cf:QC,P:Yp,S:wv,Z:kv},Symbol.toStringTag,{value:"Module"})),JC=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),eT=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var V1;const tT=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),rT=(V1=String.fromCodePoint)!==null&&V1!==void 0?V1:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function nT(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=tT.get(e))!==null&&t!==void 0?t:e}var mr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(mr||(mr={}));const aT=32;var Ts;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ts||(Ts={}));function Km(e){return e>=mr.ZERO&&e<=mr.NINE}function sT(e){return e>=mr.UPPER_A&&e<=mr.UPPER_F||e>=mr.LOWER_A&&e<=mr.LOWER_F}function iT(e){return e>=mr.UPPER_A&&e<=mr.UPPER_Z||e>=mr.LOWER_A&&e<=mr.LOWER_Z||Km(e)}function oT(e){return e===mr.EQUALS||iT(e)}var hr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(hr||(hr={}));var As;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(As||(As={}));class lT{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=hr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=As.Strict}startEntity(t){this.decodeMode=t,this.state=hr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case hr.EntityStart:return t.charCodeAt(r)===mr.NUM?(this.state=hr.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=hr.NamedEntity,this.stateNamedEntity(t,r));case hr.NumericStart:return this.stateNumericStart(t,r);case hr.NumericDecimal:return this.stateNumericDecimal(t,r);case hr.NumericHex:return this.stateNumericHex(t,r);case hr.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|aT)===mr.LOWER_X?(this.state=hr.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=hr.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,a){if(r!==n){const i=n-r;this.result=this.result*Math.pow(a,i)+parseInt(t.substr(r,i),a),this.consumed+=i}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const a=t.charCodeAt(r);if(Km(a)||sT(a))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const a=t.charCodeAt(r);if(Km(a))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===mr.SEMI)this.consumed+=1;else if(this.decodeMode===As.Strict)return 0;return this.emitCodePoint(nT(this.result),this.consumed),this.errors&&(t!==mr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let a=n[this.treeIndex],i=(a&Ts.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const l=t.charCodeAt(r);if(this.treeIndex=uT(n,a,this.treeIndex+Math.max(1,i),l),this.treeIndex<0)return this.result===0||this.decodeMode===As.Attribute&&(i===0||oT(l))?0:this.emitNotTerminatedNamedEntity();if(a=n[this.treeIndex],i=(a&Ts.VALUE_LENGTH)>>14,i!==0){if(l===mr.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==As.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,a=(n[r]&Ts.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:a}=this;return this.emitCodePoint(r===1?a[t]&~Ts.VALUE_LENGTH:a[t+1],n),r===3&&this.emitCodePoint(a[t+2],n),n}end(){var t;switch(this.state){case hr.NamedEntity:return this.result!==0&&(this.decodeMode!==As.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case hr.NumericDecimal:return this.emitNumericEntity(0,2);case hr.NumericHex:return this.emitNumericEntity(0,3);case hr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case hr.EntityStart:return 0}}}function Sv(e){let t="";const r=new lT(e,n=>t+=rT(n));return function(a,i){let l=0,u=0;for(;(u=a.indexOf("&",u))>=0;){t+=a.slice(l,u),r.startEntity(i);const f=r.write(a,u+1);if(f<0){l=u+r.end();break}l=u+f,u=f===0?l+1:l}const d=t+a.slice(l);return t="",d}}function uT(e,t,r,n){const a=(t&Ts.BRANCH_LENGTH)>>7,i=t&Ts.JUMP_TABLE;if(a===0)return i!==0&&n===i?r:-1;if(i){const d=n-i;return d<0||d>=a?-1:e[r+d]-1}let l=r,u=l+a-1;for(;l<=u;){const d=l+u>>>1,f=e[d];if(f<n)l=d+1;else if(f>n)u=d-1;else return e[d+a]}return-1}const cT=Sv(JC);Sv(eT);function Ev(e,t=As.Legacy){return cT(e,t)}function dT(e){return Object.prototype.toString.call(e)}function Xp(e){return dT(e)==="[object String]"}const fT=Object.prototype.hasOwnProperty;function hT(e,t){return fT.call(e,t)}function Kd(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function Av(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function Qp(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function kd(e){if(e>65535){e-=65536;const t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}const Cv=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,mT=/&([a-z#][a-z0-9]{1,31});/gi,pT=new RegExp(Cv.source+"|"+mT.source,"gi"),bT=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function gT(e,t){if(t.charCodeAt(0)===35&&bT.test(t)){const n=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Qp(n)?kd(n):e}const r=Ev(e);return r!==e?r:e}function yT(e){return e.indexOf("\\")<0?e:e.replace(Cv,"$1")}function qo(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(pT,function(t,r,n){return r||gT(t,n)})}const xT=/[&<>"]/,vT=/[&<>"]/g,_T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function wT(e){return _T[e]}function Fs(e){return xT.test(e)?e.replace(vT,wT):e}const kT=/[.?*+^$[\]\\(){}|-]/g;function ST(e){return e.replace(kT,"\\$&")}function kt(e){switch(e){case 9:case 32:return!0}return!1}function Ru(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Fu(e){return Yp.test(e)||wv.test(e)}function Lu(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Yd(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const ET={mdurl:XC,ucmicro:WC},AT=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Av,assign:Kd,escapeHtml:Fs,escapeRE:ST,fromCodePoint:kd,has:hT,isMdAsciiPunct:Lu,isPunctChar:Fu,isSpace:kt,isString:Xp,isValidEntityCode:Qp,isWhiteSpace:Ru,lib:ET,normalizeReference:Yd,unescapeAll:qo,unescapeMd:yT},Symbol.toStringTag,{value:"Module"}));function CT(e,t,r){let n,a,i,l;const u=e.posMax,d=e.pos;for(e.pos=t+1,n=1;e.pos<u;){if(i=e.src.charCodeAt(e.pos),i===93&&(n--,n===0)){a=!0;break}if(l=e.pos,e.md.inline.skipToken(e),i===91){if(l===e.pos-1)n++;else if(r)return e.pos=d,-1}}let f=-1;return a&&(f=e.pos),e.pos=d,f}function TT(e,t,r){let n,a=t;const i={ok:!1,pos:0,str:""};if(e.charCodeAt(a)===60){for(a++;a<r;){if(n=e.charCodeAt(a),n===10||n===60)return i;if(n===62)return i.pos=a+1,i.str=qo(e.slice(t+1,a)),i.ok=!0,i;if(n===92&&a+1<r){a+=2;continue}a++}return i}let l=0;for(;a<r&&(n=e.charCodeAt(a),!(n===32||n<32||n===127));){if(n===92&&a+1<r){if(e.charCodeAt(a+1)===32)break;a+=2;continue}if(n===40&&(l++,l>32))return i;if(n===41){if(l===0)break;l--}a++}return t===a||l!==0||(i.str=qo(e.slice(t,a)),i.pos=a,i.ok=!0),i}function NT(e,t,r,n){let a,i=t;const l={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)l.str=n.str,l.marker=n.marker;else{if(i>=r)return l;let u=e.charCodeAt(i);if(u!==34&&u!==39&&u!==40)return l;t++,i++,u===40&&(u=41),l.marker=u}for(;i<r;){if(a=e.charCodeAt(i),a===l.marker)return l.pos=i+1,l.str+=qo(e.slice(t,i)),l.ok=!0,l;if(a===40&&l.marker===41)return l;a===92&&i+1<r&&i++,i++}return l.can_continue=!0,l.str+=qo(e.slice(t,i)),l}const DT=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:TT,parseLinkLabel:CT,parseLinkTitle:NT},Symbol.toStringTag,{value:"Module"})),fa={};fa.code_inline=function(e,t,r,n,a){const i=e[t];return"<code"+a.renderAttrs(i)+">"+Fs(i.content)+"</code>"};fa.code_block=function(e,t,r,n,a){const i=e[t];return"<pre"+a.renderAttrs(i)+"><code>"+Fs(e[t].content)+`</code></pre>
`};fa.fence=function(e,t,r,n,a){const i=e[t],l=i.info?qo(i.info).trim():"";let u="",d="";if(l){const m=l.split(/(\s+)/g);u=m[0],d=m.slice(2).join("")}let f;if(r.highlight?f=r.highlight(i.content,u,d)||Fs(i.content):f=Fs(i.content),f.indexOf("<pre")===0)return f+`
`;if(l){const m=i.attrIndex("class"),b=i.attrs?i.attrs.slice():[];m<0?b.push(["class",r.langPrefix+u]):(b[m]=b[m].slice(),b[m][1]+=" "+r.langPrefix+u);const y={attrs:b};return`<pre><code${a.renderAttrs(y)}>${f}</code></pre>
`}return`<pre><code${a.renderAttrs(i)}>${f}</code></pre>
`};fa.image=function(e,t,r,n,a){const i=e[t];return i.attrs[i.attrIndex("alt")][1]=a.renderInlineAsText(i.children,r,n),a.renderToken(e,t,r)};fa.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};fa.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};fa.text=function(e,t){return Fs(e[t].content)};fa.html_block=function(e,t){return e[t].content};fa.html_inline=function(e,t){return e[t].content};function Wo(){this.rules=Kd({},fa)}Wo.prototype.renderAttrs=function(t){let r,n,a;if(!t.attrs)return"";for(a="",r=0,n=t.attrs.length;r<n;r++)a+=" "+Fs(t.attrs[r][0])+'="'+Fs(t.attrs[r][1])+'"';return a};Wo.prototype.renderToken=function(t,r,n){const a=t[r];let i="";if(a.hidden)return"";a.block&&a.nesting!==-1&&r&&t[r-1].hidden&&(i+=`
`),i+=(a.nesting===-1?"</":"<")+a.tag,i+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(i+=" /");let l=!1;if(a.block&&(l=!0,a.nesting===1&&r+1<t.length)){const u=t[r+1];(u.type==="inline"||u.hidden||u.nesting===-1&&u.tag===a.tag)&&(l=!1)}return i+=l?`>
`:">",i};Wo.prototype.renderInline=function(e,t,r){let n="";const a=this.rules;for(let i=0,l=e.length;i<l;i++){const u=e[i].type;typeof a[u]<"u"?n+=a[u](e,i,t,r,this):n+=this.renderToken(e,i,t)}return n};Wo.prototype.renderInlineAsText=function(e,t,r){let n="";for(let a=0,i=e.length;a<i;a++)switch(e[a].type){case"text":n+=e[a].content;break;case"image":n+=this.renderInlineAsText(e[a].children,t,r);break;case"html_inline":case"html_block":n+=e[a].content;break;case"softbreak":case"hardbreak":n+=`
`;break}return n};Wo.prototype.render=function(e,t,r){let n="";const a=this.rules;for(let i=0,l=e.length;i<l;i++){const u=e[i].type;u==="inline"?n+=this.renderInline(e[i].children,t,r):typeof a[u]<"u"?n+=a[u](e,i,t,r,this):n+=this.renderToken(e,i,t,r)}return n};function Vr(){this.__rules__=[],this.__cache__=null}Vr.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Vr.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){n.enabled&&(r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn))})})};Vr.prototype.at=function(e,t,r){const n=this.__find__(e),a=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=a.alt||[],this.__cache__=null};Vr.prototype.before=function(e,t,r,n){const a=this.__find__(e),i=n||{};if(a===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(a,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null};Vr.prototype.after=function(e,t,r,n){const a=this.__find__(e),i=n||{};if(a===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(a+1,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null};Vr.prototype.push=function(e,t,r){const n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};Vr.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const a=this.__find__(n);if(a<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[a].enabled=!0,r.push(n)},this),this.__cache__=null,r};Vr.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};Vr.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const a=this.__find__(n);if(a<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[a].enabled=!1,r.push(n)},this),this.__cache__=null,r};Vr.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function $n(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}$n.prototype.attrIndex=function(t){if(!this.attrs)return-1;const r=this.attrs;for(let n=0,a=r.length;n<a;n++)if(r[n][0]===t)return n;return-1};$n.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};$n.prototype.attrSet=function(t,r){const n=this.attrIndex(t),a=[t,r];n<0?this.attrPush(a):this.attrs[n]=a};$n.prototype.attrGet=function(t){const r=this.attrIndex(t);let n=null;return r>=0&&(n=this.attrs[r][1]),n};$n.prototype.attrJoin=function(t,r){const n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};function Tv(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}Tv.prototype.Token=$n;const MT=/\r\n?|\n/g,jT=/\0/g;function zT(e){let t;t=e.src.replace(MT,`
`),t=t.replace(jT,""),e.src=t}function OT(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function RT(e){const t=e.tokens;for(let r=0,n=t.length;r<n;r++){const a=t[r];a.type==="inline"&&e.md.inline.parse(a.content,e.md,e.env,a.children)}}function FT(e){return/^<a[>\s]/i.test(e)}function LT(e){return/^<\/a\s*>/i.test(e)}function BT(e){const t=e.tokens;if(e.md.options.linkify)for(let r=0,n=t.length;r<n;r++){if(t[r].type!=="inline"||!e.md.linkify.pretest(t[r].content))continue;let a=t[r].children,i=0;for(let l=a.length-1;l>=0;l--){const u=a[l];if(u.type==="link_close"){for(l--;a[l].level!==u.level&&a[l].type!=="link_open";)l--;continue}if(u.type==="html_inline"&&(FT(u.content)&&i>0&&i--,LT(u.content)&&i++),!(i>0)&&u.type==="text"&&e.md.linkify.test(u.content)){const d=u.content;let f=e.md.linkify.match(d);const m=[];let b=u.level,y=0;f.length>0&&f[0].index===0&&l>0&&a[l-1].type==="text_special"&&(f=f.slice(1));for(let v=0;v<f.length;v++){const x=f[v].url,w=e.md.normalizeLink(x);if(!e.md.validateLink(w))continue;let k=f[v].text;f[v].schema?f[v].schema==="mailto:"&&!/^mailto:/i.test(k)?k=e.md.normalizeLinkText("mailto:"+k).replace(/^mailto:/,""):k=e.md.normalizeLinkText(k):k=e.md.normalizeLinkText("http://"+k).replace(/^http:\/\//,"");const E=f[v].index;if(E>y){const D=new e.Token("text","",0);D.content=d.slice(y,E),D.level=b,m.push(D)}const C=new e.Token("link_open","a",1);C.attrs=[["href",w]],C.level=b++,C.markup="linkify",C.info="auto",m.push(C);const j=new e.Token("text","",0);j.content=k,j.level=b,m.push(j);const F=new e.Token("link_close","a",-1);F.level=--b,F.markup="linkify",F.info="auto",m.push(F),y=f[v].lastIndex}if(y<d.length){const v=new e.Token("text","",0);v.content=d.slice(y),v.level=b,m.push(v)}t[r].children=a=Av(a,l,m)}}}}const Nv=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,PT=/\((c|tm|r)\)/i,IT=/\((c|tm|r)\)/ig,$T={c:"",r:"",tm:""};function HT(e,t){return $T[t.toLowerCase()]}function qT(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&(n.content=n.content.replace(IT,HT)),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function UT(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&Nv.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function VT(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(PT.test(e.tokens[t].content)&&qT(e.tokens[t].children),Nv.test(e.tokens[t].content)&&UT(e.tokens[t].children))}const GT=/['"]/,Ey=/['"]/g,Ay="";function N0(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function ZT(e,t){let r;const n=[];for(let a=0;a<e.length;a++){const i=e[a],l=e[a].level;for(r=n.length-1;r>=0&&!(n[r].level<=l);r--);if(n.length=r+1,i.type!=="text")continue;let u=i.content,d=0,f=u.length;e:for(;d<f;){Ey.lastIndex=d;const m=Ey.exec(u);if(!m)break;let b=!0,y=!0;d=m.index+1;const v=m[0]==="'";let x=32;if(m.index-1>=0)x=u.charCodeAt(m.index-1);else for(r=a-1;r>=0&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r--)if(e[r].content){x=e[r].content.charCodeAt(e[r].content.length-1);break}let w=32;if(d<f)w=u.charCodeAt(d);else for(r=a+1;r<e.length&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r++)if(e[r].content){w=e[r].content.charCodeAt(0);break}const k=Lu(x)||Fu(String.fromCharCode(x)),E=Lu(w)||Fu(String.fromCharCode(w)),C=Ru(x),j=Ru(w);if(j?b=!1:E&&(C||k||(b=!1)),C?y=!1:k&&(j||E||(y=!1)),w===34&&m[0]==='"'&&x>=48&&x<=57&&(y=b=!1),b&&y&&(b=k,y=E),!b&&!y){v&&(i.content=N0(i.content,m.index,Ay));continue}if(y)for(r=n.length-1;r>=0;r--){let F=n[r];if(n[r].level<l)break;if(F.single===v&&n[r].level===l){F=n[r];let D,O;v?(D=t.md.options.quotes[2],O=t.md.options.quotes[3]):(D=t.md.options.quotes[0],O=t.md.options.quotes[1]),i.content=N0(i.content,m.index,O),e[F.token].content=N0(e[F.token].content,F.pos,D),d+=O.length-1,F.token===a&&(d+=D.length-1),u=i.content,f=u.length,n.length=r;continue e}}b?n.push({token:a,pos:m.index,single:v,level:l}):y&&v&&(i.content=N0(i.content,m.index,Ay))}}}function KT(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!GT.test(e.tokens[t].content)||ZT(e.tokens[t].children,e)}function YT(e){let t,r;const n=e.tokens,a=n.length;for(let i=0;i<a;i++){if(n[i].type!=="inline")continue;const l=n[i].children,u=l.length;for(t=0;t<u;t++)l[t].type==="text_special"&&(l[t].type="text");for(t=r=0;t<u;t++)l[t].type==="text"&&t+1<u&&l[t+1].type==="text"?l[t+1].content=l[t].content+l[t+1].content:(t!==r&&(l[r]=l[t]),r++);t!==r&&(l.length=r)}}const G1=[["normalize",zT],["block",OT],["inline",RT],["linkify",BT],["replacements",VT],["smartquotes",KT],["text_join",YT]];function Wp(){this.ruler=new Vr;for(let e=0;e<G1.length;e++)this.ruler.push(G1[e][0],G1[e][1])}Wp.prototype.process=function(e){const t=this.ruler.getRules("");for(let r=0,n=t.length;r<n;r++)t[r](e)};Wp.prototype.State=Tv;function ha(e,t,r,n){this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const a=this.src;for(let i=0,l=0,u=0,d=0,f=a.length,m=!1;l<f;l++){const b=a.charCodeAt(l);if(!m)if(kt(b)){u++,b===9?d+=4-d%4:d++;continue}else m=!0;(b===10||l===f-1)&&(b!==10&&l++,this.bMarks.push(i),this.eMarks.push(l),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),m=!1,u=0,d=0,i=l+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}ha.prototype.push=function(e,t,r){const n=new $n(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};ha.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};ha.prototype.skipEmptyLines=function(t){for(let r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};ha.prototype.skipSpaces=function(t){for(let r=this.src.length;t<r;t++){const n=this.src.charCodeAt(t);if(!kt(n))break}return t};ha.prototype.skipSpacesBack=function(t,r){if(t<=r)return t;for(;t>r;)if(!kt(this.src.charCodeAt(--t)))return t+1;return t};ha.prototype.skipChars=function(t,r){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};ha.prototype.skipCharsBack=function(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};ha.prototype.getLines=function(t,r,n,a){if(t>=r)return"";const i=new Array(r-t);for(let l=0,u=t;u<r;u++,l++){let d=0;const f=this.bMarks[u];let m=f,b;for(u+1<r||a?b=this.eMarks[u]+1:b=this.eMarks[u];m<b&&d<n;){const y=this.src.charCodeAt(m);if(kt(y))y===9?d+=4-(d+this.bsCount[u])%4:d++;else if(m-f<this.tShift[u])d++;else break;m++}d>n?i[l]=new Array(d-n+1).join(" ")+this.src.slice(m,b):i[l]=this.src.slice(m,b)}return i.join("")};ha.prototype.Token=$n;const XT=65536;function Z1(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.slice(r,n)}function Cy(e){const t=[],r=e.length;let n=0,a=e.charCodeAt(n),i=!1,l=0,u="";for(;n<r;)a===124&&(i?(u+=e.substring(l,n-1),l=n):(t.push(u+e.substring(l,n)),u="",l=n+1)),i=a===92,n++,a=e.charCodeAt(n);return t.push(u+e.substring(l)),t}function QT(e,t,r,n){if(t+2>r)return!1;let a=t+1;if(e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)return!1;let i=e.bMarks[a]+e.tShift[a];if(i>=e.eMarks[a])return!1;const l=e.src.charCodeAt(i++);if(l!==124&&l!==45&&l!==58||i>=e.eMarks[a])return!1;const u=e.src.charCodeAt(i++);if(u!==124&&u!==45&&u!==58&&!kt(u)||l===45&&kt(u))return!1;for(;i<e.eMarks[a];){const F=e.src.charCodeAt(i);if(F!==124&&F!==45&&F!==58&&!kt(F))return!1;i++}let d=Z1(e,t+1),f=d.split("|");const m=[];for(let F=0;F<f.length;F++){const D=f[F].trim();if(!D){if(F===0||F===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(D))return!1;D.charCodeAt(D.length-1)===58?m.push(D.charCodeAt(0)===58?"center":"right"):D.charCodeAt(0)===58?m.push("left"):m.push("")}if(d=Z1(e,t).trim(),d.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;f=Cy(d),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop();const b=f.length;if(b===0||b!==m.length)return!1;if(n)return!0;const y=e.parentType;e.parentType="table";const v=e.md.block.ruler.getRules("blockquote"),x=e.push("table_open","table",1),w=[t,0];x.map=w;const k=e.push("thead_open","thead",1);k.map=[t,t+1];const E=e.push("tr_open","tr",1);E.map=[t,t+1];for(let F=0;F<f.length;F++){const D=e.push("th_open","th",1);m[F]&&(D.attrs=[["style","text-align:"+m[F]]]);const O=e.push("inline","",0);O.content=f[F].trim(),O.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let C,j=0;for(a=t+2;a<r&&!(e.sCount[a]<e.blkIndent);a++){let F=!1;for(let O=0,$=v.length;O<$;O++)if(v[O](e,a,r,!0)){F=!0;break}if(F||(d=Z1(e,a).trim(),!d)||e.sCount[a]-e.blkIndent>=4||(f=Cy(d),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),j+=b-f.length,j>XT))break;if(a===t+2){const O=e.push("tbody_open","tbody",1);O.map=C=[t+2,0]}const D=e.push("tr_open","tr",1);D.map=[a,a+1];for(let O=0;O<b;O++){const $=e.push("td_open","td",1);m[O]&&($.attrs=[["style","text-align:"+m[O]]]);const B=e.push("inline","",0);B.content=f[O]?f[O].trim():"",B.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return C&&(e.push("tbody_close","tbody",-1),C[1]=a),e.push("table_close","table",-1),w[1]=a,e.parentType=y,e.line=a,!0}function WT(e,t,r){if(e.sCount[t]-e.blkIndent<4)return!1;let n=t+1,a=n;for(;n<r;){if(e.isEmpty(n)){n++;continue}if(e.sCount[n]-e.blkIndent>=4){n++,a=n;continue}break}e.line=a;const i=e.push("code_block","code",0);return i.content=e.getLines(t,a,4+e.blkIndent,!1)+`
`,i.map=[t,e.line],!0}function JT(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||a+3>i)return!1;const l=e.src.charCodeAt(a);if(l!==126&&l!==96)return!1;let u=a;a=e.skipChars(a,l);let d=a-u;if(d<3)return!1;const f=e.src.slice(u,a),m=e.src.slice(a,i);if(l===96&&m.indexOf(String.fromCharCode(l))>=0)return!1;if(n)return!0;let b=t,y=!1;for(;b++,!(b>=r||(a=u=e.bMarks[b]+e.tShift[b],i=e.eMarks[b],a<i&&e.sCount[b]<e.blkIndent));)if(e.src.charCodeAt(a)===l&&!(e.sCount[b]-e.blkIndent>=4)&&(a=e.skipChars(a,l),!(a-u<d)&&(a=e.skipSpaces(a),!(a<i)))){y=!0;break}d=e.sCount[t],e.line=b+(y?1:0);const v=e.push("fence","code",0);return v.info=m,v.content=e.getLines(t+1,b,d,!0),v.markup=f,v.map=[t,e.line],!0}function eN(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];const l=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(a)!==62)return!1;if(n)return!0;const u=[],d=[],f=[],m=[],b=e.md.block.ruler.getRules("blockquote"),y=e.parentType;e.parentType="blockquote";let v=!1,x;for(x=t;x<r;x++){const j=e.sCount[x]<e.blkIndent;if(a=e.bMarks[x]+e.tShift[x],i=e.eMarks[x],a>=i)break;if(e.src.charCodeAt(a++)===62&&!j){let D=e.sCount[x]+1,O,$;e.src.charCodeAt(a)===32?(a++,D++,$=!1,O=!0):e.src.charCodeAt(a)===9?(O=!0,(e.bsCount[x]+D)%4===3?(a++,D++,$=!1):$=!0):O=!1;let B=D;for(u.push(e.bMarks[x]),e.bMarks[x]=a;a<i;){const Z=e.src.charCodeAt(a);if(kt(Z))Z===9?B+=4-(B+e.bsCount[x]+($?1:0))%4:B++;else break;a++}v=a>=i,d.push(e.bsCount[x]),e.bsCount[x]=e.sCount[x]+1+(O?1:0),f.push(e.sCount[x]),e.sCount[x]=B-D,m.push(e.tShift[x]),e.tShift[x]=a-e.bMarks[x];continue}if(v)break;let F=!1;for(let D=0,O=b.length;D<O;D++)if(b[D](e,x,r,!0)){F=!0;break}if(F){e.lineMax=x,e.blkIndent!==0&&(u.push(e.bMarks[x]),d.push(e.bsCount[x]),m.push(e.tShift[x]),f.push(e.sCount[x]),e.sCount[x]-=e.blkIndent);break}u.push(e.bMarks[x]),d.push(e.bsCount[x]),m.push(e.tShift[x]),f.push(e.sCount[x]),e.sCount[x]=-1}const w=e.blkIndent;e.blkIndent=0;const k=e.push("blockquote_open","blockquote",1);k.markup=">";const E=[t,0];k.map=E,e.md.block.tokenize(e,t,x);const C=e.push("blockquote_close","blockquote",-1);C.markup=">",e.lineMax=l,e.parentType=y,E[1]=e.line;for(let j=0;j<m.length;j++)e.bMarks[j+t]=u[j],e.tShift[j+t]=m[j],e.sCount[j+t]=f[j],e.bsCount[j+t]=d[j];return e.blkIndent=w,!0}function tN(e,t,r,n){const a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let i=e.bMarks[t]+e.tShift[t];const l=e.src.charCodeAt(i++);if(l!==42&&l!==45&&l!==95)return!1;let u=1;for(;i<a;){const f=e.src.charCodeAt(i++);if(f!==l&&!kt(f))return!1;f===l&&u++}if(u<3)return!1;if(n)return!0;e.line=t+1;const d=e.push("hr","hr",0);return d.map=[t,e.line],d.markup=Array(u+1).join(String.fromCharCode(l)),!0}function Ty(e,t){const r=e.eMarks[t];let n=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(n++);if(a!==42&&a!==45&&a!==43)return-1;if(n<r){const i=e.src.charCodeAt(n);if(!kt(i))return-1}return n}function Ny(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];let a=r;if(a+1>=n)return-1;let i=e.src.charCodeAt(a++);if(i<48||i>57)return-1;for(;;){if(a>=n)return-1;if(i=e.src.charCodeAt(a++),i>=48&&i<=57){if(a-r>=10)return-1;continue}if(i===41||i===46)break;return-1}return a<n&&(i=e.src.charCodeAt(a),!kt(i))?-1:a}function rN(e,t){const r=e.level+2;for(let n=t+2,a=e.tokens.length-2;n<a;n++)e.tokens[n].level===r&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}function nN(e,t,r,n){let a,i,l,u,d=t,f=!0;if(e.sCount[d]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[d]-e.listIndent>=4&&e.sCount[d]<e.blkIndent)return!1;let m=!1;n&&e.parentType==="paragraph"&&e.sCount[d]>=e.blkIndent&&(m=!0);let b,y,v;if((v=Ny(e,d))>=0){if(b=!0,l=e.bMarks[d]+e.tShift[d],y=Number(e.src.slice(l,v-1)),m&&y!==1)return!1}else if((v=Ty(e,d))>=0)b=!1;else return!1;if(m&&e.skipSpaces(v)>=e.eMarks[d])return!1;if(n)return!0;const x=e.src.charCodeAt(v-1),w=e.tokens.length;b?(u=e.push("ordered_list_open","ol",1),y!==1&&(u.attrs=[["start",y]])):u=e.push("bullet_list_open","ul",1);const k=[d,0];u.map=k,u.markup=String.fromCharCode(x);let E=!1;const C=e.md.block.ruler.getRules("list"),j=e.parentType;for(e.parentType="list";d<r;){i=v,a=e.eMarks[d];const F=e.sCount[d]+v-(e.bMarks[d]+e.tShift[d]);let D=F;for(;i<a;){const ce=e.src.charCodeAt(i);if(ce===9)D+=4-(D+e.bsCount[d])%4;else if(ce===32)D++;else break;i++}const O=i;let $;O>=a?$=1:$=D-F,$>4&&($=1);const B=F+$;u=e.push("list_item_open","li",1),u.markup=String.fromCharCode(x);const Z=[d,0];u.map=Z,b&&(u.info=e.src.slice(l,v-1));const G=e.tight,L=e.tShift[d],H=e.sCount[d],re=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=B,e.tight=!0,e.tShift[d]=O-e.bMarks[d],e.sCount[d]=D,O>=a&&e.isEmpty(d+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,d,r,!0),(!e.tight||E)&&(f=!1),E=e.line-d>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=re,e.tShift[d]=L,e.sCount[d]=H,e.tight=G,u=e.push("list_item_close","li",-1),u.markup=String.fromCharCode(x),d=e.line,Z[1]=d,d>=r||e.sCount[d]<e.blkIndent||e.sCount[d]-e.blkIndent>=4)break;let he=!1;for(let ce=0,Y=C.length;ce<Y;ce++)if(C[ce](e,d,r,!0)){he=!0;break}if(he)break;if(b){if(v=Ny(e,d),v<0)break;l=e.bMarks[d]+e.tShift[d]}else if(v=Ty(e,d),v<0)break;if(x!==e.src.charCodeAt(v-1))break}return b?u=e.push("ordered_list_close","ol",-1):u=e.push("bullet_list_close","ul",-1),u.markup=String.fromCharCode(x),k[1]=d,e.line=d,e.parentType=j,f&&rN(e,w),!0}function aN(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],l=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(a)!==91)return!1;function u(C){const j=e.lineMax;if(C>=j||e.isEmpty(C))return null;let F=!1;if(e.sCount[C]-e.blkIndent>3&&(F=!0),e.sCount[C]<0&&(F=!0),!F){const $=e.md.block.ruler.getRules("reference"),B=e.parentType;e.parentType="reference";let Z=!1;for(let G=0,L=$.length;G<L;G++)if($[G](e,C,j,!0)){Z=!0;break}if(e.parentType=B,Z)return null}const D=e.bMarks[C]+e.tShift[C],O=e.eMarks[C];return e.src.slice(D,O+1)}let d=e.src.slice(a,i+1);i=d.length;let f=-1;for(a=1;a<i;a++){const C=d.charCodeAt(a);if(C===91)return!1;if(C===93){f=a;break}else if(C===10){const j=u(l);j!==null&&(d+=j,i=d.length,l++)}else if(C===92&&(a++,a<i&&d.charCodeAt(a)===10)){const j=u(l);j!==null&&(d+=j,i=d.length,l++)}}if(f<0||d.charCodeAt(f+1)!==58)return!1;for(a=f+2;a<i;a++){const C=d.charCodeAt(a);if(C===10){const j=u(l);j!==null&&(d+=j,i=d.length,l++)}else if(!kt(C))break}const m=e.md.helpers.parseLinkDestination(d,a,i);if(!m.ok)return!1;const b=e.md.normalizeLink(m.str);if(!e.md.validateLink(b))return!1;a=m.pos;const y=a,v=l,x=a;for(;a<i;a++){const C=d.charCodeAt(a);if(C===10){const j=u(l);j!==null&&(d+=j,i=d.length,l++)}else if(!kt(C))break}let w=e.md.helpers.parseLinkTitle(d,a,i);for(;w.can_continue;){const C=u(l);if(C===null)break;d+=C,a=i,i=d.length,l++,w=e.md.helpers.parseLinkTitle(d,a,i,w)}let k;for(a<i&&x!==a&&w.ok?(k=w.str,a=w.pos):(k="",a=y,l=v);a<i;){const C=d.charCodeAt(a);if(!kt(C))break;a++}if(a<i&&d.charCodeAt(a)!==10&&k)for(k="",a=y,l=v;a<i;){const C=d.charCodeAt(a);if(!kt(C))break;a++}if(a<i&&d.charCodeAt(a)!==10)return!1;const E=Yd(d.slice(1,f));return E?(n||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[E]>"u"&&(e.env.references[E]={title:k,href:b}),e.line=l),!0):!1}const sN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iN="[a-zA-Z_:][a-zA-Z0-9:._-]*",oN="[^\"'=<>`\\x00-\\x20]+",lN="'[^']*'",uN='"[^"]*"',cN="(?:"+oN+"|"+lN+"|"+uN+")",dN="(?:\\s+"+iN+"(?:\\s*=\\s*"+cN+")?)",Dv="<[A-Za-z][A-Za-z0-9\\-]*"+dN+"*\\s*\\/?>",Mv="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",fN="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",hN="<[?][\\s\\S]*?[?]>",mN="<![A-Za-z][^>]*>",pN="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",bN=new RegExp("^(?:"+Dv+"|"+Mv+"|"+fN+"|"+hN+"|"+mN+"|"+pN+")"),gN=new RegExp("^(?:"+Dv+"|"+Mv+")"),Co=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+sN.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(gN.source+"\\s*$"),/^$/,!1]];function yN(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(a)!==60)return!1;let l=e.src.slice(a,i),u=0;for(;u<Co.length&&!Co[u][0].test(l);u++);if(u===Co.length)return!1;if(n)return Co[u][2];let d=t+1;if(!Co[u][1].test(l)){for(;d<r&&!(e.sCount[d]<e.blkIndent);d++)if(a=e.bMarks[d]+e.tShift[d],i=e.eMarks[d],l=e.src.slice(a,i),Co[u][1].test(l)){l.length!==0&&d++;break}}e.line=d;const f=e.push("html_block","",0);return f.map=[t,d],f.content=e.getLines(t,d,e.blkIndent,!0),!0}function xN(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let l=e.src.charCodeAt(a);if(l!==35||a>=i)return!1;let u=1;for(l=e.src.charCodeAt(++a);l===35&&a<i&&u<=6;)u++,l=e.src.charCodeAt(++a);if(u>6||a<i&&!kt(l))return!1;if(n)return!0;i=e.skipSpacesBack(i,a);const d=e.skipCharsBack(i,35,a);d>a&&kt(e.src.charCodeAt(d-1))&&(i=d),e.line=t+1;const f=e.push("heading_open","h"+String(u),1);f.markup="########".slice(0,u),f.map=[t,e.line];const m=e.push("inline","",0);m.content=e.src.slice(a,i).trim(),m.map=[t,e.line],m.children=[];const b=e.push("heading_close","h"+String(u),-1);return b.markup="########".slice(0,u),!0}function vN(e,t,r){const n=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const a=e.parentType;e.parentType="paragraph";let i=0,l,u=t+1;for(;u<r&&!e.isEmpty(u);u++){if(e.sCount[u]-e.blkIndent>3)continue;if(e.sCount[u]>=e.blkIndent){let v=e.bMarks[u]+e.tShift[u];const x=e.eMarks[u];if(v<x&&(l=e.src.charCodeAt(v),(l===45||l===61)&&(v=e.skipChars(v,l),v=e.skipSpaces(v),v>=x))){i=l===61?1:2;break}}if(e.sCount[u]<0)continue;let y=!1;for(let v=0,x=n.length;v<x;v++)if(n[v](e,u,r,!0)){y=!0;break}if(y)break}if(!i)return!1;const d=e.getLines(t,u,e.blkIndent,!1).trim();e.line=u+1;const f=e.push("heading_open","h"+String(i),1);f.markup=String.fromCharCode(l),f.map=[t,e.line];const m=e.push("inline","",0);m.content=d,m.map=[t,e.line-1],m.children=[];const b=e.push("heading_close","h"+String(i),-1);return b.markup=String.fromCharCode(l),e.parentType=a,!0}function _N(e,t,r){const n=e.md.block.ruler.getRules("paragraph"),a=e.parentType;let i=t+1;for(e.parentType="paragraph";i<r&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3||e.sCount[i]<0)continue;let f=!1;for(let m=0,b=n.length;m<b;m++)if(n[m](e,i,r,!0)){f=!0;break}if(f)break}const l=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i;const u=e.push("paragraph_open","p",1);u.map=[t,e.line];const d=e.push("inline","",0);return d.content=l,d.map=[t,e.line],d.children=[],e.push("paragraph_close","p",-1),e.parentType=a,!0}const D0=[["table",QT,["paragraph","reference"]],["code",WT],["fence",JT,["paragraph","reference","blockquote","list"]],["blockquote",eN,["paragraph","reference","blockquote","list"]],["hr",tN,["paragraph","reference","blockquote","list"]],["list",nN,["paragraph","reference","blockquote"]],["reference",aN],["html_block",yN,["paragraph","reference","blockquote"]],["heading",xN,["paragraph","reference","blockquote"]],["lheading",vN],["paragraph",_N]];function Xd(){this.ruler=new Vr;for(let e=0;e<D0.length;e++)this.ruler.push(D0[e][0],D0[e][1],{alt:(D0[e][2]||[]).slice()})}Xd.prototype.tokenize=function(e,t,r){const n=this.ruler.getRules(""),a=n.length,i=e.md.options.maxNesting;let l=t,u=!1;for(;l<r&&(e.line=l=e.skipEmptyLines(l),!(l>=r||e.sCount[l]<e.blkIndent));){if(e.level>=i){e.line=r;break}const d=e.line;let f=!1;for(let m=0;m<a;m++)if(f=n[m](e,l,r,!1),f){if(d>=e.line)throw new Error("block rule didn't increment state.line");break}if(!f)throw new Error("none of the block rules matched");e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),l=e.line,l<r&&e.isEmpty(l)&&(u=!0,l++,e.line=l)}};Xd.prototype.parse=function(e,t,r,n){if(!e)return;const a=new this.State(e,t,r,n);this.tokenize(a,a.line,a.lineMax)};Xd.prototype.State=ha;function rc(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}rc.prototype.pushPending=function(){const e=new $n("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};rc.prototype.push=function(e,t,r){this.pending&&this.pushPending();const n=new $n(e,t,r);let a=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(a),n};rc.prototype.scanDelims=function(e,t){const r=this.posMax,n=this.src.charCodeAt(e),a=e>0?this.src.charCodeAt(e-1):32;let i=e;for(;i<r&&this.src.charCodeAt(i)===n;)i++;const l=i-e,u=i<r?this.src.charCodeAt(i):32,d=Lu(a)||Fu(String.fromCharCode(a)),f=Lu(u)||Fu(String.fromCharCode(u)),m=Ru(a),b=Ru(u),y=!b&&(!f||m||d),v=!m&&(!d||b||f);return{can_open:y&&(t||!v||d),can_close:v&&(t||!y||f),length:l}};rc.prototype.Token=$n;function wN(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function kN(e,t){let r=e.pos;for(;r<e.posMax&&!wN(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}const SN=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function EN(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const r=e.pos,n=e.posMax;if(r+3>n||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47)return!1;const a=e.pending.match(SN);if(!a)return!1;const i=a[1],l=e.md.linkify.matchAtStart(e.src.slice(r-i.length));if(!l)return!1;let u=l.url;if(u.length<=i.length)return!1;u=u.replace(/\*+$/,"");const d=e.md.normalizeLink(u);if(!e.md.validateLink(d))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);const f=e.push("link_open","a",1);f.attrs=[["href",d]],f.markup="linkify",f.info="auto";const m=e.push("text","",0);m.content=e.md.normalizeLinkText(u);const b=e.push("link_close","a",-1);b.markup="linkify",b.info="auto"}return e.pos+=u.length-i.length,!0}function AN(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==10)return!1;const n=e.pending.length-1,a=e.posMax;if(!t)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){let i=n-1;for(;i>=1&&e.pending.charCodeAt(i-1)===32;)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(r++;r<a&&kt(e.src.charCodeAt(r));)r++;return e.pos=r,!0}const Jp=[];for(let e=0;e<256;e++)Jp.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Jp[e.charCodeAt(0)]=1});function CN(e,t){let r=e.pos;const n=e.posMax;if(e.src.charCodeAt(r)!==92||(r++,r>=n))return!1;let a=e.src.charCodeAt(r);if(a===10){for(t||e.push("hardbreak","br",0),r++;r<n&&(a=e.src.charCodeAt(r),!!kt(a));)r++;return e.pos=r,!0}let i=e.src[r];if(a>=55296&&a<=56319&&r+1<n){const u=e.src.charCodeAt(r+1);u>=56320&&u<=57343&&(i+=e.src[r+1],r++)}const l="\\"+i;if(!t){const u=e.push("text_special","",0);a<256&&Jp[a]!==0?u.content=i:u.content=l,u.markup=l,u.info="escape"}return e.pos=r+1,!0}function TN(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==96)return!1;const a=r;r++;const i=e.posMax;for(;r<i&&e.src.charCodeAt(r)===96;)r++;const l=e.src.slice(a,r),u=l.length;if(e.backticksScanned&&(e.backticks[u]||0)<=a)return t||(e.pending+=l),e.pos+=u,!0;let d=r,f;for(;(f=e.src.indexOf("`",d))!==-1;){for(d=f+1;d<i&&e.src.charCodeAt(d)===96;)d++;const m=d-f;if(m===u){if(!t){const b=e.push("code_inline","code",0);b.markup=l,b.content=e.src.slice(r,f).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=d,!0}e.backticks[m]=f}return e.backticksScanned=!0,t||(e.pending+=l),e.pos+=u,!0}function NN(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==126)return!1;const a=e.scanDelims(e.pos,!0);let i=a.length;const l=String.fromCharCode(n);if(i<2)return!1;let u;i%2&&(u=e.push("text","",0),u.content=l,i--);for(let d=0;d<i;d+=2)u=e.push("text","",0),u.content=l+l,e.delimiters.push({marker:n,length:0,token:e.tokens.length-1,end:-1,open:a.can_open,close:a.can_close});return e.pos+=a.length,!0}function Dy(e,t){let r;const n=[],a=t.length;for(let i=0;i<a;i++){const l=t[i];if(l.marker!==126||l.end===-1)continue;const u=t[l.end];r=e.tokens[l.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=e.tokens[u.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&n.push(u.token-1)}for(;n.length;){const i=n.pop();let l=i+1;for(;l<e.tokens.length&&e.tokens[l].type==="s_close";)l++;l--,i!==l&&(r=e.tokens[l],e.tokens[l]=e.tokens[i],e.tokens[i]=r)}}function DN(e){const t=e.tokens_meta,r=e.tokens_meta.length;Dy(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&Dy(e,t[n].delimiters)}const jv={tokenize:NN,postProcess:DN};function MN(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==95&&n!==42)return!1;const a=e.scanDelims(e.pos,n===42);for(let i=0;i<a.length;i++){const l=e.push("text","",0);l.content=String.fromCharCode(n),e.delimiters.push({marker:n,length:a.length,token:e.tokens.length-1,end:-1,open:a.can_open,close:a.can_close})}return e.pos+=a.length,!0}function My(e,t){const r=t.length;for(let n=r-1;n>=0;n--){const a=t[n];if(a.marker!==95&&a.marker!==42||a.end===-1)continue;const i=t[a.end],l=n>0&&t[n-1].end===a.end+1&&t[n-1].marker===a.marker&&t[n-1].token===a.token-1&&t[a.end+1].token===i.token+1,u=String.fromCharCode(a.marker),d=e.tokens[a.token];d.type=l?"strong_open":"em_open",d.tag=l?"strong":"em",d.nesting=1,d.markup=l?u+u:u,d.content="";const f=e.tokens[i.token];f.type=l?"strong_close":"em_close",f.tag=l?"strong":"em",f.nesting=-1,f.markup=l?u+u:u,f.content="",l&&(e.tokens[t[n-1].token].content="",e.tokens[t[a.end+1].token].content="",n--)}}function jN(e){const t=e.tokens_meta,r=e.tokens_meta.length;My(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&My(e,t[n].delimiters)}const zv={tokenize:MN,postProcess:jN};function zN(e,t){let r,n,a,i,l="",u="",d=e.pos,f=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const m=e.pos,b=e.posMax,y=e.pos+1,v=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(v<0)return!1;let x=v+1;if(x<b&&e.src.charCodeAt(x)===40){for(f=!1,x++;x<b&&(r=e.src.charCodeAt(x),!(!kt(r)&&r!==10));x++);if(x>=b)return!1;if(d=x,a=e.md.helpers.parseLinkDestination(e.src,x,e.posMax),a.ok){for(l=e.md.normalizeLink(a.str),e.md.validateLink(l)?x=a.pos:l="",d=x;x<b&&(r=e.src.charCodeAt(x),!(!kt(r)&&r!==10));x++);if(a=e.md.helpers.parseLinkTitle(e.src,x,e.posMax),x<b&&d!==x&&a.ok)for(u=a.str,x=a.pos;x<b&&(r=e.src.charCodeAt(x),!(!kt(r)&&r!==10));x++);}(x>=b||e.src.charCodeAt(x)!==41)&&(f=!0),x++}if(f){if(typeof e.env.references>"u")return!1;if(x<b&&e.src.charCodeAt(x)===91?(d=x+1,x=e.md.helpers.parseLinkLabel(e,x),x>=0?n=e.src.slice(d,x++):x=v+1):x=v+1,n||(n=e.src.slice(y,v)),i=e.env.references[Yd(n)],!i)return e.pos=m,!1;l=i.href,u=i.title}if(!t){e.pos=y,e.posMax=v;const w=e.push("link_open","a",1),k=[["href",l]];w.attrs=k,u&&k.push(["title",u]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=x,e.posMax=b,!0}function ON(e,t){let r,n,a,i,l,u,d,f,m="";const b=e.pos,y=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const v=e.pos+2,x=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(x<0)return!1;if(i=x+1,i<y&&e.src.charCodeAt(i)===40){for(i++;i<y&&(r=e.src.charCodeAt(i),!(!kt(r)&&r!==10));i++);if(i>=y)return!1;for(f=i,u=e.md.helpers.parseLinkDestination(e.src,i,e.posMax),u.ok&&(m=e.md.normalizeLink(u.str),e.md.validateLink(m)?i=u.pos:m=""),f=i;i<y&&(r=e.src.charCodeAt(i),!(!kt(r)&&r!==10));i++);if(u=e.md.helpers.parseLinkTitle(e.src,i,e.posMax),i<y&&f!==i&&u.ok)for(d=u.str,i=u.pos;i<y&&(r=e.src.charCodeAt(i),!(!kt(r)&&r!==10));i++);else d="";if(i>=y||e.src.charCodeAt(i)!==41)return e.pos=b,!1;i++}else{if(typeof e.env.references>"u")return!1;if(i<y&&e.src.charCodeAt(i)===91?(f=i+1,i=e.md.helpers.parseLinkLabel(e,i),i>=0?a=e.src.slice(f,i++):i=x+1):i=x+1,a||(a=e.src.slice(v,x)),l=e.env.references[Yd(a)],!l)return e.pos=b,!1;m=l.href,d=l.title}if(!t){n=e.src.slice(v,x);const w=[];e.md.inline.parse(n,e.md,e.env,w);const k=e.push("image","img",0),E=[["src",m],["alt",""]];k.attrs=E,k.children=w,k.content=n,d&&E.push(["title",d])}return e.pos=i,e.posMax=y,!0}const RN=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,FN=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function LN(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==60)return!1;const n=e.pos,a=e.posMax;for(;;){if(++r>=a)return!1;const l=e.src.charCodeAt(r);if(l===60)return!1;if(l===62)break}const i=e.src.slice(n+1,r);if(FN.test(i)){const l=e.md.normalizeLink(i);if(!e.md.validateLink(l))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",l]],u.markup="autolink",u.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(i);const f=e.push("link_close","a",-1);f.markup="autolink",f.info="auto"}return e.pos+=i.length+2,!0}if(RN.test(i)){const l=e.md.normalizeLink("mailto:"+i);if(!e.md.validateLink(l))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",l]],u.markup="autolink",u.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(i);const f=e.push("link_close","a",-1);f.markup="autolink",f.info="auto"}return e.pos+=i.length+2,!0}return!1}function BN(e){return/^<a[>\s]/i.test(e)}function PN(e){return/^<\/a\s*>/i.test(e)}function IN(e){const t=e|32;return t>=97&&t<=122}function $N(e,t){if(!e.md.options.html)return!1;const r=e.posMax,n=e.pos;if(e.src.charCodeAt(n)!==60||n+2>=r)return!1;const a=e.src.charCodeAt(n+1);if(a!==33&&a!==63&&a!==47&&!IN(a))return!1;const i=e.src.slice(n).match(bN);if(!i)return!1;if(!t){const l=e.push("html_inline","",0);l.content=i[0],BN(l.content)&&e.linkLevel++,PN(l.content)&&e.linkLevel--}return e.pos+=i[0].length,!0}const HN=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,qN=/^&([a-z][a-z0-9]{1,31});/i;function UN(e,t){const r=e.pos,n=e.posMax;if(e.src.charCodeAt(r)!==38||r+1>=n)return!1;if(e.src.charCodeAt(r+1)===35){const i=e.src.slice(r).match(HN);if(i){if(!t){const l=i[1][0].toLowerCase()==="x"?parseInt(i[1].slice(1),16):parseInt(i[1],10),u=e.push("text_special","",0);u.content=Qp(l)?kd(l):kd(65533),u.markup=i[0],u.info="entity"}return e.pos+=i[0].length,!0}}else{const i=e.src.slice(r).match(qN);if(i){const l=Ev(i[0]);if(l!==i[0]){if(!t){const u=e.push("text_special","",0);u.content=l,u.markup=i[0],u.info="entity"}return e.pos+=i[0].length,!0}}}return!1}function jy(e){const t={},r=e.length;if(!r)return;let n=0,a=-2;const i=[];for(let l=0;l<r;l++){const u=e[l];if(i.push(0),(e[n].marker!==u.marker||a!==u.token-1)&&(n=l),a=u.token,u.length=u.length||0,!u.close)continue;t.hasOwnProperty(u.marker)||(t[u.marker]=[-1,-1,-1,-1,-1,-1]);const d=t[u.marker][(u.open?3:0)+u.length%3];let f=n-i[n]-1,m=f;for(;f>d;f-=i[f]+1){const b=e[f];if(b.marker===u.marker&&b.open&&b.end<0){let y=!1;if((b.close||u.open)&&(b.length+u.length)%3===0&&(b.length%3!==0||u.length%3!==0)&&(y=!0),!y){const v=f>0&&!e[f-1].open?i[f-1]+1:0;i[l]=l-f+v,i[f]=v,u.open=!1,b.end=l,b.close=!1,m=-1,a=-2;break}}}m!==-1&&(t[u.marker][(u.open?3:0)+(u.length||0)%3]=m)}}function VN(e){const t=e.tokens_meta,r=e.tokens_meta.length;jy(e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&jy(t[n].delimiters)}function GN(e){let t,r,n=0;const a=e.tokens,i=e.tokens.length;for(t=r=0;t<i;t++)a[t].nesting<0&&n--,a[t].level=n,a[t].nesting>0&&n++,a[t].type==="text"&&t+1<i&&a[t+1].type==="text"?a[t+1].content=a[t].content+a[t+1].content:(t!==r&&(a[r]=a[t]),r++);t!==r&&(a.length=r)}const K1=[["text",kN],["linkify",EN],["newline",AN],["escape",CN],["backticks",TN],["strikethrough",jv.tokenize],["emphasis",zv.tokenize],["link",zN],["image",ON],["autolink",LN],["html_inline",$N],["entity",UN]],Y1=[["balance_pairs",VN],["strikethrough",jv.postProcess],["emphasis",zv.postProcess],["fragments_join",GN]];function nc(){this.ruler=new Vr;for(let e=0;e<K1.length;e++)this.ruler.push(K1[e][0],K1[e][1]);this.ruler2=new Vr;for(let e=0;e<Y1.length;e++)this.ruler2.push(Y1[e][0],Y1[e][1])}nc.prototype.skipToken=function(e){const t=e.pos,r=this.ruler.getRules(""),n=r.length,a=e.md.options.maxNesting,i=e.cache;if(typeof i[t]<"u"){e.pos=i[t];return}let l=!1;if(e.level<a){for(let u=0;u<n;u++)if(e.level++,l=r[u](e,!0),e.level--,l){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;l||e.pos++,i[t]=e.pos};nc.prototype.tokenize=function(e){const t=this.ruler.getRules(""),r=t.length,n=e.posMax,a=e.md.options.maxNesting;for(;e.pos<n;){const i=e.pos;let l=!1;if(e.level<a){for(let u=0;u<r;u++)if(l=t[u](e,!1),l){if(i>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(l){if(e.pos>=n)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};nc.prototype.parse=function(e,t,r,n){const a=new this.State(e,t,r,n);this.tokenize(a);const i=this.ruler2.getRules(""),l=i.length;for(let u=0;u<l;u++)i[u](a)};nc.prototype.State=rc;function ZN(e){const t={};e=e||{},t.src_Any=vv.source,t.src_Cc=_v.source,t.src_Z=kv.source,t.src_P=Yp.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const r="[><]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Ym(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function Qd(e){return Object.prototype.toString.call(e)}function KN(e){return Qd(e)==="[object String]"}function YN(e){return Qd(e)==="[object Object]"}function XN(e){return Qd(e)==="[object RegExp]"}function zy(e){return Qd(e)==="[object Function]"}function QN(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Ov={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function WN(e){return Object.keys(e||{}).reduce(function(t,r){return t||Ov.hasOwnProperty(r)},!1)}const JN={"http:":{validate:function(e,t,r){const n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){const n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){const n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},eD="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tD="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function rD(e){e.__index__=-1,e.__text_cache__=""}function nD(e){return function(t,r){const n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function Oy(){return function(e,t){t.normalize(e)}}function Sd(e){const t=e.re=ZN(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(eD),r.push(t.src_xn),t.src_tlds=r.join("|");function n(u){return u.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");const a=[];e.__compiled__={};function i(u,d){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+d)}Object.keys(e.__schemas__).forEach(function(u){const d=e.__schemas__[u];if(d===null)return;const f={validate:null,link:null};if(e.__compiled__[u]=f,YN(d)){XN(d.validate)?f.validate=nD(d.validate):zy(d.validate)?f.validate=d.validate:i(u,d),zy(d.normalize)?f.normalize=d.normalize:d.normalize?i(u,d):f.normalize=Oy();return}if(KN(d)){a.push(u);return}i(u,d)}),a.forEach(function(u){e.__compiled__[e.__schemas__[u]]&&(e.__compiled__[u].validate=e.__compiled__[e.__schemas__[u]].validate,e.__compiled__[u].normalize=e.__compiled__[e.__schemas__[u]].normalize)}),e.__compiled__[""]={validate:null,normalize:Oy()};const l=Object.keys(e.__compiled__).filter(function(u){return u.length>0&&e.__compiled__[u]}).map(QN).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),rD(e)}function aD(e,t){const r=e.__index__,n=e.__last_index__,a=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=a,this.text=a,this.url=a}function Xm(e,t){const r=new aD(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function on(e,t){if(!(this instanceof on))return new on(e,t);t||WN(e)&&(t=e,e={}),this.__opts__=Ym({},Ov,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ym({},JN,e),this.__compiled__={},this.__tlds__=tD,this.__tlds_replaced__=!1,this.re={},Sd(this)}on.prototype.add=function(t,r){return this.__schemas__[t]=r,Sd(this),this};on.prototype.set=function(t){return this.__opts__=Ym(this.__opts__,t),this};on.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let r,n,a,i,l,u,d,f,m;if(this.re.schema_test.test(t)){for(d=this.re.schema_search,d.lastIndex=0;(r=d.exec(t))!==null;)if(i=this.testSchemaAt(t,r[2],d.lastIndex),i){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(f=t.search(this.re.host_fuzzy_test),f>=0&&(this.__index__<0||f<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=n.index+n[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(m=t.indexOf("@"),m>=0&&(a=t.match(this.re.email_fuzzy))!==null&&(l=a.index+a[1].length,u=a.index+a[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=u))),this.__index__>=0};on.prototype.pretest=function(t){return this.re.pretest.test(t)};on.prototype.testSchemaAt=function(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};on.prototype.match=function(t){const r=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(r.push(Xm(this,n)),n=this.__last_index__);let a=n?t.slice(n):t;for(;this.test(a);)r.push(Xm(this,n)),a=a.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};on.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const r=this.re.schema_at_start.exec(t);if(!r)return null;const n=this.testSchemaAt(t,r[2],r[0].length);return n?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+n,Xm(this,0)):null};on.prototype.tlds=function(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,a,i){return n!==i[a-1]}).reverse(),Sd(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Sd(this),this)};on.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};on.prototype.onCompile=function(){};const Oo=2147483647,ra=36,e2=1,Bu=26,sD=38,iD=700,Rv=72,Fv=128,Lv="-",oD=/^xn--/,lD=/[^\0-\x7F]/,uD=/[\x2E\u3002\uFF0E\uFF61]/g,cD={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},X1=ra-e2,na=Math.floor,Q1=String.fromCharCode;function Es(e){throw new RangeError(cD[e])}function dD(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function Bv(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(uD,".");const a=e.split("."),i=dD(a,t).join(".");return n+i}function Pv(e){const t=[];let r=0;const n=e.length;for(;r<n;){const a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){const i=e.charCodeAt(r++);(i&64512)==56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t}const fD=e=>String.fromCodePoint(...e),hD=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:ra},Ry=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Iv=function(e,t,r){let n=0;for(e=r?na(e/iD):e>>1,e+=na(e/t);e>X1*Bu>>1;n+=ra)e=na(e/X1);return na(n+(X1+1)*e/(e+sD))},$v=function(e){const t=[],r=e.length;let n=0,a=Fv,i=Rv,l=e.lastIndexOf(Lv);l<0&&(l=0);for(let u=0;u<l;++u)e.charCodeAt(u)>=128&&Es("not-basic"),t.push(e.charCodeAt(u));for(let u=l>0?l+1:0;u<r;){const d=n;for(let m=1,b=ra;;b+=ra){u>=r&&Es("invalid-input");const y=hD(e.charCodeAt(u++));y>=ra&&Es("invalid-input"),y>na((Oo-n)/m)&&Es("overflow"),n+=y*m;const v=b<=i?e2:b>=i+Bu?Bu:b-i;if(y<v)break;const x=ra-v;m>na(Oo/x)&&Es("overflow"),m*=x}const f=t.length+1;i=Iv(n-d,f,d==0),na(n/f)>Oo-a&&Es("overflow"),a+=na(n/f),n%=f,t.splice(n++,0,a)}return String.fromCodePoint(...t)},Hv=function(e){const t=[];e=Pv(e);const r=e.length;let n=Fv,a=0,i=Rv;for(const d of e)d<128&&t.push(Q1(d));const l=t.length;let u=l;for(l&&t.push(Lv);u<r;){let d=Oo;for(const m of e)m>=n&&m<d&&(d=m);const f=u+1;d-n>na((Oo-a)/f)&&Es("overflow"),a+=(d-n)*f,n=d;for(const m of e)if(m<n&&++a>Oo&&Es("overflow"),m===n){let b=a;for(let y=ra;;y+=ra){const v=y<=i?e2:y>=i+Bu?Bu:y-i;if(b<v)break;const x=b-v,w=ra-v;t.push(Q1(Ry(v+x%w,0))),b=na(x/w)}t.push(Q1(Ry(b,0))),i=Iv(a,f,u===l),a=0,++u}++a,++n}return t.join("")},mD=function(e){return Bv(e,function(t){return oD.test(t)?$v(t.slice(4).toLowerCase()):t})},pD=function(e){return Bv(e,function(t){return lD.test(t)?"xn--"+Hv(t):t})},qv={version:"2.3.1",ucs2:{decode:Pv,encode:fD},decode:$v,encode:Hv,toASCII:pD,toUnicode:mD},bD={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},gD={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},yD={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},xD={default:bD,zero:gD,commonmark:yD},vD=/^(vbscript|javascript|file|data):/,_D=/^data:image\/(gif|png|jpeg|webp);/;function wD(e){const t=e.trim().toLowerCase();return vD.test(t)?_D.test(t):!0}const Uv=["http:","https:","mailto:"];function kD(e){const t=Kp(e,!0);if(t.hostname&&(!t.protocol||Uv.indexOf(t.protocol)>=0))try{t.hostname=qv.toASCII(t.hostname)}catch{}return tc(Zp(t))}function SD(e){const t=Kp(e,!0);if(t.hostname&&(!t.protocol||Uv.indexOf(t.protocol)>=0))try{t.hostname=qv.toUnicode(t.hostname)}catch{}return Ho(Zp(t),Ho.defaultChars+"%")}function ln(e,t){if(!(this instanceof ln))return new ln(e,t);t||Xp(e)||(t=e||{},e="default"),this.inline=new nc,this.block=new Xd,this.core=new Wp,this.renderer=new Wo,this.linkify=new on,this.validateLink=wD,this.normalizeLink=kD,this.normalizeLinkText=SD,this.utils=AT,this.helpers=Kd({},DT),this.options={},this.configure(e),t&&this.set(t)}ln.prototype.set=function(e){return Kd(this.options,e),this};ln.prototype.configure=function(e){const t=this;if(Xp(e)){const r=e;if(e=xD[r],!e)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};ln.prototype.enable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(a){r=r.concat(this[a].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));const n=e.filter(function(a){return r.indexOf(a)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};ln.prototype.disable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(a){r=r.concat(this[a].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));const n=e.filter(function(a){return r.indexOf(a)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};ln.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};ln.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};ln.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};ln.prototype.parseInline=function(e,t){const r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};ln.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var W1,Fy;function ED(){return Fy||(Fy=1,W1=function(t){function r(a,i){var l,u,d,f,m,b=a.pos,y=a.src.charCodeAt(b);if(i||y!==43||(u=a.scanDelims(a.pos,!0),f=u.length,m=String.fromCharCode(y),f<2))return!1;for(f%2&&(d=a.push("text","",0),d.content=m,f--),l=0;l<f;l+=2)d=a.push("text","",0),d.content=m+m,!(!u.can_open&&!u.can_close)&&a.delimiters.push({marker:y,length:0,jump:l/2,token:a.tokens.length-1,end:-1,open:u.can_open,close:u.can_close});return a.pos+=u.length,!0}function n(a,i){var l,u,d,f,m,b=[],y=i.length;for(l=0;l<y;l++)d=i[l],d.marker===43&&d.end!==-1&&(f=i[d.end],m=a.tokens[d.token],m.type="ins_open",m.tag="ins",m.nesting=1,m.markup="++",m.content="",m=a.tokens[f.token],m.type="ins_close",m.tag="ins",m.nesting=-1,m.markup="++",m.content="",a.tokens[f.token-1].type==="text"&&a.tokens[f.token-1].content==="+"&&b.push(f.token-1));for(;b.length;){for(l=b.pop(),u=l+1;u<a.tokens.length&&a.tokens[u].type==="ins_close";)u++;u--,l!==u&&(m=a.tokens[u],a.tokens[u]=a.tokens[l],a.tokens[l]=m)}}t.inline.ruler.before("emphasis","ins",r),t.inline.ruler2.before("emphasis","ins",function(a){var i,l=a.tokens_meta,u=(a.tokens_meta||[]).length;for(n(a,a.delimiters),i=0;i<u;i++)l[i]&&l[i].delimiters&&n(a,l[i].delimiters)})}),W1}var AD=ED();const CD=Tp(AD);function TD(e){return!e.startsWith("/media/")&&!e.startsWith("/media/")?e:ve.BASE.replace(/\/$/,"")+e}function ND(e,t){return e.replace(/\\includegraphics(?:\[[^\]]*\])?\{\s*([^}]+?)\s*\}/g,(r,n)=>{let a=n.trim();return a.startsWith("@")&&(a=a.substring(1)),/^(data\/)?bank\/\d+\//i.test(a)?a=a.replace(/^(?:data\/)?bank\/(\d+)\//i,"/media/bank/$1/"):a.startsWith("/media/bank/")&&a.includes("/attachments/")||t?.baseImageUrl&&!/^https?:\/\//i.test(a)&&!/^(blob:|data:|\/)/i.test(a)&&(a=t.baseImageUrl.replace(/\/media\/(\d+)\//,"/media/bank/$1/").replace(/\/$/,"")+"/"+a.replace(/^\/?/,"")),`![](${TD(a)})`})}function Os(e,t,r){if(e.includes("")&&(e=e.replace(//g,"'")),e=ND(e,r),t?.length)for(const y of t){const v=new RegExp(y.id,"g");e=e.replace(v,y.blobUrl)}let n=e.replace(/\\\[([\s\S]+?)\\\]/g,(y,v)=>`$$${v}$$`);n=n.replace(/\\u\{([\s\S]+?)\}/g,(y,v)=>`++${v}++`);const a=/```[\s\S]*?```/g,i=[];n=n.replace(a,y=>`@@CODE_BLOCK_${i.push(y)-1}@@`);const l=/((?:^\|.*\|.*\n)+^\|.*\|.*$)/gm,u=[];n=n.replace(l,y=>`@@TABLE_BLOCK_${u.push(y)-1}@@`);const d=/\$\$([\s\S]*?)\$\$|\$([^$\n]*?)\$/g,f=[];n=n.replace(d,y=>`@@MATH_BLOCK_${f.push(y)-1}@@`),n=n.replace(/\\n(?!\\s*(?:[-*+]\\s|\\d+\\.\\s|[a-z]\\.\\s))/g,`

<br>

`),n=n.replace(/@@MATH_BLOCK_(\d+)@@/g,(y,v)=>f[Number(v)]),n=n.replace(/@@CODE_BLOCK_(\d+)@@/g,(y,v)=>i[Number(v)]),n=n.replace(/@@TABLE_BLOCK_(\d+)@@/g,(y,v)=>u[Number(v)]);const m=new ln({html:!0,breaks:!0,linkify:!0}).use(CD);return m.enable("table"),n=n.replace(/^(\s*[a-z]\. .+(?:\n\s*[a-z]\. .+)*)/gim,y=>`<ol type="a" class="alpha-list">${y.split(/\n/).filter(w=>w.trim()).map(w=>w.replace(/^\s*[a-z]\.\s*/i,"")).map(w=>`<li>${m.renderInline(w)}</li>`).join("")}</ol>`),m.render(n)}const Mo={plus:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>',minus:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>'};function DD(e,t=!1){if(!e?.length)return"";const r=e.map(n=>{const a=`${n.max_points}\\,\\mathcal{${n.ability_code}}_{${n.level_code}}`,i=Os(n.description_text??"");return`<div class="assessment-item"><span class="assessment-prefix">$${a}$</span> : ${i}</div>`});return t?`<div class="assessment-details expanded">${r.join("")}</div>`:`<details class="assessment-details"><summary>Visa bedmning</summary>${r.join("")}</details>`}function MD(e){return Array.from(new Set(e))}function jD(e){if(!e?.length)return"";const t=["E","C","A"],r=MD(e.map(l=>l.ability_code)),n=new Set;e.forEach(l=>{n.add(`${l.ability_code}|${l.level_code}`)});const a=`<tr><th></th>${t.map(l=>`<th>${l}</th>`).join("")}</tr>`,i=r.map(l=>{const u=t.map(d=>{const f=`${l}|${d}`;return`<td class="${n.has(f)?"filled":"empty"}"></td>`}).join("");return`<tr><td class="ability-label">${l}</td>${u}</tr>`});return`<table class="heatmap-table"><tbody>${a}${i.join("")}</tbody></table>`}function zD(e){const t={is_np:"NP",is_digital:"DIG",is_s:"SEC",is_r:"REP",is_elev:"ELEV",is_fake:"AI",is_whole:"HEL"},r=[];Object.keys(t).forEach(i=>{e[i]&&r.push(t[i])});const n=e.is_public??!1,a=e.request_publish??!1;return!a&&!n&&r.push("PRIV"),a&&r.push("REQ"),r.length?`<div class="flags">
    ${r.map(i=>`<span class="flag">${i}</span>`).join(" ")}
  </div>`:""}function OD(e,t,r,n,a=!1){const i=jD(t),l=zD(r),u=n?`<button class="edit-btn" data-problem-id="${e}" title="Redigera">${Mo.edit}</button>`:"";return`<div class="card-controls">
    <div class="button-row">
      ${a?`<button class="remove-btn" data-problem-id="${e}" title="Ta bort frn minnet">${Mo.minus}</button>`:`<button class="add-btn-1" data-problem-id="${e}" title="Lgg till i Del 1">${Mo.plus}</button>
       <button class="add-btn-2" data-problem-id="${e}" title="Lgg till i Del 2">${Mo.plus}</button>`}
      ${u}
    </div>
    ${i}
    ${l}
  </div>`}function RD(e,t={}){const r=t.hiddenProblemIds?.has(Number(e.bank_problem_definition_id))??!1,n=Os(e.prompt_tex,[],{baseImageUrl:`${ve.BASE}/media/bank/${e.bank_problem_definition_id}`}),a=DD(e.assessment_items,t.isEditing??!1),i=OD(e.bank_problem_definition_id,e.assessment_items,e,t.canEdit??!1,t.showRemoveButtons??!1),l=e.owner_id??e.created_by??"",u=e.owner_username??"",d=u?`${u}(@${l})`:l?`@${l}`:"",f=`<div class="card-header"><span class="problem-id">#${e.bank_problem_definition_id}</span>${d?`<span class="problem-id">${d}</span>`:""}</div>`,m=e.points_e??0,b=e.points_c??0,y=e.points_a??0,v=m+b+y>0?`(${m}/${b}/${y})`:"",x=v?`<div class="prompt-points-container">${v}</div>`:"";return r?`
<div class="problem-card-container problem-content problem-hidden" data-problem-id="${e.bank_problem_definition_id}">
  ${f}
  <div class="card-content">
    <div class="prompt-wrapper">
      <div class="prompt-text-container">${n}</div>
      <div class="controls-container">${x}
        <div class="card-controls">
          <div class="button-row">
            <button class="add-btn-1 disabled" data-problem-id="${e.bank_problem_definition_id}" title="Redan i minnet" disabled>${Mo.plus}</button>
            <button class="add-btn-2 disabled" data-problem-id="${e.bank_problem_definition_id}" title="Redan i minnet" disabled>${Mo.plus}</button>
          </div>
        </div>
      </div>
    </div>
    ${a}
  </div>
</div>
    `:`
<div class="problem-card-container problem-content" data-problem-id="${e.bank_problem_definition_id}">
  ${f}
  <div class="card-content">
    <div class="prompt-wrapper">
      <div class="prompt-text-container">${n}</div>
      <div class="controls-container">${x}${i}</div>
    </div>
    ${a}
  </div>
</div>
  `}function Wd({problem:e,problems:t,mode:r,pendingImages:n=[],onEdit:a,onAddToMemory:i,onRemoveFromMemory:l,showRemoveButtons:u=!1,hiddenProblemIds:d,canEdit:f}){const m=N.useRef(null),b=N.useRef(void 0),{token:y}=un(),v=N.useRef(new Map),x=N.useCallback(B=>{const Z=[],G=/\\includegraphics(?:\[[^\]]*\])?\{\s*([^}]+?)\s*\}/g;let L;for(;(L=G.exec(B))!==null;){let H=L[1].trim();if(H.startsWith("@")&&(H=H.slice(1)),!/^https?:/i.test(H)&&!H.startsWith("blob:")&&!H.startsWith("data:")){const re=`${ve.BASE}/media/bank/${e?.bank_problem_definition_id??""}`.replace(/\/$/,"");H.startsWith("/")?H=ve.BASE.replace(/\/$/,"")+H:H=`${re}/${H}`}Z.push(H)}return Z},[e?.bank_problem_definition_id]),w=N.useCallback(B=>{const Z=Os(B.prompt_tex,[],{baseImageUrl:`${ve.BASE}/media/bank/${B.bank_problem_definition_id}`}),G=B.assessment_items?.filter(Y=>Y.level_code==="E").reduce((Y,ie)=>Y+ie.max_points,0)??0,L=B.assessment_items?.filter(Y=>Y.level_code==="C").reduce((Y,ie)=>Y+ie.max_points,0)??0,H=B.assessment_items?.filter(Y=>Y.level_code==="A").reduce((Y,ie)=>Y+ie.max_points,0)??0,re=G+L+H>0?`(${G}/${L}/${H})`:"",he=re?`<div class="prompt-points-container">${re}</div>`:"",ce=B.assessment_items?.length?`<div class="assessment-details expanded" style="border: none; background: none; padding: 0; margin: 16px 0 0 0;">
           <hr style="border: none; height: 1px; background: var(--border-secondary); margin: 0 0 16px 0;">
           ${B.assessment_items.map(Y=>{const ie=`\\mathcal{${Y.max_points}\\,${Y.ability_code}}_{${Y.level_code}}`,Ee=Os(Y.description_text??"");return`<div class="assessment-item">
                       <div class="prefix-container">
                         <span class="prefix-math">$${ie}$</span>
                         <span class="prefix-colon">:</span>
                       </div>
                       <span class="desc">${Ee}</span>
                     </div>`}).join("")}
         </div>`:"";return`
      <div class="problem-card-container problem-content" data-problem-id="${B.bank_problem_definition_id}">
        <div class="card-content">
          <div class="prompt-wrapper">
            <div class="prompt-text-container">${Z}</div>
            <div class="controls-container">${he}</div>
          </div>
          ${ce}
        </div>
      </div>
    `},[]),k=N.useCallback(B=>`
      <div class="problem-list-container">
        ${B.map(G=>G.type==="separator"?`
          <div class="problem-separator">
            <h3 class="separator-title">${G.title}</h3>
          </div>
        `:RD(G,{canEdit:f?f(G):!!a,showRemoveButtons:u,isEditing:!1,hiddenProblemIds:d})).join("")}
      </div>
    `,[a,u,d,f]),E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",C=N.useCallback((B,Z)=>{let G=B;if(n&&n.length&&n.forEach(L=>{const H=L.blobUrl.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),re=new RegExp(`(src\\s*=\\s*)(["']?)${H}\\2`,"g");G=G.replace(re,`$1$2${E}$2 data-orig="${L.blobUrl}"`)}),Z){const L=H=>H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");x(Z.prompt_tex).filter(H=>H.startsWith("http")).forEach(H=>{const re=new RegExp(`(src\\s*=\\s*)(["']?)${L(H)}\\2`,"g");G=G.replace(re,`$1$2${E}$2 data-orig="${H}"`)})}else G=G.replace(/(src\s*=\s*)(["'])(https?:[^"']+)\2/gi,(L,H,re,he)=>`${H}${re}${E}${re} data-orig="${he}"`);return G},[n,x]),j=N.useCallback(()=>r==="preview"&&e?w(e):r==="list"&&t?k(t):"",[r,e,t,w,k]),F=N.useCallback(()=>{if(!m.current)return;const B=m.current,Z=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'self' 'unsafe-inline' http://localhost:8000 https://dekkkz.github.io; font-src 'self' data: http://localhost:8000 https://dekkkz.github.io; script-src 'self' http://localhost:8000 https://dekkkz.github.io; img-src blob: data: http://localhost:8000 https://83.251.173.209.nip.io; connect-src 'self';">
        <link rel="stylesheet" href="./katex/katex.min.css">
        <link rel="stylesheet" href="./static/problem-iframe.css">
        <script src="./katex/katex.min.js"><\/script>
        <script src="./katex/auto-render.min.js"><\/script>
        <script src="./static/iframe-init.js"><\/script>
        <style>
          @font-face {
            font-family: 'Latin Modern Roman';
            src: url('./fonts/latin-modern/lmroman10-regular.otf') format('opentype');
            font-weight: 400;
            font-style: normal;
          }
          @font-face {
            font-family: 'Latin Modern Roman';
            src: url('./fonts/latin-modern/lmroman10-italic.otf') format('opentype');
            font-weight: 400;
            font-style: italic;
          }
          @font-face {
            font-family: 'Latin Modern Roman';
            src: url('./fonts/latin-modern/lmroman12-bold.otf') format('opentype');
            font-weight: 700;
            font-style: normal;
          }
          body {
            font-family: 'Latin Modern Roman', 'CMU Serif', serif !important;
          }
        </style>
      </head>
      <body>
        <div id="content"></div>
      </body>
      </html>
    `;B.srcdoc=Z},[]),D=N.useCallback((B,Z=!1)=>{if(!m.current)return;const L=m.current.contentWindow;L&&L.postMessage({type:"html",payload:B,mode:r,resetScroll:Z},"*")},[r]),[O,$]=N.useState(!1);return N.useEffect(()=>{F()},[F]),N.useEffect(()=>{const B=Z=>{Z.data.type==="iframe-ready"&&$(!0)};return window.addEventListener("message",B),()=>window.removeEventListener("message",B)},[]),N.useEffect(()=>{if(!O)return;(()=>{const Z=j(),G=C(Z,r==="preview"?e:void 0);let L=!1;if(r==="list"&&t&&t.length){const H=t.find(re=>re&&"bank_problem_definition_id"in re)?.bank_problem_definition_id;b.current!==void 0&&H!==b.current&&(L=!0),b.current=H}D(G,L)})()},[j,C,D,O,r,t,e]),N.useEffect(()=>{if(!O||r!=="preview"||!e)return;const Z=x(e.prompt_tex).filter(G=>G.startsWith("http")).filter(G=>!v.current.has(G));Z.length!==0&&(async()=>{for(const G of Z)try{const L=await fetch(G,y?{headers:{Authorization:`Bearer ${y}`}}:void 0);if(!L.ok)continue;const H=await L.blob();v.current.set(G,H),m.current?.contentWindow?.postMessage({type:"img-blob",orig:G,blob:H},"*")}catch{}})()},[O,r,e?.prompt_tex,y,x]),N.useEffect(()=>{if(r!=="list")return;const B=Z=>{if(Z.data.type==="add-to-memory-1"&&i)i(Z.data.problemId,1);else if(Z.data.type==="add-to-memory-2"&&i)i(Z.data.problemId,2);else if(Z.data.type==="remove-from-memory"&&l)l(Z.data.problemId,1),l(Z.data.problemId,2);else if(Z.data.type==="edit"&&a&&t){const G=t.find(L=>"bank_problem_definition_id"in L&&L.bank_problem_definition_id===Z.data.problemId);G&&"bank_problem_definition_id"in G&&a(G)}};return window.addEventListener("message",B),()=>window.removeEventListener("message",B)},[r,i,l,a,t]),N.useEffect(()=>{if(r!=="list"||!e)return;const B=m.current;if(!B)return;const Z=new IntersectionObserver(async([G])=>{if(!G.isIntersecting)return;const L=x(e.prompt_tex);await Promise.all(L.map(async H=>{if(!v.current.has(H))try{const re=await fetch(H,{headers:{Authorization:`Bearer ${y}`}});if(!re.ok)throw new Error(re.statusText);const he=await re.blob();v.current.set(H,he),B.contentWindow?.postMessage({type:"img-blob",orig:H,blob:he},"*")}catch(re){console.error("lazy-img error",re)}}))},{rootMargin:"200px"});return Z.observe(B),()=>Z.disconnect()},[r,e,y,x]),N.useEffect(()=>{const B=async Z=>{if(Z.data?.type!=="request-img")return;const G=Z.data.url;try{if(v.current.has(G)){const re=v.current.get(G);m.current?.contentWindow?.postMessage({type:"img-blob",orig:G,blob:re},"*");return}const L=await fetch(G,y?{headers:{Authorization:`Bearer ${y}`}}:void 0);if(!L.ok)throw new Error(L.statusText);const H=await L.blob();v.current.set(G,H),m.current?.contentWindow?.postMessage({type:"img-blob",orig:G,blob:H},"*")}catch(L){console.error("request-img fetch error",L)}};return window.addEventListener("message",B),()=>window.removeEventListener("message",B)},[y]),N.useEffect(()=>{if(!O||!n?.length)return;const B=m.current;B&&n.forEach(Z=>{v.current.has(Z.blobUrl)||(v.current.set(Z.blobUrl,Z.file),B.contentWindow?.postMessage({type:"img-blob",orig:Z.blobUrl,blob:Z.file},"*"))})},[O,n]),p.jsx("iframe",{ref:m,className:"preview-iframe",style:{width:"100%",height:"100%",minHeight:"400px",maxWidth:"100%",border:"none",outline:"none",backgroundColor:"transparent",boxShadow:"none",overflow:"auto"},sandbox:"allow-scripts",title:"Problem preview"})}const Vv=e=>zi({queryKey:["subject-abilities-by-id",e],queryFn:async()=>{if(!e)throw new Error("No subject ID provided");try{const t=await ME.listAbilitiesAbilitiesGet(e);if(t&&t.length)return t.map(r=>({ability_code:r.code,ability_name:r.name,description:r.description||"",subject_id:e}))}catch(t){console.warn("abilities endpoint error:",t)}try{return(await zt.getSubjectCompleteApiHierarchySubjectsSubjectIdCompleteGet(e)).abilities||[]}catch(t){return console.warn("hierarchy fallback also failed:",t),[]}},enabled:!!e,retry:!1,staleTime:1/0}),FD=Vv;function vu(e,t){const{data:r,isLoading:n,error:a}=zi({queryKey:["hierarchy","parents",e,t],enabled:!!t,staleTime:6e5,queryFn:async()=>{if(!t)throw new Error("ID is required for parent lookup");const i=await zt.getParentsApiHierarchyParentsTypeIdGet(e,t);return{subject_id:i.subject_id??null,course_id:i.course_id??null,chapter_id:i.chapter_id??null,area_id:i.area_id??null}}});return{parentPath:r,loading:n,error:a}}const LD=({hierarchyFilter:e,onFilterChange:t})=>{const[r,n]=N.useState(""),[a,i]=N.useState(null),[l,u]=N.useState([]),[d,f]=N.useState({}),[m,b]=N.useState(!1),[y,v]=N.useState(""),[x,w]=N.useState({abilities:!1,flags:!1,exclude:!1}),[k,E]=N.useState(!1),[C,j]=N.useState(!1),F=e.area_ids?.[0],D=e.chapter_ids?.[0],O=e.course_ids?.[0],$=e.subject_ids?.[0],{parentPath:B}=vu("area",F||null),{parentPath:Z}=vu("chapter",D||null),{parentPath:G}=vu("course",O||null),L=$||B?.subject_id||Z?.subject_id||G?.subject_id||null,{data:H}=FD(L),re=H?.map(xe=>xe.ability_code)||[];N.useEffect(()=>{const xe=y?y.split(",").map(ze=>parseInt(ze.trim())).filter(ze=>!isNaN(ze)):[],Oe={...e,search:r||void 0,max_level:a,abilities:l.length>0?l:void 0,flags_allowed:Object.keys(d).length>0?d:void 0,own_only:m?!0:void 0,exclude_ids:xe.length>0?xe:void 0};t(Oe)},[r,a,l,d,m,y,e,t]);const he=N.useCallback(xe=>{n(xe)},[]),ce=N.useCallback(xe=>{i(xe)},[]),Y=N.useCallback(xe=>{u(xe)},[]),ie=N.useCallback(xe=>{f(xe)},[]),Ee=N.useCallback(()=>{b(xe=>!xe)},[]),Be=N.useCallback(xe=>{v(xe)},[]),I=N.useCallback(()=>{n(""),i(null),u([]),f({}),b(!1),v("")},[]),le=N.useCallback(xe=>{w(Oe=>({...Oe,[xe]:!Oe[xe]}))},[]),ue=N.useCallback(()=>{E(xe=>!xe)},[]),ge=N.useCallback(()=>{j(xe=>!xe)},[]);return{search:r,level:a,abilities:l,flags:d,ownOnly:m,excludeIdsText:y,openTabs:x,levelFilterOpen:k,excludeFilterOpen:C,availableAbilities:re,subjectId:L,handleSearchChange:he,handleLevelChange:ce,handleAbilitiesChange:Y,handleFlagsChange:ie,handleOwnOnlyToggle:Ee,handleExcludeIdsChange:Be,handleReset:I,toggleTab:le,toggleLevelFilter:ue,toggleExcludeFilter:ge}},BD=({hierarchyFilter:e,onGreedyResult:t})=>{const[r,n]=N.useState({}),[a,i]=N.useState([]),l=N.useMemo(()=>({...e,...r,exclude_ids:[...e.exclude_ids||[],...r.exclude_ids||[],...a].length>0?[...e.exclude_ids||[],...r.exclude_ids||[],...a]:void 0}),[e,r,a]),u=N.useCallback(m=>{n(m)},[]),d=N.useCallback(m=>{i(b=>[...b,...m]),t?.(m)},[t]),f=N.useCallback(()=>{i([])},[]);return{hierarchyFilter:e,problemFilter:r,fullFilter:l,greedyExclusions:a,handleGreedyResult:d,resetGreedyExclusions:f,handleProblemFilterChange:u}},PD=({subjectId:e,fullFilter:t,excludeIds:r,greedyExclusions:n=[],memory:a,onGreedyResult:i})=>{const[l,u]=N.useState(!1);return{handleGreedy:async()=>{if(!e){alert("Vlj ett mne (subject) frst.");return}u(!0);try{async function f(){const w={...t},k=100;let E=1,C=[];for(;;)try{const j=await oa.searchProblemsV1ProblemsSearchPost({...w,page:E,page_size:k});if(C=C.concat(j.problem_ids),j.problem_ids.length<k||C.length>=1e3)break;E+=1}catch(j){console.error(j);break}return C.slice(0,1e3)}const m=await f();if(!m.length){alert("Inga problem matchar nuvarande filter.");return}const y=[...Array.from(r||[]),...n],v={subject_id:e,problem_ids:m.slice(0,1e3),temp_test:[...a?.part1Ids||[],...a?.part2Ids||[]],exclude_ids:y.length>0?y:void 0,max_suggestions:10},x=await jE.getGreedySuggestionsV1SuggestionsGreedyPost(v);i?i(x.suggested_ids):alert(`Greedy freslog ${x.suggested_ids.length} problem
`+x.suggested_ids.join(", "))}catch(f){console.error(f),alert("Greedy-frslag misslyckades")}finally{u(!1)}},isLoading:l}},ID=({value:e,onChange:t})=>p.jsx("div",{className:"flex-1 min-w-[150px]",children:p.jsxs("div",{className:"relative",children:[p.jsx(dC,{size:14,className:"absolute left-2 top-1/2 transform -translate-y-1/2",style:{color:"var(--text-muted)"}}),p.jsx("input",{type:"text",className:"w-full pl-8 pr-2 py-1 text-sm rounded border",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",backgroundColor:"var(--bg-panel)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},placeholder:"Sk i uppgiftstext",value:e,onChange:r=>t(r.target.value)})]})}),$D=[{label:"Niv",value:null},{label:"E",value:"E"},{label:"C",value:"C"},{label:"A",value:"A"}],HD=({value:e,onChange:t,isOpen:r,onToggle:n})=>{const a=N.useRef(null);return N.useEffect(()=>{const i=l=>{r&&a.current&&!a.current.contains(l.target)&&n()};return r&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r,n]),p.jsxs("div",{className:"relative",ref:a,children:[p.jsxs("button",{className:"text-sm flex items-center gap-1 px-2 py-1 rounded border",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",color:"var(--text-secondary)",backgroundColor:r?"var(--bg-secondary)":"transparent",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},onClick:n,title:"Niv",children:[e||"Niv",p.jsx(Ri,{size:14})]}),r&&p.jsx("div",{className:"absolute top-full left-0 mt-1 z-50 rounded-lg border shadow-lg",style:{backgroundColor:"var(--bg-panel)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",minWidth:"200px"},children:p.jsxs("div",{className:"p-3",children:[p.jsx("div",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Niv"}),p.jsx("div",{className:"flex flex-col gap-1",children:$D.map(i=>p.jsx("button",{className:"px-3 py-2 rounded text-sm border cursor-pointer transition-all duration-200 hover:bg-accent-primary/10",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",backgroundColor:e===i.value?"var(--accent-primary)":"transparent",color:e===i.value?"var(--button-text)":"var(--text-primary)",borderColor:e===i.value?"var(--accent-primary)":"var(--border-primary)",borderStyle:"solid",borderWidth:"1px",textAlign:"left"},onClick:()=>{t(i.value),n()},children:i.label},i.label))})]})})]})},qD=({abilities:e,availableAbilities:t,onChange:r,isOpen:n,onToggle:a})=>{const i=N.useRef(null);N.useEffect(()=>{const u=d=>{n&&i.current&&!i.current.contains(d.target)&&a()};return n&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[n,a]);const l=u=>{const f=e.includes(u)?e.filter(m=>m!==u):[...e,u];r(f)};return p.jsxs("div",{className:"relative",ref:i,children:[p.jsx("button",{className:"text-sm flex items-center gap-1 px-2 py-1 rounded border",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",color:"var(--text-secondary)",backgroundColor:n?"var(--bg-secondary)":"transparent",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},onClick:a,title:"Frmgor",children:p.jsx(Gp,{size:14})}),n&&p.jsx("div",{className:"absolute top-full left-0 mt-1 z-50 rounded-lg border shadow-lg",style:{backgroundColor:"var(--bg-panel)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",minWidth:"200px"},children:p.jsxs("div",{className:"p-3",children:[p.jsx("div",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Frmgor"}),p.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.map(u=>p.jsx("button",{className:"px-2 py-1 rounded text-sm border cursor-pointer flex items-center gap-1.5 transition-all duration-200 hover:scale-105 active:scale-95",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",backgroundColor:e.includes(u)?"var(--accent-primary)":"var(--bg-panel)",color:e.includes(u)?"var(--button-text)":"var(--text-primary)",borderColor:e.includes(u)?"var(--accent-primary)":"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},onClick:()=>l(u),title:`Frmga: ${u}`,children:p.jsx("span",{className:"font-mono",children:u})},u)),t.length===0&&p.jsx("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Inga frmgor tillgngliga fr valt mne"})]})]})})]})},UD={is_digital:p.jsx(mv,{size:12}),is_np:p.jsx(Gd,{size:12}),is_s:p.jsx(Bo,{size:12}),is_r:p.jsx(ec,{size:12}),is_fake:p.jsx(cv,{size:12}),is_elev:p.jsx(fv,{size:12}),is_whole:p.jsx(Gp,{size:12}),request_publish:p.jsx(Po,{size:12})},VD=[{key:"is_np",label:"NP"},{key:"is_digital",label:"DIG"},{key:"is_s",label:"SEC"},{key:"is_r",label:"R"},{key:"is_fake",label:"AI"},{key:"is_elev",label:"ELEV"},{key:"is_whole",label:"HEL"},{key:"request_publish",label:"REQ"}],GD=({flags:e,onChange:t,isOpen:r,onToggle:n})=>{const a=N.useRef(null);N.useEffect(()=>{const l=u=>{r&&a.current&&!a.current.contains(u.target)&&n()};return r&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[r,n]);const i=l=>{const u=e[l],d={...e};u===void 0?d[l]=!0:u===!0?d[l]=!1:delete d[l],t(d)};return p.jsxs("div",{className:"relative",ref:a,children:[p.jsx("button",{className:"text-sm flex items-center gap-1 px-2 py-1 rounded border",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",color:"var(--text-secondary)",backgroundColor:r?"var(--bg-secondary)":"transparent",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},onClick:n,title:"Flaggor",children:p.jsx(Up,{size:14})}),r&&p.jsx("div",{className:"absolute top-full left-0 mt-1 z-50 rounded-lg border shadow-lg",style:{backgroundColor:"var(--bg-panel)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",minWidth:"200px"},children:p.jsxs("div",{className:"p-3",children:[p.jsx("div",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Flaggor"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:VD.map(l=>{const u=e[l.key],d=u===!0,f=u===!1;return p.jsxs("button",{className:"px-2 py-1 rounded text-sm border cursor-pointer flex items-center gap-1.5 transition-all duration-200 hover:scale-105 active:scale-95",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",backgroundColor:d?"var(--accent-primary)":f?"var(--bg-secondary)":"var(--bg-panel)",color:d?"var(--button-text)":f?"var(--text-muted)":"var(--text-primary)",borderColor:d?"var(--accent-primary)":f?"var(--text-muted)":"var(--border-primary)",borderStyle:"solid",borderWidth:"1px",opacity:f?.6:1,textDecoration:f?"line-through":"none"},onClick:()=>i(l.key),title:`${l.key}: ${l.label}${d?" (krvs)":f?" (exkluderad)":" (neutral)"}`,children:[UD[l.key],p.jsx("span",{className:"font-mono",children:l.label})]},l.key)})})]})})]})},ZD=({value:e,onChange:t,isOpen:r,onToggle:n})=>{const a=N.useRef(null);return N.useEffect(()=>{const i=l=>{r&&a.current&&!a.current.contains(l.target)&&n()};return r&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r,n]),p.jsxs("div",{className:"relative",ref:a,children:[p.jsx("button",{className:"text-sm flex items-center gap-1 px-2 py-1 rounded border",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",color:"var(--text-secondary)",backgroundColor:r?"var(--bg-secondary)":"transparent",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},onClick:n,title:"Exclude IDs",children:p.jsx(PE,{size:14})}),r&&p.jsx("div",{className:"absolute top-full left-0 mt-1 z-50 rounded-lg border shadow-lg",style:{backgroundColor:"var(--bg-panel)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",minWidth:"250px"},children:p.jsxs("div",{className:"p-3",children:[p.jsx("div",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Exclude IDs"}),p.jsx("input",{type:"text",className:"w-full px-2 py-1 rounded text-sm border font-mono",style:{fontSize:"12px",backgroundColor:"var(--bg-panel)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},placeholder:"201, 211, 25, 37",value:e,onChange:i=>t(i.target.value)}),p.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Ange problem-ID:n separerade med komma som ska exkluderas"})]})})]})},KD=({onTrigger:e,disabled:t=!1})=>p.jsxs("button",{className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 hover:scale-105 active:scale-95",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",backgroundColor:"var(--accent-primary)",color:"var(--button-text)",borderColor:"var(--accent-primary)",borderStyle:"solid",borderWidth:"1px",opacity:t?.5:1,cursor:t?"not-allowed":"pointer",transformOrigin:"center"},onClick:e,disabled:t,title:"Greedy-frslag",children:[p.jsx(KE,{size:14}),p.jsx("span",{className:"font-mono text-xs leading-none transform translate-y-0.5",style:{transformOrigin:"center"},children:"GREEDY"})]}),YD=({hierarchyFilter:e,onFilterChange:t,onGreedyResult:r,greedyExclusions:n,memory:a})=>{const{search:i,level:l,abilities:u,flags:d,ownOnly:f,excludeIdsText:m,openTabs:b,levelFilterOpen:y,excludeFilterOpen:v,availableAbilities:x,subjectId:w,handleSearchChange:k,handleLevelChange:E,handleAbilitiesChange:C,handleFlagsChange:j,handleOwnOnlyToggle:F,handleExcludeIdsChange:D,handleReset:O,toggleTab:$,toggleLevelFilter:B,toggleExcludeFilter:Z}=LD({hierarchyFilter:e,onFilterChange:t}),{handleGreedy:G,isLoading:L}=PD({subjectId:w,fullFilter:{...e,search:i,max_level:l,abilities:u,flags_allowed:Object.keys(d).length>0?Object.fromEntries(Object.entries(d).filter(([,H])=>H!==void 0)):void 0,own_only:f,exclude_ids:m?m.split(",").map(H=>parseInt(H.trim())).filter(H=>!isNaN(H)):void 0},excludeIds:new Set(m?m.split(",").map(H=>parseInt(H.trim())).filter(H=>!isNaN(H)):[]),greedyExclusions:n,memory:a,onGreedyResult:r});return p.jsx("div",{className:"w-full",children:p.jsxs("div",{className:"flex justify-between items-center gap-3 flex-wrap",children:[p.jsx(ID,{value:i,onChange:k}),p.jsx(HD,{value:l,onChange:E,isOpen:y,onToggle:B}),p.jsxs("div",{className:"flex gap-1 items-center flex-wrap",children:[p.jsx("button",{className:"px-2 py-1 rounded text-sm border flex items-center gap-1",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",backgroundColor:f?"var(--accent-primary)":"var(--bg-secondary)",color:f?"var(--button-text)":"var(--text-primary)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},onClick:F,title:"Visa endast mina problem",children:p.jsx($o,{size:14})}),p.jsx(KD,{onTrigger:G,disabled:!w||L}),p.jsx("button",{className:"px-2 py-1 rounded text-sm border flex items-center gap-1",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},onClick:O,title:"terstll filter",children:p.jsx(lC,{size:14})})]}),p.jsxs("div",{className:"flex gap-1 items-center",children:[p.jsx(qD,{abilities:u,availableAbilities:x,onChange:C,isOpen:b.abilities,onToggle:()=>$("abilities")}),p.jsx(GD,{flags:d,onChange:j,isOpen:b.flags,onToggle:()=>$("flags")}),p.jsx(ZD,{value:m,onChange:D,isOpen:v,onToggle:Z})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ac(e){return e+.5|0}const Ns=(e,t,r)=>Math.max(Math.min(e,r),t);function pu(e){return Ns(ac(e*2.55),0,255)}function Rs(e){return Ns(ac(e*255),0,255)}function Pa(e){return Ns(ac(e/2.55)/100,0,1)}function Ly(e){return Ns(ac(e*100),0,100)}const _n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qm=[..."0123456789ABCDEF"],XD=e=>Qm[e&15],QD=e=>Qm[(e&240)>>4]+Qm[e&15],M0=e=>(e&240)>>4===(e&15),WD=e=>M0(e.r)&&M0(e.g)&&M0(e.b)&&M0(e.a);function JD(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&_n[e[1]]*17,g:255&_n[e[2]]*17,b:255&_n[e[3]]*17,a:t===5?_n[e[4]]*17:255}:(t===7||t===9)&&(r={r:_n[e[1]]<<4|_n[e[2]],g:_n[e[3]]<<4|_n[e[4]],b:_n[e[5]]<<4|_n[e[6]],a:t===9?_n[e[7]]<<4|_n[e[8]]:255})),r}const eM=(e,t)=>e<255?t(e):"";function tM(e){var t=WD(e)?XD:QD;return e?"#"+t(e.r)+t(e.g)+t(e.b)+eM(e.a,t):void 0}const rM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Gv(e,t,r){const n=t*Math.min(r,1-r),a=(i,l=(i+e/30)%12)=>r-n*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function nM(e,t,r){const n=(a,i=(a+e/60)%6)=>r-r*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function aM(e,t,r){const n=Gv(e,1,.5);let a;for(t+r>1&&(a=1/(t+r),t*=a,r*=a),a=0;a<3;a++)n[a]*=1-t-r,n[a]+=t;return n}function sM(e,t,r,n,a){return e===a?(t-r)/n+(t<r?6:0):t===a?(r-e)/n+2:(e-t)/n+4}function t2(e){const r=e.r/255,n=e.g/255,a=e.b/255,i=Math.max(r,n,a),l=Math.min(r,n,a),u=(i+l)/2;let d,f,m;return i!==l&&(m=i-l,f=u>.5?m/(2-i-l):m/(i+l),d=sM(r,n,a,m,i),d=d*60+.5),[d|0,f||0,u]}function r2(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(Rs)}function n2(e,t,r){return r2(Gv,e,t,r)}function iM(e,t,r){return r2(aM,e,t,r)}function oM(e,t,r){return r2(nM,e,t,r)}function Zv(e){return(e%360+360)%360}function lM(e){const t=rM.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?pu(+t[5]):Rs(+t[5]));const a=Zv(+t[2]),i=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?n=iM(a,i,l):t[1]==="hsv"?n=oM(a,i,l):n=n2(a,i,l),{r:n[0],g:n[1],b:n[2],a:r}}function uM(e,t){var r=t2(e);r[0]=Zv(r[0]+t),r=n2(r),e.r=r[0],e.g=r[1],e.b=r[2]}function cM(e){if(!e)return;const t=t2(e),r=t[0],n=Ly(t[1]),a=Ly(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${a}%, ${Pa(e.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const By={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Py={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dM(){const e={},t=Object.keys(Py),r=Object.keys(By);let n,a,i,l,u;for(n=0;n<t.length;n++){for(l=u=t[n],a=0;a<r.length;a++)i=r[a],u=u.replace(i,By[i]);i=parseInt(Py[l],16),e[u]=[i>>16&255,i>>8&255,i&255]}return e}let j0;function fM(e){j0||(j0=dM(),j0.transparent=[0,0,0,0]);const t=j0[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const hM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mM(e){const t=hM.exec(e);let r=255,n,a,i;if(t){if(t[7]!==n){const l=+t[7];r=t[8]?pu(l):Ns(l*255,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?pu(n):Ns(n,0,255)),a=255&(t[4]?pu(a):Ns(a,0,255)),i=255&(t[6]?pu(i):Ns(i,0,255)),{r:n,g:a,b:i,a:r}}}function pM(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Pa(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const J1=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,To=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function bM(e,t,r){const n=To(Pa(e.r)),a=To(Pa(e.g)),i=To(Pa(e.b));return{r:Rs(J1(n+r*(To(Pa(t.r))-n))),g:Rs(J1(a+r*(To(Pa(t.g))-a))),b:Rs(J1(i+r*(To(Pa(t.b))-i))),a:e.a+r*(t.a-e.a)}}function z0(e,t,r){if(e){let n=t2(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=n2(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Kv(e,t){return e&&Object.assign(t||{},e)}function Iy(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Rs(e[3]))):(t=Kv(e,{r:0,g:0,b:0,a:1}),t.a=Rs(t.a)),t}function gM(e){return e.charAt(0)==="r"?mM(e):lM(e)}class Pu{constructor(t){if(t instanceof Pu)return t;const r=typeof t;let n;r==="object"?n=Iy(t):r==="string"&&(n=JD(t)||fM(t)||gM(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Kv(this._rgb);return t&&(t.a=Pa(t.a)),t}set rgb(t){this._rgb=Iy(t)}rgbString(){return this._valid?pM(this._rgb):void 0}hexString(){return this._valid?tM(this._rgb):void 0}hslString(){return this._valid?cM(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,a=t.rgb;let i;const l=r===i?.5:r,u=2*l-1,d=n.a-a.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;i=1-f,n.r=255&f*n.r+i*a.r+.5,n.g=255&f*n.g+i*a.g+.5,n.b=255&f*n.b+i*a.b+.5,n.a=l*n.a+(1-l)*a.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=bM(this._rgb,t._rgb,r)),this}clone(){return new Pu(this.rgb)}alpha(t){return this._rgb.a=Rs(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=ac(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return z0(this._rgb,2,t),this}darken(t){return z0(this._rgb,2,-t),this}saturate(t){return z0(this._rgb,1,t),this}desaturate(t){return z0(this._rgb,1,-t),this}rotate(t){return uM(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function za(){}const yM=(()=>{let e=0;return()=>e++})();function ct(e){return e==null}function pr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function lt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Sn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Xn(e,t){return Sn(e)?e:t}function nt(e,t){return typeof e>"u"?t:e}const xM=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Et(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function ht(e,t,r,n){let a,i,l;if(pr(e))for(i=e.length,a=0;a<i;a++)t.call(r,e[a],a);else if(lt(e))for(l=Object.keys(e),i=l.length,a=0;a<i;a++)t.call(r,e[l[a]],l[a])}function Ed(e,t){let r,n,a,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(a=e[r],i=t[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Ad(e){if(pr(e))return e.map(Ad);if(lt(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let a=0;for(;a<n;++a)t[r[a]]=Ad(e[r[a]]);return t}return e}function Yv(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function vM(e,t,r,n){if(!Yv(e))return;const a=t[e],i=r[e];lt(a)&&lt(i)?Iu(a,i,n):t[e]=Ad(i)}function Iu(e,t,r){const n=pr(t)?t:[t],a=n.length;if(!lt(e))return e;r=r||{};const i=r.merger||vM;let l;for(let u=0;u<a;++u){if(l=n[u],!lt(l))continue;const d=Object.keys(l);for(let f=0,m=d.length;f<m;++f)i(d[f],e,l,r)}return e}function _u(e,t){return Iu(e,t,{merger:_M})}function _M(e,t,r){if(!Yv(e))return;const n=t[e],a=r[e];lt(n)&&lt(a)?_u(n,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ad(a))}const $y={"":e=>e,x:e=>e.x,y:e=>e.y};function wM(e){const t=e.split("."),r=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function kM(e){const t=wM(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function Uo(e,t){return($y[t]||($y[t]=kM(t)))(e)}function a2(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $u=e=>typeof e<"u",Ls=e=>typeof e=="function",Hy=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function SM(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Er=Math.PI,la=2*Er,EM=la+Er,Cd=Number.POSITIVE_INFINITY,AM=Er/180,Fn=Er/2,oi=Er/4,qy=Er*2/3,Xv=Math.log10,ua=Math.sign;function wu(e,t,r){return Math.abs(e-t)<r}function Uy(e){const t=Math.round(e);e=wu(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(Xv(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function CM(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((a,i)=>a-i).pop(),t}function TM(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Hu(e){return!TM(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function NM(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function DM(e,t,r){let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function gi(e){return e*(Er/180)}function MM(e){return e*(180/Er)}function Vy(e){if(!Sn(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function jM(e,t){const r=t.x-e.x,n=t.y-e.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Er&&(i+=la),{angle:i,distance:a}}function Wm(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function zM(e,t){return(e-t+EM)%la-Er}function Ss(e){return(e%la+la)%la}function Qv(e,t,r,n){const a=Ss(e),i=Ss(t),l=Ss(r),u=Ss(i-a),d=Ss(l-a),f=Ss(a-i),m=Ss(a-l);return a===i||a===l||n&&i===l||u>d&&f<m}function an(e,t,r){return Math.max(t,Math.min(r,e))}function OM(e){return an(e,-32768,32767)}function yi(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function s2(e,t,r){r=r||(l=>e[l]<t);let n=e.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const xi=(e,t,r,n)=>s2(e,r,n?a=>{const i=e[a][t];return i<r||i===r&&e[a+1][t]===r}:a=>e[a][t]<r),RM=(e,t,r)=>s2(e,r,n=>e[n][t]>=r);function FM(e,t,r){let n=0,a=e.length;for(;n<a&&e[n]<t;)n++;for(;a>n&&e[a-1]>r;)a--;return n>0||a<e.length?e.slice(n,a):e}const Wv=["push","pop","shift","splice","unshift"];function LM(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Wv.forEach(r=>{const n="_onData"+a2(r),a=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...i){const l=a.apply(this,i);return e._chartjs.listeners.forEach(u=>{typeof u[n]=="function"&&u[n](...i)}),l}})})}function Gy(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(t);a!==-1&&n.splice(a,1),!(n.length>0)&&(Wv.forEach(i=>{delete e[i]}),delete e._chartjs)}function Jv(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const e8=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function t8(e,t){let r=[],n=!1;return function(...a){r=a,n||(n=!0,e8.call(window,()=>{n=!1,e.apply(t,r)}))}}function BM(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const r8=e=>e==="start"?"left":e==="end"?"right":"center",tn=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,PM=(e,t,r,n)=>e===(n?"left":"right")?r:e==="center"?(t+r)/2:t;function IM(e,t,r){const n=t.length;let a=0,i=n;if(e._sorted){const{iScale:l,vScale:u,_parsed:d}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,m=l.axis,{min:b,max:y,minDefined:v,maxDefined:x}=l.getUserBounds();if(v){if(a=Math.min(xi(d,m,b).lo,r?n:xi(t,m,l.getPixelForValue(b)).lo),f){const w=d.slice(0,a+1).reverse().findIndex(k=>!ct(k[u.axis]));a-=Math.max(0,w)}a=an(a,0,n-1)}if(x){let w=Math.max(xi(d,l.axis,y,!0).hi+1,r?0:xi(t,m,l.getPixelForValue(y),!0).hi+1);if(f){const k=d.slice(w-1).findIndex(E=>!ct(E[u.axis]));w+=Math.max(0,k)}i=an(w,a,n)-a}else i=n-a}return{start:a,count:i}}function $M(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,a={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const O0=e=>e===0||e===1,Zy=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*la/r)),Ky=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*la/r)+1,ku={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Fn)+1,easeOutSine:e=>Math.sin(e*Fn),easeInOutSine:e=>-.5*(Math.cos(Er*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>O0(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>O0(e)?e:Zy(e,.075,.3),easeOutElastic:e=>O0(e)?e:Ky(e,.075,.3),easeInOutElastic(e){return O0(e)?e:e<.5?.5*Zy(e*2,.1125,.45):.5+.5*Ky(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ku.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ku.easeInBounce(e*2)*.5:ku.easeOutBounce(e*2-1)*.5+.5};function i2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Yy(e){return i2(e)?e:new Pu(e)}function em(e){return i2(e)?e:new Pu(e).saturate(.5).darken(.1).hexString()}const HM=["x","y","borderWidth","radius","tension"],qM=["color","borderColor","backgroundColor"];function UM(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:qM},numbers:{type:"number",properties:HM}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function VM(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xy=new Map;function GM(e,t){t=t||{};const r=e+JSON.stringify(t);let n=Xy.get(r);return n||(n=new Intl.NumberFormat(e,t),Xy.set(r,n)),n}function n8(e,t,r){return GM(t,r).format(e)}const ZM={values(e){return pr(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let a,i=e;if(r.length>1){const f=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),i=KM(e,r)}const l=Xv(Math.abs(i)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),n8(e,n,d)}};function KM(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var a8={formatters:ZM};function YM(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:a8.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ni=Object.create(null),Jm=Object.create(null);function Su(e,t){if(!t)return e;const r=t.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];e=e[i]||(e[i]=Object.create(null))}return e}function tm(e,t,r){return typeof t=="string"?Iu(Su(e,t),r):Iu(Su(e,""),t)}class XM{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>em(a.backgroundColor),this.hoverBorderColor=(n,a)=>em(a.borderColor),this.hoverColor=(n,a)=>em(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return tm(this,t,r)}get(t){return Su(this,t)}describe(t,r){return tm(Jm,t,r)}override(t,r){return tm(Ni,t,r)}route(t,r,n,a){const i=Su(this,t),l=Su(this,n),u="_"+r;Object.defineProperties(i,{[u]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const d=this[u],f=l[a];return lt(d)?Object.assign({},f,d):nt(d,f)},set(d){this[u]=d}}})}apply(t){t.forEach(r=>r(this))}}var Vt=new XM({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[UM,VM,YM]);function QM(e){return!e||ct(e.size)||ct(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Qy(e,t,r,n,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,r.push(a)),i>n&&(n=i),n}function li(e,t,r){const n=e.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((t-a)*n)/n+a}function Wy(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ep(e,t,r,n){s8(e,t,r,n,null)}function s8(e,t,r,n,a){let i,l,u,d,f,m,b,y;const v=t.pointStyle,x=t.rotation,w=t.radius;let k=(x||0)*AM;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(k),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(w)||w<=0)){switch(e.beginPath(),v){default:a?e.ellipse(r,n,a/2,w,0,0,la):e.arc(r,n,w,0,la),e.closePath();break;case"triangle":m=a?a/2:w,e.moveTo(r+Math.sin(k)*m,n-Math.cos(k)*w),k+=qy,e.lineTo(r+Math.sin(k)*m,n-Math.cos(k)*w),k+=qy,e.lineTo(r+Math.sin(k)*m,n-Math.cos(k)*w),e.closePath();break;case"rectRounded":f=w*.516,d=w-f,l=Math.cos(k+oi)*d,b=Math.cos(k+oi)*(a?a/2-f:d),u=Math.sin(k+oi)*d,y=Math.sin(k+oi)*(a?a/2-f:d),e.arc(r-b,n-u,f,k-Er,k-Fn),e.arc(r+y,n-l,f,k-Fn,k),e.arc(r+b,n+u,f,k,k+Fn),e.arc(r-y,n+l,f,k+Fn,k+Er),e.closePath();break;case"rect":if(!x){d=Math.SQRT1_2*w,m=a?a/2:d,e.rect(r-m,n-d,2*m,2*d);break}k+=oi;case"rectRot":b=Math.cos(k)*(a?a/2:w),l=Math.cos(k)*w,u=Math.sin(k)*w,y=Math.sin(k)*(a?a/2:w),e.moveTo(r-b,n-u),e.lineTo(r+y,n-l),e.lineTo(r+b,n+u),e.lineTo(r-y,n+l),e.closePath();break;case"crossRot":k+=oi;case"cross":b=Math.cos(k)*(a?a/2:w),l=Math.cos(k)*w,u=Math.sin(k)*w,y=Math.sin(k)*(a?a/2:w),e.moveTo(r-b,n-u),e.lineTo(r+b,n+u),e.moveTo(r+y,n-l),e.lineTo(r-y,n+l);break;case"star":b=Math.cos(k)*(a?a/2:w),l=Math.cos(k)*w,u=Math.sin(k)*w,y=Math.sin(k)*(a?a/2:w),e.moveTo(r-b,n-u),e.lineTo(r+b,n+u),e.moveTo(r+y,n-l),e.lineTo(r-y,n+l),k+=oi,b=Math.cos(k)*(a?a/2:w),l=Math.cos(k)*w,u=Math.sin(k)*w,y=Math.sin(k)*(a?a/2:w),e.moveTo(r-b,n-u),e.lineTo(r+b,n+u),e.moveTo(r+y,n-l),e.lineTo(r-y,n+l);break;case"line":l=a?a/2:Math.cos(k)*w,u=Math.sin(k)*w,e.moveTo(r-l,n-u),e.lineTo(r+l,n+u);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(k)*(a?a/2:w),n+Math.sin(k)*w);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function qu(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function o2(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function l2(e){e.restore()}function WM(e,t,r,n,a){if(!t)return e.lineTo(r.x,r.y);if(a==="middle"){const i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else a==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function JM(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function ej(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ct(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function tj(e,t,r,n,a){if(a.strikethrough||a.underline){const i=e.measureText(n),l=t-i.actualBoundingBoxLeft,u=t+i.actualBoundingBoxRight,d=r-i.actualBoundingBoxAscent,f=r+i.actualBoundingBoxDescent,m=a.strikethrough?(d+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(l,m),e.lineTo(u,m),e.stroke()}}function rj(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function Td(e,t,r,n,a,i={}){const l=pr(t)?t:[t],u=i.strokeWidth>0&&i.strokeColor!=="";let d,f;for(e.save(),e.font=a.string,ej(e,i),d=0;d<l.length;++d)f=l[d],i.backdrop&&rj(e,i.backdrop),u&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),ct(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(f,r,n,i.maxWidth)),e.fillText(f,r,n,i.maxWidth),tj(e,r,n,f,i),n+=Number(a.lineHeight);e.restore()}function Nd(e,t){const{x:r,y:n,w:a,h:i,radius:l}=t;e.arc(r+l.topLeft,n+l.topLeft,l.topLeft,1.5*Er,Er,!0),e.lineTo(r,n+i-l.bottomLeft),e.arc(r+l.bottomLeft,n+i-l.bottomLeft,l.bottomLeft,Er,Fn,!0),e.lineTo(r+a-l.bottomRight,n+i),e.arc(r+a-l.bottomRight,n+i-l.bottomRight,l.bottomRight,Fn,0,!0),e.lineTo(r+a,n+l.topRight),e.arc(r+a-l.topRight,n+l.topRight,l.topRight,0,-Fn,!0),e.lineTo(r+l.topLeft,n)}const nj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sj(e,t){const r=(""+e).match(nj);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const ij=e=>+e||0;function i8(e,t){const r={},n=lt(t),a=n?Object.keys(t):t,i=lt(e)?n?l=>nt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of a)r[l]=ij(i(l));return r}function o8(e){return i8(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ro(e){return i8(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Bn(e){const t=o8(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Hr(e,t){e=e||{},t=t||Vt.font;let r=nt(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=nt(e.style,t.style);n&&!(""+n).match(aj)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:nt(e.family,t.family),lineHeight:sj(nt(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:nt(e.weight,t.weight),string:""};return a.string=QM(a),a}function R0(e,t,r,n){let a,i,l;for(a=0,i=e.length;a<i;++a)if(l=e[a],l!==void 0&&l!==void 0)return l}function oj(e,t,r){const{min:n,max:a}=e,i=xM(t,(a-n)/2),l=(u,d)=>r&&u===0?0:u+d;return{min:l(n,-Math.abs(i)),max:l(a,i)}}function Fi(e,t){return Object.assign(Object.create(e),t)}function u2(e,t=[""],r,n,a=()=>e[0]){const i=r||e;typeof n>"u"&&(n=d8("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:a,override:u=>u2([u,...e],t,i,n)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete e[0][d],!0},get(u,d){return u8(u,d,()=>pj(d,t,e,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,d){return e6(u).includes(d)},ownKeys(u){return e6(u)},set(u,d,f){const m=u._storage||(u._storage=a());return u[d]=m[d]=f,delete u._keys,!0}})}function Vo(e,t,r,n){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:l8(e,n),setContext:i=>Vo(e,i,r,n),override:i=>Vo(e.override(i),t,r,n)};return new Proxy(a,{deleteProperty(i,l){return delete i[l],delete e[l],!0},get(i,l,u){return u8(i,l,()=>uj(i,l,u))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(i,l,u){return e[l]=u,delete i[l],!0}})}function l8(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Ls(r)?r:()=>r,isIndexable:Ls(n)?n:()=>n}}const lj=(e,t)=>e?e+a2(t):t,c2=(e,t)=>lt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function u8(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=r();return e[t]=n,n}function uj(e,t,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:l}=e;let u=n[t];return Ls(u)&&l.isScriptable(t)&&(u=cj(t,u,e,r)),pr(u)&&u.length&&(u=dj(t,u,e,l.isIndexable)),c2(t,u)&&(u=Vo(u,a,i&&i[t],l)),u}function cj(e,t,r,n){const{_proxy:a,_context:i,_subProxy:l,_stack:u}=r;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let d=t(i,l||n);return u.delete(e),c2(e,d)&&(d=d2(a._scopes,a,e,d)),d}function dj(e,t,r,n){const{_proxy:a,_context:i,_subProxy:l,_descriptors:u}=r;if(typeof i.index<"u"&&n(e))return t[i.index%t.length];if(lt(t[0])){const d=t,f=a._scopes.filter(m=>m!==d);t=[];for(const m of d){const b=d2(f,a,e,m);t.push(Vo(b,i,l&&l[e],u))}}return t}function c8(e,t,r){return Ls(e)?e(t,r):e}const fj=(e,t)=>e===!0?t:typeof e=="string"?Uo(t,e):void 0;function hj(e,t,r,n,a){for(const i of t){const l=fj(r,i);if(l){e.add(l);const u=c8(l._fallback,r,a);if(typeof u<"u"&&u!==r&&u!==n)return u}else if(l===!1&&typeof n<"u"&&r!==n)return null}return!1}function d2(e,t,r,n){const a=t._rootScopes,i=c8(t._fallback,r,n),l=[...e,...a],u=new Set;u.add(n);let d=Jy(u,l,r,i||r,n);return d===null||typeof i<"u"&&i!==r&&(d=Jy(u,l,i,d,n),d===null)?!1:u2(Array.from(u),[""],a,i,()=>mj(t,r,n))}function Jy(e,t,r,n,a){for(;r;)r=hj(e,t,r,n,a);return r}function mj(e,t,r){const n=e._getTarget();t in n||(n[t]={});const a=n[t];return pr(a)&&lt(r)?r:a||{}}function pj(e,t,r,n){let a;for(const i of t)if(a=d8(lj(i,e),r),typeof a<"u")return c2(e,a)?d2(r,n,e,a):a}function d8(e,t){for(const r of t){if(!r)continue;const n=r[e];if(typeof n<"u")return n}}function e6(e){let t=e._keys;return t||(t=e._keys=bj(e._scopes)),t}function bj(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))t.add(n);return Array.from(t)}const gj=Number.EPSILON||1e-14,Go=(e,t)=>t<e.length&&!e[t].skip&&e[t],f8=e=>e==="x"?"y":"x";function yj(e,t,r,n){const a=e.skip?t:e,i=t,l=r.skip?t:r,u=Wm(i,a),d=Wm(l,i);let f=u/(u+d),m=d/(u+d);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const b=n*f,y=n*m;return{previous:{x:i.x-b*(l.x-a.x),y:i.y-b*(l.y-a.y)},next:{x:i.x+y*(l.x-a.x),y:i.y+y*(l.y-a.y)}}}function xj(e,t,r){const n=e.length;let a,i,l,u,d,f=Go(e,0);for(let m=0;m<n-1;++m)if(d=f,f=Go(e,m+1),!(!d||!f)){if(wu(t[m],0,gj)){r[m]=r[m+1]=0;continue}a=r[m]/t[m],i=r[m+1]/t[m],u=Math.pow(a,2)+Math.pow(i,2),!(u<=9)&&(l=3/Math.sqrt(u),r[m]=a*l*t[m],r[m+1]=i*l*t[m])}}function vj(e,t,r="x"){const n=f8(r),a=e.length;let i,l,u,d=Go(e,0);for(let f=0;f<a;++f){if(l=u,u=d,d=Go(e,f+1),!u)continue;const m=u[r],b=u[n];l&&(i=(m-l[r])/3,u[`cp1${r}`]=m-i,u[`cp1${n}`]=b-i*t[f]),d&&(i=(d[r]-m)/3,u[`cp2${r}`]=m+i,u[`cp2${n}`]=b+i*t[f])}}function _j(e,t="x"){const r=f8(t),n=e.length,a=Array(n).fill(0),i=Array(n);let l,u,d,f=Go(e,0);for(l=0;l<n;++l)if(u=d,d=f,f=Go(e,l+1),!!d){if(f){const m=f[t]-d[t];a[l]=m!==0?(f[r]-d[r])/m:0}i[l]=u?f?ua(a[l-1])!==ua(a[l])?0:(a[l-1]+a[l])/2:a[l-1]:a[l]}xj(e,a,i),vj(e,i,t)}function F0(e,t,r){return Math.max(Math.min(e,r),t)}function wj(e,t){let r,n,a,i,l,u=qu(e[0],t);for(r=0,n=e.length;r<n;++r)l=i,i=u,u=r<n-1&&qu(e[r+1],t),i&&(a=e[r],l&&(a.cp1x=F0(a.cp1x,t.left,t.right),a.cp1y=F0(a.cp1y,t.top,t.bottom)),u&&(a.cp2x=F0(a.cp2x,t.left,t.right),a.cp2y=F0(a.cp2y,t.top,t.bottom)))}function kj(e,t,r,n,a){let i,l,u,d;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")_j(e,a);else{let f=n?e[e.length-1]:e[0];for(i=0,l=e.length;i<l;++i)u=e[i],d=yj(f,u,e[Math.min(i+1,l-(n?0:1))%l],t.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}t.capBezierPoints&&wj(e,r)}function f2(){return typeof window<"u"&&typeof document<"u"}function h2(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Dd(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const Jd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Sj(e,t){return Jd(e).getPropertyValue(t)}const Ej=["top","right","bottom","left"];function ki(e,t,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=Ej[a];n[i]=parseFloat(e[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Aj=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function Cj(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:a,offsetY:i}=n;let l=!1,u,d;if(Aj(a,i,e.target))u=a,d=i;else{const f=t.getBoundingClientRect();u=n.clientX-f.left,d=n.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function hi(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,a=Jd(r),i=a.boxSizing==="border-box",l=ki(a,"padding"),u=ki(a,"border","width"),{x:d,y:f,box:m}=Cj(e,r),b=l.left+(m&&u.left),y=l.top+(m&&u.top);let{width:v,height:x}=t;return i&&(v-=l.width+u.width,x-=l.height+u.height),{x:Math.round((d-b)/v*r.width/n),y:Math.round((f-y)/x*r.height/n)}}function Tj(e,t,r){let n,a;if(t===void 0||r===void 0){const i=e&&h2(e);if(!i)t=e.clientWidth,r=e.clientHeight;else{const l=i.getBoundingClientRect(),u=Jd(i),d=ki(u,"border","width"),f=ki(u,"padding");t=l.width-f.width-d.width,r=l.height-f.height-d.height,n=Dd(u.maxWidth,i,"clientWidth"),a=Dd(u.maxHeight,i,"clientHeight")}}return{width:t,height:r,maxWidth:n||Cd,maxHeight:a||Cd}}const L0=e=>Math.round(e*10)/10;function Nj(e,t,r,n){const a=Jd(e),i=ki(a,"margin"),l=Dd(a.maxWidth,e,"clientWidth")||Cd,u=Dd(a.maxHeight,e,"clientHeight")||Cd,d=Tj(e,t,r);let{width:f,height:m}=d;if(a.boxSizing==="content-box"){const y=ki(a,"border","width"),v=ki(a,"padding");f-=v.width+y.width,m-=v.height+y.height}return f=Math.max(0,f-i.width),m=Math.max(0,n?f/n:m-i.height),f=L0(Math.min(f,l,d.maxWidth)),m=L0(Math.min(m,u,d.maxHeight)),f&&!m&&(m=L0(f/2)),(t!==void 0||r!==void 0)&&n&&d.height&&m>d.height&&(m=d.height,f=L0(Math.floor(m*n))),{width:f,height:m}}function t6(e,t,r){const n=t||1,a=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(r||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||l.height!==a||l.width!==i?(e.currentDevicePixelRatio=n,l.height=a,l.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Dj=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};f2()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function r6(e,t){const r=Sj(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function mi(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function Mj(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function jj(e,t,r,n){const a={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},l=mi(e,a,r),u=mi(a,i,r),d=mi(i,t,r),f=mi(l,u,r),m=mi(u,d,r);return mi(f,m,r)}const zj=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Oj=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Fo(e,t,r){return e?zj(t,r):Oj()}function h8(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function m8(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function p8(e){return e==="angle"?{between:Qv,compare:zM,normalize:Ss}:{between:yi,compare:(t,r)=>t-r,normalize:t=>t}}function n6({start:e,end:t,count:r,loop:n,style:a}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:a}}function Rj(e,t,r){const{property:n,start:a,end:i}=r,{between:l,normalize:u}=p8(n),d=t.length;let{start:f,end:m,loop:b}=e,y,v;if(b){for(f+=d,m+=d,y=0,v=d;y<v&&l(u(t[f%d][n]),a,i);++y)f--,m--;f%=d,m%=d}return m<f&&(m+=d),{start:f,end:m,loop:b,style:e.style}}function Fj(e,t,r){if(!r)return[e];const{property:n,start:a,end:i}=r,l=t.length,{compare:u,between:d,normalize:f}=p8(n),{start:m,end:b,loop:y,style:v}=Rj(e,t,r),x=[];let w=!1,k=null,E,C,j;const F=()=>d(a,j,E)&&u(a,j)!==0,D=()=>u(i,E)===0||d(i,j,E),O=()=>w||F(),$=()=>!w||D();for(let B=m,Z=m;B<=b;++B)C=t[B%l],!C.skip&&(E=f(C[n]),E!==j&&(w=d(E,a,i),k===null&&O()&&(k=u(E,a)===0?B:Z),k!==null&&$()&&(x.push(n6({start:k,end:B,loop:y,count:l,style:v})),k=null),Z=B,j=E));return k!==null&&x.push(n6({start:k,end:b,loop:y,count:l,style:v})),x}function Lj(e,t){const r=[],n=e.segments;for(let a=0;a<n.length;a++){const i=Fj(n[a],e.points,t);i.length&&r.push(...i)}return r}function Bj(e,t,r,n){let a=0,i=t-1;if(r&&!n)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,r&&(i+=a);i>a&&e[i%t].skip;)i--;return i%=t,{start:a,end:i}}function Pj(e,t,r,n){const a=e.length,i=[];let l=t,u=e[t],d;for(d=t+1;d<=r;++d){const f=e[d%a];f.skip||f.stop?u.skip||(n=!1,i.push({start:t%a,end:(d-1)%a,loop:n}),t=l=f.stop?d:null):(l=d,u.skip&&(t=d)),u=f}return l!==null&&i.push({start:t%a,end:l%a,loop:n}),i}function Ij(e,t){const r=e.points,n=e.options.spanGaps,a=r.length;if(!a)return[];const i=!!e._loop,{start:l,end:u}=Bj(r,a,i,n);if(n===!0)return a6(e,[{start:l,end:u,loop:i}],r,t);const d=u<l?u+a:u,f=!!e._fullLoop&&l===0&&u===a-1;return a6(e,Pj(r,l,d,f),r,t)}function a6(e,t,r,n){return!n||!n.setContext||!r?t:$j(e,t,r,n)}function $j(e,t,r,n){const a=e._chart.getContext(),i=s6(e.options),{_datasetIndex:l,options:{spanGaps:u}}=e,d=r.length,f=[];let m=i,b=t[0].start,y=b;function v(x,w,k,E){const C=u?-1:1;if(x!==w){for(x+=d;r[x%d].skip;)x-=C;for(;r[w%d].skip;)w+=C;x%d!==w%d&&(f.push({start:x%d,end:w%d,loop:k,style:E}),m=E,b=w%d)}}for(const x of t){b=u?b:x.start;let w=r[b%d],k;for(y=b+1;y<=x.end;y++){const E=r[y%d];k=s6(n.setContext(Fi(a,{type:"segment",p0:w,p1:E,p0DataIndex:(y-1)%d,p1DataIndex:y%d,datasetIndex:l}))),Hj(k,m)&&v(b,y-1,x.loop,m),w=E,m=k}b<y-1&&v(b,y-1,x.loop,m)}return f}function s6(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Hj(e,t){if(!t)return!1;const r=[],n=function(a,i){return i2(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function B0(e,t,r){return e.options.clip?e[r]:t[r]}function qj(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:B0(r,t,"left"),right:B0(r,t,"right"),top:B0(n,t,"top"),bottom:B0(n,t,"bottom")}:t}function Uj(e,t){const r=t._clip;if(r.disabled)return!1;const n=qj(t,e.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Vj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,a){const i=r.listeners[a],l=r.duration;i.forEach(u=>u({chart:t,initial:r.initial,numSteps:l,currentStep:Math.min(n-r.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=e8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let l=i.length-1,u=!1,d;for(;l>=0;--l)d=i[l],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(t),u=!0):(i[l]=i[i.length-1],i.pop());u&&(a.draw(),this._notify(a,n,t,"progress")),i.length||(n.running=!1,this._notify(a,n,t,"complete"),n.initial=!1),r+=i.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var La=new Vj;const i6="transparent",Gj={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=Yy(e||i6),a=n.valid&&Yy(t||i6);return a&&a.valid?a.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class Zj{constructor(t,r,n,a){const i=r[n];a=R0([t.to,a,i,t.from]);const l=R0([t.from,i,a]);this._active=!0,this._fn=t.fn||Gj[t.type||typeof l],this._easing=ku[t.easing]||ku.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,l=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=R0([t.to,r,a,t.from]),this._from=R0([t.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,a=this._prop,i=this._from,l=this._loop,u=this._to;let d;if(this._active=i!==u&&(l||r<n),!this._active){this._target[a]=u,this._notify(!0);return}if(r<0){this._target[a]=i;return}d=r/n%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(i,u,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class b8{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!lt(t))return;const r=Object.keys(Vt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!lt(i))return;const l={};for(const u of r)l[u]=i[u];(pr(i.properties)&&i.properties||[a]).forEach(u=>{(u===a||!n.has(u))&&n.set(u,l)})})}_animateOptions(t,r){const n=r.options,a=Yj(t,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Kj(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,r){const n=this._properties,a=[],i=t.$animations||(t.$animations={}),l=Object.keys(r),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(t,r));continue}const m=r[f];let b=i[f];const y=n.get(f);if(b)if(y&&b.active()){b.update(y,m,u);continue}else b.cancel();if(!y||!y.duration){t[f]=m;continue}i[f]=b=new Zj(y,t,f,m),a.push(b)}return a}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return La.add(this._chart,n),!0}}function Kj(e,t){const r=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const i=e[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Yj(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function o6(e,t){const r=e&&e.options||{},n=r.reverse,a=r.min===void 0?t:0,i=r.max===void 0?t:0;return{start:n?i:a,end:n?a:i}}function Xj(e,t,r){if(r===!1)return!1;const n=o6(e,r),a=o6(t,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Qj(e){let t,r,n,a;return lt(e)?(t=e.top,r=e.right,n=e.bottom,a=e.left):t=r=n=a=e,{top:t,right:r,bottom:n,left:a,disabled:e===!1}}function g8(e,t){const r=[],n=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function l6(e,t,r,n={}){const a=e.keys,i=n.mode==="single";let l,u,d,f;if(t===null)return;let m=!1;for(l=0,u=a.length;l<u;++l){if(d=+a[l],d===r){if(m=!0,n.all)continue;break}f=e.values[d],Sn(f)&&(i||t===0||ua(t)===ua(f))&&(t+=f)}return!m&&!n.all?0:t}function Wj(e,t){const{iScale:r,vScale:n}=t,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",l=Object.keys(e),u=new Array(l.length);let d,f,m;for(d=0,f=l.length;d<f;++d)m=l[d],u[d]={[a]:m,[i]:e[m]};return u}function rm(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function Jj(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function ez(e){const{min:t,max:r,minDefined:n,maxDefined:a}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function tz(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function u6(e,t,r,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const i=e[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function c6(e,t){const{chart:r,_cachedMeta:n}=e,a=r._stacks||(r._stacks={}),{iScale:i,vScale:l,index:u}=n,d=i.axis,f=l.axis,m=Jj(i,l,n),b=t.length;let y;for(let v=0;v<b;++v){const x=t[v],{[d]:w,[f]:k}=x,E=x._stacks||(x._stacks={});y=E[f]=tz(a,m,w),y[u]=k,y._top=u6(y,l,!0,n.type),y._bottom=u6(y,l,!1,n.type);const C=y._visualValues||(y._visualValues={});C[u]=k}}function nm(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function rz(e,t){return Fi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function nz(e,t,r){return Fi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function su(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const a of t){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const am=e=>e==="reset"||e==="none",d6=(e,t)=>t?e:Object.assign({},e),az=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:g8(r,!0),values:null};class m2{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=rm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&su(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(b,y,v,x)=>b==="x"?y:b==="r"?x:v,i=r.xAxisID=nt(n.xAxisID,nm(t,"x")),l=r.yAxisID=nt(n.yAxisID,nm(t,"y")),u=r.rAxisID=nt(n.rAxisID,nm(t,"r")),d=r.indexAxis,f=r.iAxisID=a(d,i,l,u),m=r.vAxisID=a(d,l,i,u);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(l),r.rScale=this.getScaleForId(u),r.iScale=this.getScaleForId(f),r.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Gy(this._data,this),t._stacked&&su(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(lt(r)){const a=this._cachedMeta;this._data=Wj(r,a)}else if(n!==r){if(n){Gy(n,this);const a=this._cachedMeta;su(a),a._parsed=[]}r&&Object.isExtensible(r)&&LM(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=rm(r.vScale,r),r.stack!==n.stack&&(a=!0,su(r),r.stack=n.stack),this._resyncElements(t),(a||i!==r._stacked)&&(c6(this,r._parsed),r._stacked=rm(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:l}=n,u=i.axis;let d=t===0&&r===a.length?!0:n._sorted,f=t>0&&n._parsed[t-1],m,b,y;if(this._parsing===!1)n._parsed=a,n._sorted=!0,y=a;else{pr(a[t])?y=this.parseArrayData(n,a,t,r):lt(a[t])?y=this.parseObjectData(n,a,t,r):y=this.parsePrimitiveData(n,a,t,r);const v=()=>b[u]===null||f&&b[u]<f[u];for(m=0;m<r;++m)n._parsed[m+t]=b=y[m],d&&(v()&&(d=!1),f=b);n._sorted=d}l&&c6(this,y)}parsePrimitiveData(t,r,n,a){const{iScale:i,vScale:l}=t,u=i.axis,d=l.axis,f=i.getLabels(),m=i===l,b=new Array(a);let y,v,x;for(y=0,v=a;y<v;++y)x=y+n,b[y]={[u]:m||i.parse(f[x],x),[d]:l.parse(r[x],x)};return b}parseArrayData(t,r,n,a){const{xScale:i,yScale:l}=t,u=new Array(a);let d,f,m,b;for(d=0,f=a;d<f;++d)m=d+n,b=r[m],u[d]={x:i.parse(b[0],m),y:l.parse(b[1],m)};return u}parseObjectData(t,r,n,a){const{xScale:i,yScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(a);let m,b,y,v;for(m=0,b=a;m<b;++m)y=m+n,v=r[y],f[m]={x:i.parse(Uo(v,u),y),y:l.parse(Uo(v,d),y)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const a=this.chart,i=this._cachedMeta,l=r[t.axis],u={keys:g8(a,!0),values:r._stacks[t.axis]._visualValues};return l6(u,l,i.index,{mode:n})}updateRangeFromParsed(t,r,n,a){const i=n[r.axis];let l=i===null?NaN:i;const u=a&&n._stacks[r.axis];a&&u&&(a.values=u,l=l6(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&t===n.iScale,l=a.length,u=this._getOtherScale(t),d=az(r,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=ez(u);let y,v;function x(){v=a[y];const w=v[u.axis];return!Sn(v[t.axis])||m>w||b<w}for(y=0;y<l&&!(!x()&&(this.updateRangeFromParsed(f,t,v,d),i));++y);if(i){for(y=l-1;y>=0;--y)if(!x()){this.updateRangeFromParsed(f,t,v,d);break}}return f}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let a,i,l;for(a=0,i=r.length;a<i;++a)l=r[a][t.axis],Sn(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=Qj(nt(this.options.clip,Xj(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||a.length-u,f=this.options.drawActiveElementsOnTop;let m;for(n.dataset&&n.dataset.draw(t,i,u,d),m=u;m<u+d;++m){const b=a[m];b.hidden||(b.active&&f?l.push(b):b.draw(t,i))}for(m=0;m<l.length;++m)l[m].draw(t,i)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];i=l.$context||(l.$context=nz(this.getContext(),t,l)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=rz(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const a=r==="active",i=this._cachedDataOpts,l=t+"-"+r,u=i[l],d=this.enableOptionSharing&&$u(n);if(u)return d6(u,d);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,t),b=a?[`${t}Hover`,"hover",t,""]:[t,""],y=f.getOptionScopes(this.getDataset(),m),v=Object.keys(Vt.elements[t]),x=()=>this.getContext(n,a,r),w=f.resolveNamedOptions(y,v,x,b);return w.$shared&&(w.$shared=d,i[l]=Object.freeze(d6(w,d))),w}_resolveAnimations(t,r,n){const a=this.chart,i=this._cachedDataOpts,l=`animation-${r}`,u=i[l];if(u)return u;let d;if(a.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,r),y=m.getOptionScopes(this.getDataset(),b);d=m.createResolver(y,this.getContext(t,n,r))}const f=new b8(a,d&&d.animations);return d&&d._cacheable&&(i[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||am(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),a=this._sharedOptions,i=this.getSharedOptions(n),l=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:l}}updateElement(t,r,n,a){am(a)?Object.assign(t,n):this._resolveAnimations(r,a).update(t,n)}updateSharedOptions(t,r,n){t&&!am(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,a){t.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const a=n.length,i=r.length,l=Math.min(i,a);l&&this.parse(0,l),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,r,n=!0){const a=this._cachedMeta,i=a.data,l=t+r;let u;const d=f=>{for(f.length+=r,u=f.length-1;u>=l;u--)f[u]=f[u-r]};for(d(i),u=t;u<l;++u)i[u]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(t,r),n&&this.updateElements(i,t,r,"reset")}updateElements(t,r,n,a){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,r);n._stacked&&su(n,a)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,a]=t;this[r](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function sz(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(e));e._cache.$bar=Jv(n.sort((a,i)=>a-i))}return e._cache.$bar}function iz(e){const t=e.iScale,r=sz(t,e.type);let n=t._length,a,i,l,u;const d=()=>{l===32767||l===-32768||($u(u)&&(n=Math.min(n,Math.abs(l-u)||n)),u=l)};for(a=0,i=r.length;a<i;++a)l=t.getPixelForValue(r[a]),d();for(u=void 0,a=0,i=t.ticks.length;a<i;++a)l=t.getPixelForTick(a),d();return n}function oz(e,t,r,n){const a=r.barThickness;let i,l;return ct(a)?(i=t.min*r.categoryPercentage,l=r.barPercentage):(i=a*n,l=1),{chunk:i/n,ratio:l,start:t.pixels[e]-i/2}}function lz(e,t,r,n){const a=t.pixels,i=a[e];let l=e>0?a[e-1]:null,u=e<a.length-1?a[e+1]:null;const d=r.categoryPercentage;l===null&&(l=i-(u===null?t.end-t.start:u-i)),u===null&&(u=i+i-l);const f=i-(i-Math.min(l,u))/2*d;return{chunk:Math.abs(u-l)/2*d/n,ratio:r.barPercentage,start:f}}function uz(e,t,r,n){const a=r.parse(e[0],n),i=r.parse(e[1],n),l=Math.min(a,i),u=Math.max(a,i);let d=l,f=u;Math.abs(l)>Math.abs(u)&&(d=u,f=l),t[r.axis]=f,t._custom={barStart:d,barEnd:f,start:a,end:i,min:l,max:u}}function y8(e,t,r,n){return pr(e)?uz(e,t,r,n):t[r.axis]=r.parse(e,n),t}function f6(e,t,r,n){const a=e.iScale,i=e.vScale,l=a.getLabels(),u=a===i,d=[];let f,m,b,y;for(f=r,m=r+n;f<m;++f)y=t[f],b={},b[a.axis]=u||a.parse(l[f],f),d.push(y8(y,b,i,f));return d}function sm(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function cz(e,t,r){return e!==0?ua(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function dz(e){let t,r,n,a,i;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:t,top:a,bottom:i}}function fz(e,t,r,n){let a=t.borderSkipped;const i={};if(!a){e.borderSkipped=i;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:d,top:f,bottom:m}=dz(e);a==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?a=f:(r._bottom||0)===n?a=m:(i[h6(m,l,u,d)]=!0,a=f)),i[h6(a,l,u,d)]=!0,e.borderSkipped=i}function h6(e,t,r,n){return n?(e=hz(e,t,r),e=m6(e,r,t)):e=m6(e,t,r),e}function hz(e,t,r){return e===t?r:e===r?t:e}function m6(e,t,r){return e==="start"?t:e==="end"?r:e}function mz(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class pz extends m2{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,n,a){return f6(t,r,n,a)}parseArrayData(t,r,n,a){return f6(t,r,n,a)}parseObjectData(t,r,n,a){const{iScale:i,vScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=i.axis==="x"?u:d,m=l.axis==="x"?u:d,b=[];let y,v,x,w;for(y=n,v=n+a;y<v;++y)w=r[y],x={},x[i.axis]=i.parse(Uo(w,f),y),b.push(y8(Uo(w,m),x,l,y));return b}updateRangeFromParsed(t,r,n,a){super.updateRangeFromParsed(t,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(t),l=i._custom,u=sm(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,a){const i=a==="reset",{index:l,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),f=u.isHorizontal(),m=this._getRuler(),{sharedOptions:b,includeOptions:y}=this._getSharedOptions(r,a);for(let v=r;v<r+n;v++){const x=this.getParsed(v),w=i||ct(x[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(v),k=this._calculateBarIndexPixels(v,m),E=(x._stacks||{})[u.axis],C={horizontal:f,base:w.base,enableBorderRadius:!E||sm(x._custom)||l===E._top||l===E._bottom,x:f?w.head:k.center,y:f?k.center:w.head,height:f?k.size:Math.abs(w.size),width:f?Math.abs(w.size):k.size};y&&(C.options=b||this.resolveDataElementOptions(v,t[v].active?"active":a));const j=C.options||t[v].options;fz(C,j,E,l),mz(C,j,m.ratio),this.updateElement(t[v],v,C,a)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),i=n.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(r),d=u&&u[n.axis],f=m=>{const b=m._parsed.find(v=>v[n.axis]===d),y=b&&b[m.vScale.axis];if(ct(y)||isNaN(y))return!0};for(const m of a)if(!(r!==void 0&&f(m))&&((i===!1||l.indexOf(m.stack)===-1||i===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[nt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,n){const a=this._getStacks(t,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,l;for(i=0,l=r.data.length;i<l;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const u=t.barThickness;return{min:u||iz(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:l}}=this,u=i||0,d=this.getParsed(t),f=d._custom,m=sm(f);let b=d[r.axis],y=0,v=n?this.applyStack(r,d,n):b,x,w;v!==b&&(y=v-b,v=b),m&&(b=f.barStart,v=f.barEnd-f.barStart,b!==0&&ua(b)!==ua(f.barEnd)&&(y=0),y+=b);const k=!ct(i)&&!m?i:y;let E=r.getPixelForValue(k);if(this.chart.getDataVisibility(t)?x=r.getPixelForValue(y+v):x=E,w=x-E,Math.abs(w)<l){w=cz(w,r,u)*l,b===u&&(E-=w/2);const C=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),F=Math.min(C,j),D=Math.max(C,j);E=Math.max(Math.min(E,D),F),x=E+w,n&&!m&&(d._stacks[r.axis]._visualValues[a]=r.getValueForPixel(x)-r.getValueForPixel(E))}if(E===r.getPixelForValue(u)){const C=ua(w)*r.getLineWidthForValue(u)/2;E+=C,w-=C}return{size:w,base:E,head:x,center:x+w/2}}_calculateBarIndexPixels(t,r){const n=r.scale,a=this.options,i=a.skipNull,l=nt(a.maxBarThickness,1/0);let u,d;const f=this._getAxisCount();if(r.grouped){const m=i?this._getStackCount(t):r.stackCount,b=a.barThickness==="flex"?lz(t,r,a,m*f):oz(t,r,a,m*f),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(nt(y,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+v;u=b.start+b.chunk*x+b.chunk/2,d=Math.min(l,b.chunk*b.ratio)}else u=n.getPixelForValue(this.getParsed(t)[n.axis],t),d=Math.min(l,r.min*r.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}class bz extends m2{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,l=this.chart._animationsDisabled;let{start:u,count:d}=IM(r,a,l);this._drawStart=u,this._drawCount=d,$M(r)&&(u=0,d=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:f},t),this.updateElements(a,u,d,t)}updateElements(t,r,n,a){const i=a==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(r,a),y=l.axis,v=u.axis,{spanGaps:x,segment:w}=this.options,k=Hu(x)?x:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||i||a==="none",C=r+n,j=t.length;let F=r>0&&this.getParsed(r-1);for(let D=0;D<j;++D){const O=t[D],$=E?O:{};if(D<r||D>=C){$.skip=!0;continue}const B=this.getParsed(D),Z=ct(B[v]),G=$[y]=l.getPixelForValue(B[y],D),L=$[v]=i||Z?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,B,d):B[v],D);$.skip=isNaN(G)||isNaN(L)||Z,$.stop=D>0&&Math.abs(B[y]-F[y])>k,w&&($.parsed=B,$.raw=f.data[D]),b&&($.options=m||this.resolveDataElementOptions(D,O.active?"active":a)),E||this.updateElement(O,D,$,a),F=B}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ui(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class p2{static override(t){Object.assign(p2.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ui()}parse(){return ui()}format(){return ui()}add(){return ui()}diff(){return ui()}startOf(){return ui()}endOf(){return ui()}}var gz={_date:p2};function yz(e,t,r,n){const{controller:a,data:i,_sorted:l}=e,u=a._cachedMeta.iScale,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&i.length){const f=u._reversePixels?RM:xi;if(n){if(a._sharedOptions){const m=i[0],b=typeof m.getRange=="function"&&m.getRange(t);if(b){const y=f(i,t,r-b),v=f(i,t,r+b);return{lo:y.lo,hi:v.hi}}}}else{const m=f(i,t,r);if(d){const{vScale:b}=a._cachedMeta,{_parsed:y}=e,v=y.slice(0,m.lo+1).reverse().findIndex(w=>!ct(w[b.axis]));m.lo-=Math.max(0,v);const x=y.slice(m.hi).findIndex(w=>!ct(w[b.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:i.length-1}}function ef(e,t,r,n,a){const i=e.getSortedVisibleDatasetMetas(),l=r[t];for(let u=0,d=i.length;u<d;++u){const{index:f,data:m}=i[u],{lo:b,hi:y}=yz(i[u],t,l,a);for(let v=b;v<=y;++v){const x=m[v];x.skip||n(x,f,v)}}}function xz(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,a){const i=t?Math.abs(n.x-a.x):0,l=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function im(e,t,r,n,a){const i=[];return!a&&!e.isPointInArea(t)||ef(e,r,t,function(u,d,f){!a&&!qu(u,e.chartArea,0)||u.inRange(t.x,t.y,n)&&i.push({element:u,datasetIndex:d,index:f})},!0),i}function vz(e,t,r,n){let a=[];function i(l,u,d){const{startAngle:f,endAngle:m}=l.getProps(["startAngle","endAngle"],n),{angle:b}=jM(l,{x:t.x,y:t.y});Qv(b,f,m)&&a.push({element:l,datasetIndex:u,index:d})}return ef(e,r,t,i),a}function _z(e,t,r,n,a,i){let l=[];const u=xz(r);let d=Number.POSITIVE_INFINITY;function f(m,b,y){const v=m.inRange(t.x,t.y,a);if(n&&!v)return;const x=m.getCenterPoint(a);if(!(!!i||e.isPointInArea(x))&&!v)return;const k=u(t,x);k<d?(l=[{element:m,datasetIndex:b,index:y}],d=k):k===d&&l.push({element:m,datasetIndex:b,index:y})}return ef(e,r,t,f),l}function om(e,t,r,n,a,i){return!i&&!e.isPointInArea(t)?[]:r==="r"&&!n?vz(e,t,r,a):_z(e,t,r,n,a,i)}function p6(e,t,r,n,a){const i=[],l=r==="x"?"inXRange":"inYRange";let u=!1;return ef(e,r,t,(d,f,m)=>{d[l]&&d[l](t[r],a)&&(i.push({element:d,datasetIndex:f,index:m}),u=u||d.inRange(t.x,t.y,a))}),n&&!u?[]:i}var wz={modes:{index(e,t,r,n){const a=hi(t,e),i=r.axis||"x",l=r.includeInvisible||!1,u=r.intersect?im(e,a,i,n,l):om(e,a,i,!1,n,l),d=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const m=u[0].index,b=f.data[m];b&&!b.skip&&d.push({element:b,datasetIndex:f.index,index:m})}),d):[]},dataset(e,t,r,n){const a=hi(t,e),i=r.axis||"xy",l=r.includeInvisible||!1;let u=r.intersect?im(e,a,i,n,l):om(e,a,i,!1,n,l);if(u.length>0){const d=u[0].datasetIndex,f=e.getDatasetMeta(d).data;u=[];for(let m=0;m<f.length;++m)u.push({element:f[m],datasetIndex:d,index:m})}return u},point(e,t,r,n){const a=hi(t,e),i=r.axis||"xy",l=r.includeInvisible||!1;return im(e,a,i,n,l)},nearest(e,t,r,n){const a=hi(t,e),i=r.axis||"xy",l=r.includeInvisible||!1;return om(e,a,i,r.intersect,n,l)},x(e,t,r,n){const a=hi(t,e);return p6(e,a,"x",r.intersect,n)},y(e,t,r,n){const a=hi(t,e);return p6(e,a,"y",r.intersect,n)}}};const x8=["left","top","right","bottom"];function iu(e,t){return e.filter(r=>r.pos===t)}function b6(e,t){return e.filter(r=>x8.indexOf(r.pos)===-1&&r.box.axis===t)}function ou(e,t){return e.sort((r,n)=>{const a=t?n:r,i=t?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function kz(e){const t=[];let r,n,a,i,l,u;for(r=0,n=(e||[]).length;r<n;++r)a=e[r],{position:i,options:{stack:l,stackWeight:u=1}}=a,t.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&i+l,stackWeight:u});return t}function Sz(e){const t={};for(const r of e){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!x8.includes(a))continue;const l=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return t}function Ez(e,t){const r=Sz(e),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,l,u;for(i=0,l=e.length;i<l;++i){u=e[i];const{fullSize:d}=u.box,f=r[u.stack],m=f&&u.stackWeight/f.weight;u.horizontal?(u.width=m?m*n:d&&t.availableWidth,u.height=a):(u.width=n,u.height=m?m*a:d&&t.availableHeight)}return r}function Az(e){const t=kz(e),r=ou(t.filter(f=>f.box.fullSize),!0),n=ou(iu(t,"left"),!0),a=ou(iu(t,"right")),i=ou(iu(t,"top"),!0),l=ou(iu(t,"bottom")),u=b6(t,"x"),d=b6(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(d).concat(l).concat(u),chartArea:iu(t,"chartArea"),vertical:n.concat(a).concat(d),horizontal:i.concat(l).concat(u)}}function g6(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function v8(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Cz(e,t,r,n){const{pos:a,box:i}=r,l=e.maxPadding;if(!lt(a)){r.size&&(e[a]-=r.size);const b=n[r.stack]||{size:0,count:1};b.size=Math.max(b.size,r.horizontal?i.height:i.width),r.size=b.size/b.count,e[a]+=r.size}i.getPadding&&v8(l,i.getPadding());const u=Math.max(0,t.outerWidth-g6(l,e,"left","right")),d=Math.max(0,t.outerHeight-g6(l,e,"top","bottom")),f=u!==e.w,m=d!==e.h;return e.w=u,e.h=d,r.horizontal?{same:f,other:m}:{same:m,other:f}}function Tz(e){const t=e.maxPadding;function r(n){const a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function Nz(e,t){const r=t.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{i[l]=Math.max(t[l],r[l])}),i}return n(e?["left","right"]:["top","bottom"])}function bu(e,t,r,n){const a=[];let i,l,u,d,f,m;for(i=0,l=e.length,f=0;i<l;++i){u=e[i],d=u.box,d.update(u.width||t.w,u.height||t.h,Nz(u.horizontal,t));const{same:b,other:y}=Cz(t,r,u,n);f|=b&&a.length,m=m||y,d.fullSize||a.push(u)}return f&&bu(a,t,r,n)||m}function P0(e,t,r,n,a){e.top=r,e.left=t,e.right=t+n,e.bottom=r+a,e.width=n,e.height=a}function y6(e,t,r,n){const a=r.padding;let{x:i,y:l}=t;for(const u of e){const d=u.box,f=n[u.stack]||{placed:0,weight:1},m=u.stackWeight/f.weight||1;if(u.horizontal){const b=t.w*m,y=f.size||d.height;$u(f.start)&&(l=f.start),d.fullSize?P0(d,a.left,l,r.outerWidth-a.right-a.left,y):P0(d,t.left+f.placed,l,b,y),f.start=l,f.placed+=b,l=d.bottom}else{const b=t.h*m,y=f.size||d.width;$u(f.start)&&(i=f.start),d.fullSize?P0(d,i,a.top,y,r.outerHeight-a.bottom-a.top):P0(d,i,t.top+f.placed,y,b),f.start=i,f.placed+=b,i=d.right}}t.x=i,t.y=l}var Ds={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const a=Bn(e.options.layout.padding),i=Math.max(t-a.width,0),l=Math.max(r-a.height,0),u=Az(e.boxes),d=u.vertical,f=u.horizontal;ht(e.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const m=d.reduce((w,k)=>k.box.options&&k.box.options.display===!1?w:w+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:r,padding:a,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/m,hBoxMaxHeight:l/2}),y=Object.assign({},a);v8(y,Bn(n));const v=Object.assign({maxPadding:y,w:i,h:l,x:a.left,y:a.top},a),x=Ez(d.concat(f),b);bu(u.fullSize,v,b,x),bu(d,v,b,x),bu(f,v,b,x)&&bu(d,v,b,x),Tz(v),y6(u.leftAndTop,v,b,x),v.x+=v.w,v.y+=v.h,y6(u.rightAndBottom,v,b,x),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},ht(u.chartArea,w=>{const k=w.box;Object.assign(k,e.chartArea),k.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class _8{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,a){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(t){return!0}updateConfig(t){}}class Dz extends _8{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ld="$chartjs",Mz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},x6=e=>e===null||e==="";function jz(e,t){const r=e.style,n=e.getAttribute("height"),a=e.getAttribute("width");if(e[ld]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",x6(a)){const i=r6(e,"width");i!==void 0&&(e.width=i)}if(x6(n))if(e.style.height==="")e.height=e.width/(t||2);else{const i=r6(e,"height");i!==void 0&&(e.height=i)}return e}const w8=Dj?{passive:!0}:!1;function zz(e,t,r){e&&e.addEventListener(t,r,w8)}function Oz(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,w8)}function Rz(e,t){const r=Mz[e.type]||e.type,{x:n,y:a}=hi(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Md(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function Fz(e,t,r){const n=e.canvas,a=new MutationObserver(i=>{let l=!1;for(const u of i)l=l||Md(u.addedNodes,n),l=l&&!Md(u.removedNodes,n);l&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Lz(e,t,r){const n=e.canvas,a=new MutationObserver(i=>{let l=!1;for(const u of i)l=l||Md(u.removedNodes,n),l=l&&!Md(u.addedNodes,n);l&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Uu=new Map;let v6=0;function k8(){const e=window.devicePixelRatio;e!==v6&&(v6=e,Uu.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function Bz(e,t){Uu.size||window.addEventListener("resize",k8),Uu.set(e,t)}function Pz(e){Uu.delete(e),Uu.size||window.removeEventListener("resize",k8)}function Iz(e,t,r){const n=e.canvas,a=n&&h2(n);if(!a)return;const i=t8((u,d)=>{const f=a.clientWidth;r(u,d),f<a.clientWidth&&r()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,m=d.contentRect.height;f===0&&m===0||i(f,m)});return l.observe(a),Bz(e,i),l}function lm(e,t,r){r&&r.disconnect(),t==="resize"&&Pz(e)}function $z(e,t,r){const n=e.canvas,a=t8(i=>{e.ctx!==null&&r(Rz(i,e))},e);return zz(n,t,a),a}class Hz extends _8{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(jz(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[ld])return!1;const n=r[ld].initial;["height","width"].forEach(i=>{const l=n[i];ct(l)?r.removeAttribute(i):r.setAttribute(i,l)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[ld],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const a=t.$proxies||(t.$proxies={}),l={attach:Fz,detach:Lz,resize:Iz}[r]||$z;a[r]=l(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),a=n[r];if(!a)return;({attach:lm,detach:lm,resize:lm}[r]||Oz)(t,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,a){return Nj(t,r,n,a)}isAttached(t){const r=t&&h2(t);return!!(r&&r.isConnected)}}function qz(e){return!f2()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Dz:Hz}class Li{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return Hu(this.x)&&Hu(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const a={};return t.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}}function Uz(e,t){const r=e.options.ticks,n=Vz(e),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Zz(t):[],l=i.length,u=i[0],d=i[l-1],f=[];if(l>a)return Kz(t,f,i,l/a),f;const m=Gz(i,t,a);if(l>0){let b,y;const v=l>1?Math.round((d-u)/(l-1)):null;for(I0(t,f,m,ct(v)?0:u-v,u),b=0,y=l-1;b<y;b++)I0(t,f,m,i[b],i[b+1]);return I0(t,f,m,d,ct(v)?t.length:d+v),f}return I0(t,f,m),f}function Vz(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),a=e._maxLength/r;return Math.floor(Math.min(n,a))}function Gz(e,t,r){const n=Yz(e),a=t.length/r;if(!n)return Math.max(a,1);const i=CM(n);for(let l=0,u=i.length-1;l<u;l++){const d=i[l];if(d>a)return d}return Math.max(a,1)}function Zz(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function Kz(e,t,r,n){let a=0,i=r[0],l;for(n=Math.ceil(n),l=0;l<e.length;l++)l===i&&(t.push(e[l]),a++,i=r[a*n])}function I0(e,t,r,n,a){const i=nt(n,0),l=Math.min(nt(a,e.length),e.length);let u=0,d,f,m;for(r=Math.ceil(r),a&&(d=a-n,r=d/Math.floor(d/r)),m=i;m<0;)u++,m=Math.round(i+u*r);for(f=Math.max(i,0);f<l;f++)f===m&&(t.push(e[f]),u++,m=Math.round(i+u*r))}function Yz(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const Xz=e=>e==="left"?"right":e==="right"?"left":e,_6=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,w6=(e,t)=>Math.min(t||e,e);function k6(e,t){const r=[],n=e.length/t,a=e.length;let i=0;for(;i<a;i+=n)r.push(e[Math.floor(i)]);return r}function Qz(e,t,r){const n=e.ticks.length,a=Math.min(t,n-1),i=e._startPixel,l=e._endPixel,u=1e-6;let d=e.getPixelForTick(a),f;if(!(r&&(n===1?f=Math.max(d-i,l-d):t===0?f=(e.getPixelForTick(1)-d)/2:f=(d-e.getPixelForTick(a-1))/2,d+=a<t?f:-f,d<i-u||d>l+u)))return d}function Wz(e,t){ht(e,r=>{const n=r.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function lu(e){return e.drawTicks?e.tickLength:0}function S6(e,t){if(!e.display)return 0;const r=Hr(e.font,t),n=Bn(e.padding);return(pr(e.text)?e.text.length:1)*r.lineHeight+n.height}function Jz(e,t){return Fi(e,{scale:t,type:"scale"})}function eO(e,t,r){return Fi(e,{tick:r,index:t,type:"tick"})}function tO(e,t,r){let n=r8(e);return(r&&t!=="right"||!r&&t==="right")&&(n=Xz(n)),n}function rO(e,t,r,n){const{top:a,left:i,bottom:l,right:u,chart:d}=e,{chartArea:f,scales:m}=d;let b=0,y,v,x;const w=l-a,k=u-i;if(e.isHorizontal()){if(v=tn(n,i,u),lt(r)){const E=Object.keys(r)[0],C=r[E];x=m[E].getPixelForValue(C)+w-t}else r==="center"?x=(f.bottom+f.top)/2+w-t:x=_6(e,r,t);y=u-i}else{if(lt(r)){const E=Object.keys(r)[0],C=r[E];v=m[E].getPixelForValue(C)-k+t}else r==="center"?v=(f.left+f.right)/2-k+t:v=_6(e,r,t);x=tn(n,l,a),b=r==="left"?-Fn:Fn}return{titleX:v,titleY:x,maxWidth:y,rotation:b}}class Jo extends Li{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return t=Xn(t,Number.POSITIVE_INFINITY),r=Xn(r,Number.NEGATIVE_INFINITY),n=Xn(n,Number.POSITIVE_INFINITY),a=Xn(a,Number.NEGATIVE_INFINITY),{min:Xn(t,n),max:Xn(r,a),minDefined:Sn(t),maxDefined:Sn(r)}}getMinMax(t){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),l;if(a&&i)return{min:r,max:n};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,t),a||(r=Math.min(r,l.min)),i||(n=Math.max(n,l.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:Xn(r,Xn(n,r)),max:Xn(n,Xn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Et(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:a,grace:i,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=oj(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?k6(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Uz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Et(this.options.afterUpdate,[this])}beforeSetDimensions(){Et(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Et(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Et(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Et(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n],i.label=Et(r.callback,[i.value,n,t],this)}afterTickToLabelConversion(){Et(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Et(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=w6(this.ticks.length,t.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let l=a,u,d,f;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),b=m.widest.width,y=m.highest.height,v=an(this.chart.width-b,0,this.maxWidth);u=t.offset?this.maxWidth/n:v/(n-1),b+6>u&&(u=v/(n-(t.offset?.5:1)),d=this.maxHeight-lu(t.grid)-r.padding-S6(t.title,this.chart.options.font),f=Math.sqrt(b*b+y*y),l=MM(Math.min(Math.asin(an((m.highest.height+6)/u,-1,1)),Math.asin(an(d/f,-1,1))-Math.asin(an(y/f,-1,1)))),l=Math.max(a,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Et(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Et(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=S6(a,r.options.font);if(u?(t.width=this.maxWidth,t.height=lu(i)+d):(t.height=this.maxHeight,t.width=lu(i)+d),n.display&&this.ticks.length){const{first:f,last:m,widest:b,highest:y}=this._getLabelSizes(),v=n.padding*2,x=gi(this.labelRotation),w=Math.cos(x),k=Math.sin(x);if(u){const E=n.mirror?0:k*b.width+w*y.height;t.height=Math.min(this.maxHeight,t.height+E+v)}else{const E=n.mirror?0:w*b.width+k*y.height;t.width=Math.min(this.maxWidth,t.width+E+v)}this._calculatePadding(f,m,k,w)}}this._handleMargins(),u?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,a){const{ticks:{align:i,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;d?f?(y=a*t.width,v=n*r.height):(y=n*t.height,v=a*r.width):i==="start"?v=r.width:i==="end"?y=t.width:i!=="inner"&&(y=t.width/2,v=r.width/2),this.paddingLeft=Math.max((y-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-b+l)*this.width/(this.width-b),0)}else{let m=r.height/2,b=t.height/2;i==="start"?(m=0,b=t.height):i==="end"&&(m=r.height,b=0),this.paddingTop=m+l,this.paddingBottom=b+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Et(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)ct(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=k6(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:a,_longestTextCache:i}=this,l=[],u=[],d=Math.floor(r/w6(r,n));let f=0,m=0,b,y,v,x,w,k,E,C,j,F,D;for(b=0;b<r;b+=d){if(x=t[b].label,w=this._resolveTickFontOptions(b),a.font=k=w.string,E=i[k]=i[k]||{data:{},gc:[]},C=w.lineHeight,j=F=0,!ct(x)&&!pr(x))j=Qy(a,E.data,E.gc,j,x),F=C;else if(pr(x))for(y=0,v=x.length;y<v;++y)D=x[y],!ct(D)&&!pr(D)&&(j=Qy(a,E.data,E.gc,j,D),F+=C);l.push(j),u.push(F),f=Math.max(j,f),m=Math.max(F,m)}Wz(i,r);const O=l.indexOf(f),$=u.indexOf(m),B=Z=>({width:l[Z]||0,height:u[Z]||0});return{first:B(0),last:B(r-1),widest:B(O),highest:B($),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return OM(this._alignToPixels?li(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=eO(this.getContext(),t,n))}return this.$context||(this.$context=Jz(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=gi(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),l=t.autoSkipPadding||0,u=i?i.widest.width+l:0,d=i?i.highest.height+l:0;return this.isHorizontal()?d*n>u*a?u/n:d/a:d*a<u*n?d/n:u/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:l,border:u}=a,d=i.offset,f=this.isHorizontal(),b=this.ticks.length+(d?1:0),y=lu(i),v=[],x=u.setContext(this.getContext()),w=x.display?x.width:0,k=w/2,E=function(Y){return li(n,Y,w)};let C,j,F,D,O,$,B,Z,G,L,H,re;if(l==="top")C=E(this.bottom),$=this.bottom-y,Z=C-k,L=E(t.top)+k,re=t.bottom;else if(l==="bottom")C=E(this.top),L=t.top,re=E(t.bottom)-k,$=C+k,Z=this.top+y;else if(l==="left")C=E(this.right),O=this.right-y,B=C-k,G=E(t.left)+k,H=t.right;else if(l==="right")C=E(this.left),G=t.left,H=E(t.right)-k,O=C+k,B=this.left+y;else if(r==="x"){if(l==="center")C=E((t.top+t.bottom)/2+.5);else if(lt(l)){const Y=Object.keys(l)[0],ie=l[Y];C=E(this.chart.scales[Y].getPixelForValue(ie))}L=t.top,re=t.bottom,$=C+k,Z=$+y}else if(r==="y"){if(l==="center")C=E((t.left+t.right)/2);else if(lt(l)){const Y=Object.keys(l)[0],ie=l[Y];C=E(this.chart.scales[Y].getPixelForValue(ie))}O=C-k,B=O-y,G=t.left,H=t.right}const he=nt(a.ticks.maxTicksLimit,b),ce=Math.max(1,Math.ceil(b/he));for(j=0;j<b;j+=ce){const Y=this.getContext(j),ie=i.setContext(Y),Ee=u.setContext(Y),Be=ie.lineWidth,I=ie.color,le=Ee.dash||[],ue=Ee.dashOffset,ge=ie.tickWidth,xe=ie.tickColor,Oe=ie.tickBorderDash||[],ze=ie.tickBorderDashOffset;F=Qz(this,j,d),F!==void 0&&(D=li(n,F,Be),f?O=B=G=H=D:$=Z=L=re=D,v.push({tx1:O,ty1:$,tx2:B,ty2:Z,x1:G,y1:L,x2:H,y2:re,width:Be,color:I,borderDash:le,borderDashOffset:ue,tickWidth:ge,tickColor:xe,tickBorderDash:Oe,tickBorderDashOffset:ze}))}return this._ticksLength=b,this._borderValue=C,v}_computeLabelItems(t){const r=this.axis,n=this.options,{position:a,ticks:i}=n,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:m,mirror:b}=i,y=lu(n.grid),v=y+m,x=b?-m:v,w=-gi(this.labelRotation),k=[];let E,C,j,F,D,O,$,B,Z,G,L,H,re="middle";if(a==="top")O=this.bottom-x,$=this._getXAxisLabelAlignment();else if(a==="bottom")O=this.top+x,$=this._getXAxisLabelAlignment();else if(a==="left"){const ce=this._getYAxisLabelAlignment(y);$=ce.textAlign,D=ce.x}else if(a==="right"){const ce=this._getYAxisLabelAlignment(y);$=ce.textAlign,D=ce.x}else if(r==="x"){if(a==="center")O=(t.top+t.bottom)/2+v;else if(lt(a)){const ce=Object.keys(a)[0],Y=a[ce];O=this.chart.scales[ce].getPixelForValue(Y)+v}$=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")D=(t.left+t.right)/2-v;else if(lt(a)){const ce=Object.keys(a)[0],Y=a[ce];D=this.chart.scales[ce].getPixelForValue(Y)}$=this._getYAxisLabelAlignment(y).textAlign}r==="y"&&(d==="start"?re="top":d==="end"&&(re="bottom"));const he=this._getLabelSizes();for(E=0,C=u.length;E<C;++E){j=u[E],F=j.label;const ce=i.setContext(this.getContext(E));B=this.getPixelForTick(E)+i.labelOffset,Z=this._resolveTickFontOptions(E),G=Z.lineHeight,L=pr(F)?F.length:1;const Y=L/2,ie=ce.color,Ee=ce.textStrokeColor,Be=ce.textStrokeWidth;let I=$;l?(D=B,$==="inner"&&(E===C-1?I=this.options.reverse?"left":"right":E===0?I=this.options.reverse?"right":"left":I="center"),a==="top"?f==="near"||w!==0?H=-L*G+G/2:f==="center"?H=-he.highest.height/2-Y*G+G:H=-he.highest.height+G/2:f==="near"||w!==0?H=G/2:f==="center"?H=he.highest.height/2-Y*G:H=he.highest.height-L*G,b&&(H*=-1),w!==0&&!ce.showLabelBackdrop&&(D+=G/2*Math.sin(w))):(O=B,H=(1-L)*G/2);let le;if(ce.showLabelBackdrop){const ue=Bn(ce.backdropPadding),ge=he.heights[E],xe=he.widths[E];let Oe=H-ue.top,ze=0-ue.left;switch(re){case"middle":Oe-=ge/2;break;case"bottom":Oe-=ge;break}switch($){case"center":ze-=xe/2;break;case"right":ze-=xe;break;case"inner":E===C-1?ze-=xe:E>0&&(ze-=xe/2);break}le={left:ze,top:Oe,width:xe+ue.width,height:ge+ue.height,color:ce.backdropColor}}k.push({label:F,font:Z,textOffset:H,options:{rotation:w,color:ie,strokeColor:Ee,strokeWidth:Be,textAlign:I,textBaseline:re,translation:[D,O],backdrop:le}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-gi(this.labelRotation))return t==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,l=this._getLabelSizes(),u=t+i,d=l.widest.width;let f,m;return r==="left"?a?(m=this.right+i,n==="near"?f="left":n==="center"?(f="center",m+=d/2):(f="right",m+=d)):(m=this.right-u,n==="near"?f="right":n==="center"?(f="center",m-=d/2):(f="left",m=this.left)):r==="right"?a?(m=this.left+i,n==="near"?f="right":n==="center"?(f="center",m-=d/2):(f="left",m-=d)):(m=this.left+u,n==="near"?f="left":n==="center"?(f="center",m+=d/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:a,width:i,height:l}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,a,i,l),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,l;const u=(d,f,m)=>{!m.width||!m.color||(n.save(),n.lineWidth=m.width,n.strokeStyle=m.color,n.setLineDash(m.borderDash||[]),n.lineDashOffset=m.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(r.display)for(i=0,l=a.length;i<l;++i){const d=a[i];r.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),r.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),l=n.display?i.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,m,b,y;this.isHorizontal()?(f=li(t,this.left,l)-l/2,m=li(t,this.right,u)+u/2,b=y=d):(b=li(t,this.top,l)-l/2,y=li(t,this.bottom,u)+u/2,f=m=d),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(f,b),r.lineTo(m,y),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&o2(n,a);const i=this.getLabelItems(t);for(const l of i){const u=l.options,d=l.font,f=l.label,m=l.textOffset;Td(n,f,0,m,d,u)}a&&l2(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=Hr(n.font),l=Bn(n.padding),u=n.align;let d=i.lineHeight/2;r==="bottom"||r==="center"||lt(r)?(d+=l.bottom,pr(n.text)&&(d+=i.lineHeight*(n.text.length-1))):d+=l.top;const{titleX:f,titleY:m,maxWidth:b,rotation:y}=rO(this,d,r,u);Td(t,n.text,0,0,i,{color:n.color,maxWidth:b,rotation:y,textAlign:tO(u,r,a),textBaseline:"middle",translation:[f,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=nt(t.grid&&t.grid.z,-1),a=nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Jo.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,l;for(i=0,l=r.length;i<l;++i){const u=r[i];u[n]===this.id&&(!t||u.type===t)&&a.push(u)}return a}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return Hr(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $0{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;sO(r)&&(n=this.register(r));const a=this.items,i=t.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,nO(t,l,n),this.override&&Vt.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,a=this.scope;n in r&&delete r[n],a&&n in Vt[a]&&(delete Vt[a][n],this.override&&delete Ni[n])}}function nO(e,t,r){const n=Iu(Object.create(null),[r?Vt.get(r):{},Vt.get(t),e.defaults]);Vt.set(t,n),e.defaultRoutes&&aO(t,e.defaultRoutes),e.descriptors&&Vt.describe(t,e.descriptors)}function aO(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),a=n.pop(),i=[e].concat(n).join("."),l=t[r].split("."),u=l.pop(),d=l.join(".");Vt.route(i,a,d,u)})}function sO(e){return"id"in e&&"defaults"in e}class iO{constructor(){this.controllers=new $0(m2,"datasets",!0),this.elements=new $0(Li,"elements"),this.plugins=new $0(Object,"plugins"),this.scales=new $0(Jo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):ht(a,l=>{const u=n||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,r,n){const a=a2(t);Et(n["before"+a],[],n),r[t](n),Et(n["after"+a],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const a=r.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return a}}var Jn=new iO;class oO{constructor(){this._init=[]}notify(t,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=a?this._descriptors(t).filter(a):this._descriptors(t),l=this._notify(i,t,r,n);return r==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,r,n,a){a=a||{};for(const i of t){const l=i.plugin,u=l[n],d=[r,a,i.options];if(Et(u,d,l)===!1&&a.cancelable)return!1}return!0}invalidate(){ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,a=nt(n.options&&n.options.plugins,{}),i=lO(n);return a===!1&&!r?[]:cO(t,i,a,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,a=(i,l)=>i.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(a(r,n),t,"stop"),this._notify(a(n,r),t,"start")}}function lO(e){const t={},r=[],n=Object.keys(Jn.plugins.items);for(let i=0;i<n.length;i++)r.push(Jn.getPlugin(n[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const l=a[i];r.indexOf(l)===-1&&(r.push(l),t[l.id]=!0)}return{plugins:r,localIds:t}}function uO(e,t){return!t&&e===!1?null:e===!0?{}:e}function cO(e,{plugins:t,localIds:r},n,a){const i=[],l=e.getContext();for(const u of t){const d=u.id,f=uO(n[d],a);f!==null&&i.push({plugin:u,options:dO(e.config,{plugin:u,local:r[d]},f,l)})}return i}function dO(e,{plugin:t,local:r},n,a){const i=e.pluginScopeKeys(t),l=e.getOptionScopes(n,i);return r&&t.defaults&&l.push(t.defaults),e.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tp(e,t){const r=Vt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function fO(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function hO(e,t){return e===t?"_index_":"_value_"}function E6(e){if(e==="x"||e==="y"||e==="r")return e}function mO(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function rp(e,...t){if(E6(e))return e;for(const r of t){const n=r.axis||mO(r.position)||e.length>1&&E6(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function A6(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function pO(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(r.length)return A6(e,"x",r[0])||A6(e,"y",r[0])}return{}}function bO(e,t){const r=Ni[e.type]||{scales:{}},n=t.scales||{},a=tp(e.type,t),i=Object.create(null);return Object.keys(n).forEach(l=>{const u=n[l];if(!lt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=rp(l,u,pO(l,e),Vt.scales[u.type]),f=hO(d,a),m=r.scales||{};i[l]=_u(Object.create(null),[{axis:d},u,m[d],m[f]])}),e.data.datasets.forEach(l=>{const u=l.type||e.type,d=l.indexAxis||tp(u,t),m=(Ni[u]||{}).scales||{};Object.keys(m).forEach(b=>{const y=fO(b,d),v=l[y+"AxisID"]||y;i[v]=i[v]||Object.create(null),_u(i[v],[{axis:y},n[v],m[b]])})}),Object.keys(i).forEach(l=>{const u=i[l];_u(u,[Vt.scales[u.type],Vt.scale])}),i}function S8(e){const t=e.options||(e.options={});t.plugins=nt(t.plugins,{}),t.scales=bO(e,t)}function E8(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function gO(e){return e=e||{},e.data=E8(e.data),S8(e),e}const C6=new Map,A8=new Set;function H0(e,t){let r=C6.get(e);return r||(r=t(),C6.set(e,r),A8.add(r)),r}const uu=(e,t,r)=>{const n=Uo(t,r);n!==void 0&&e.add(n)};class yO{constructor(t){this._config=gO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=E8(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),S8(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return H0(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return H0(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return H0(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return H0(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let a=n.get(t);return(!a||r)&&(a=new Map,n.set(t,a)),a}getOptionScopes(t,r,n){const{options:a,type:i}=this,l=this._cachedScopes(t,n),u=l.get(r);if(u)return u;const d=new Set;r.forEach(m=>{t&&(d.add(t),m.forEach(b=>uu(d,t,b))),m.forEach(b=>uu(d,a,b)),m.forEach(b=>uu(d,Ni[i]||{},b)),m.forEach(b=>uu(d,Vt,b)),m.forEach(b=>uu(d,Jm,b))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),A8.has(r)&&l.set(r,f),f}chartOptionScopes(){const{options:t,type:r}=this;return[t,Ni[r]||{},Vt.datasets[r]||{},{type:r},Vt,Jm]}resolveNamedOptions(t,r,n,a=[""]){const i={$shared:!0},{resolver:l,subPrefixes:u}=T6(this._resolverCache,t,a);let d=l;if(vO(l,r)){i.$shared=!1,n=Ls(n)?n():n;const f=this.createResolver(t,n,u);d=Vo(l,n,f)}for(const f of r)i[f]=d[f];return i}createResolver(t,r,n=[""],a){const{resolver:i}=T6(this._resolverCache,t,n);return lt(r)?Vo(i,r,void 0,a):i}}function T6(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const a=r.join();let i=n.get(a);return i||(i={resolver:u2(t,r),subPrefixes:r.filter(u=>!u.toLowerCase().includes("hover"))},n.set(a,i)),i}const xO=e=>lt(e)&&Object.getOwnPropertyNames(e).some(t=>Ls(e[t]));function vO(e,t){const{isScriptable:r,isIndexable:n}=l8(e);for(const a of t){const i=r(a),l=n(a),u=(l||i)&&e[a];if(i&&(Ls(u)||xO(u))||l&&pr(u))return!0}return!1}var _O="4.5.0";const wO=["top","bottom","left","right","chartArea"];function N6(e,t){return e==="top"||e==="bottom"||wO.indexOf(e)===-1&&t==="x"}function D6(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function M6(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Et(r&&r.onComplete,[e],t)}function kO(e){const t=e.chart,r=t.options.animation;Et(r&&r.onProgress,[e],t)}function C8(e){return f2()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ud={},j6=e=>{const t=C8(e);return Object.values(ud).filter(r=>r.canvas===t).pop()};function SO(e,t,r){const n=Object.keys(e);for(const a of n){const i=+a;if(i>=t){const l=e[a];delete e[a],(r>0||i>t)&&(e[i+r]=l)}}}function EO(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}let sc=class{static defaults=Vt;static instances=ud;static overrides=Ni;static registry=Jn;static version=_O;static getChart=j6;static register(...t){Jn.add(...t),z6()}static unregister(...t){Jn.remove(...t),z6()}constructor(t,r){const n=this.config=new yO(r),a=C8(t),i=j6(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||qz(a)),this.platform.updateConfig(n);const u=this.platform.acquireContext(a,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,m=d&&d.width;if(this.id=yM(),this.ctx=u,this.canvas=d,this.width=m,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BM(b=>this.update(b),l.resizeDelay||0),this._dataChanges=[],ud[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}La.listen(this,"complete",M6),La.listen(this,"progress",kO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return ct(t)?r&&i?i:a?n/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():t6(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Wy(this.canvas,this.ctx),this}stop(){return La.stop(this),this}resize(t,r){La.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,t,r,i),u=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,t6(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Et(n.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ht(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,a=Object.keys(n).reduce((l,u)=>(l[u]=!1,l),{});let i=[];r&&(i=i.concat(Object.keys(r).map(l=>{const u=r[l],d=rp(l,u),f=d==="r",m=d==="x";return{options:u,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),ht(i,l=>{const u=l.options,d=u.id,f=rp(d,u),m=nt(u.type,l.dtype);(u.position===void 0||N6(u.position,f)!==N6(l.dposition))&&(u.position=l.dposition),a[d]=!0;let b=null;if(d in n&&n[d].type===m)b=n[d];else{const y=Jn.getScale(m);b=new y({id:d,type:m,ctx:this.ctx,chart:this}),n[b.id]=b}b.init(u,t)}),ht(a,(l,u)=>{l||delete n[u]}),ht(n,l=>{Ds.configure(this,l,l.options),Ds.addBox(this,l)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(D6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let l=this.getDatasetMeta(n);const u=i.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=u,l.indexAxis=i.indexAxis||tp(u,this.options),l.order=i.order||0,l.index=n,l.label=""+i.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const d=Jn.getController(u),{datasetElementType:f,dataElementType:m}=Vt.datasets[u];Object.assign(d,{dataElementType:Jn.getElement(m),datasetElementType:f&&Jn.getElement(f)}),l.controller=new d(this,n),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ht(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:b}=this.getDatasetMeta(f),y=!a&&i.indexOf(b)===-1;b.buildOrUpdateElements(y),l=Math.max(+b.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),a||ht(i,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(D6("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ht(this.scales,t=>{Ds.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Hy(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const l=n==="_removeElements"?-i:i;SO(t,a,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(t.filter(l=>l[0]===i).map((l,u)=>u+","+l.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!Hy(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ds.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ht(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Ls(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),a={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(La.has(this)?this.attached&&!La.running(this)&&La.start(this):(this.draw(),M6({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const l=r[a];(!t||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},a=Uj(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&o2(r,a),t.controller.draw(),a&&l2(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return qu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,a){const i=wz.modes[r];return typeof i=="function"?i(this,t,n,a):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Fi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(t),l=i.controller._resolveAnimations(void 0,a);$u(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),l.update(i,{visible:n}),this.update(u=>u.datasetIndex===t?a:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),La.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Wy(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete ud[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(i,l)=>{r.addEventListener(this,i,l),t[i]=l},a=(i,l,u)=>{i.offsetX=l,i.offsetY=u,this._eventHandler(i)};ht(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(d,f)=>{r.addEventListener(this,d,f),t[d]=f},a=(d,f)=>{t[d]&&(r.removeEventListener(this,d,f),delete t[d])},i=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),n("resize",i),n("detach",l)};l=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",u)},r.isAttached(this.canvas)?u():l()}unbindEvents(){ht(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},ht(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const a=n?"set":"remove";let i,l,u,d;for(r==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),u=0,d=t.length;u<d;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:i,index:l})=>{const u=this.getDatasetMeta(i);if(!u)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:u.data[l],index:l}});!Ed(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const a=this.options.hover,i=(d,f)=>d.filter(m=>!f.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),l=i(r,t),u=n?t:i(t,r);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},a=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:a=[],options:i}=this,l=r,u=this._getActiveElements(t,a,n,l),d=SM(t),f=EO(t,this._lastEvent,n,d);n&&(this._lastEvent=null,Et(i.onHover,[t,u,this],this),d&&Et(i.onClick,[t,u,this],this));const m=!Ed(u,a);return(m||r)&&(this._active=u,this._updateHoverStyles(u,a,r)),this._lastEvent=f,m}_getActiveElements(t,r,n,a){if(t.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}};function z6(){return ht(sc.instances,e=>e._plugins.invalidate())}function T8(e,t,r=t){e.lineCap=nt(r.borderCapStyle,t.borderCapStyle),e.setLineDash(nt(r.borderDash,t.borderDash)),e.lineDashOffset=nt(r.borderDashOffset,t.borderDashOffset),e.lineJoin=nt(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=nt(r.borderWidth,t.borderWidth),e.strokeStyle=nt(r.borderColor,t.borderColor)}function AO(e,t,r){e.lineTo(r.x,r.y)}function CO(e){return e.stepped?WM:e.tension||e.cubicInterpolationMode==="monotone"?JM:AO}function N8(e,t,r={}){const n=e.length,{start:a=0,end:i=n-1}=r,{start:l,end:u}=t,d=Math.max(a,l),f=Math.min(i,u),m=a<l&&i<l||a>u&&i>u;return{count:n,start:d,loop:t.loop,ilen:f<d&&!m?n+f-d:f-d}}function TO(e,t,r,n){const{points:a,options:i}=t,{count:l,start:u,loop:d,ilen:f}=N8(a,r,n),m=CO(i);let{move:b=!0,reverse:y}=n||{},v,x,w;for(v=0;v<=f;++v)x=a[(u+(y?f-v:v))%l],!x.skip&&(b?(e.moveTo(x.x,x.y),b=!1):m(e,w,x,y,i.stepped),w=x);return d&&(x=a[(u+(y?f:0))%l],m(e,w,x,y,i.stepped)),!!d}function NO(e,t,r,n){const a=t.points,{count:i,start:l,ilen:u}=N8(a,r,n),{move:d=!0,reverse:f}=n||{};let m=0,b=0,y,v,x,w,k,E;const C=F=>(l+(f?u-F:F))%i,j=()=>{w!==k&&(e.lineTo(m,k),e.lineTo(m,w),e.lineTo(m,E))};for(d&&(v=a[C(0)],e.moveTo(v.x,v.y)),y=0;y<=u;++y){if(v=a[C(y)],v.skip)continue;const F=v.x,D=v.y,O=F|0;O===x?(D<w?w=D:D>k&&(k=D),m=(b*m+F)/++b):(j(),e.lineTo(F,D),x=O,b=0,w=k=D),E=D}j()}function np(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?NO:TO}function DO(e){return e.stepped?Mj:e.tension||e.cubicInterpolationMode==="monotone"?jj:mi}function MO(e,t,r,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,r,n)&&a.closePath()),T8(e,t.options),e.stroke(a)}function jO(e,t,r,n){const{segments:a,options:i}=t,l=np(t);for(const u of a)T8(e,i,u.style),e.beginPath(),l(e,t,u,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const zO=typeof Path2D=="function";function OO(e,t,r,n){zO&&!t.options.segment?MO(e,t,r,n):jO(e,t,r,n)}class RO extends Li{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;kj(this._points,n,t,a,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ij(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,a=t[r],i=this.points,l=Lj(this,{property:r,start:a,end:a});if(!l.length)return;const u=[],d=DO(n);let f,m;for(f=0,m=l.length;f<m;++f){const{start:b,end:y}=l[f],v=i[b],x=i[y];if(v===x){u.push(v);continue}const w=Math.abs((a-v[r])/(x[r]-v[r])),k=d(v,x,w,n.stepped);k[r]=t[r],u.push(k)}return u.length===1?u[0]:u}pathSegment(t,r,n){return np(this)(t,this,r,n)}path(t,r,n){const a=this.segments,i=np(this);let l=this._loop;r=r||0,n=n||this.points.length-r;for(const u of a)l&=i(t,this,u,{start:r,end:r+n-1});return!!l}draw(t,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),OO(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function O6(e,t,r,n){const a=e.options,{[r]:i}=e.getProps([r],n);return Math.abs(t-i)<a.radius+a.hitRadius}class FO extends Li{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,n){const a=this.options,{x:i,y:l}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(r-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,r){return O6(this,t,"x",r)}inYRange(t,r){return O6(this,t,"y",r)}getCenterPoint(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const n=r&&t.borderWidth||0;return(r+n)*2}draw(t,r){const n=this.options;this.skip||n.radius<.1||!qu(this,r,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,ep(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function D8(e,t){const{x:r,y:n,base:a,width:i,height:l}=e.getProps(["x","y","base","width","height"],t);let u,d,f,m,b;return e.horizontal?(b=l/2,u=Math.min(r,a),d=Math.max(r,a),f=n-b,m=n+b):(b=i/2,u=r-b,d=r+b,f=Math.min(n,a),m=Math.max(n,a)),{left:u,top:f,right:d,bottom:m}}function Ms(e,t,r,n){return e?0:an(t,r,n)}function LO(e,t,r){const n=e.options.borderWidth,a=e.borderSkipped,i=o8(n);return{t:Ms(a.top,i.top,0,r),r:Ms(a.right,i.right,0,t),b:Ms(a.bottom,i.bottom,0,r),l:Ms(a.left,i.left,0,t)}}function BO(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=Ro(a),l=Math.min(t,r),u=e.borderSkipped,d=n||lt(a);return{topLeft:Ms(!d||u.top||u.left,i.topLeft,0,l),topRight:Ms(!d||u.top||u.right,i.topRight,0,l),bottomLeft:Ms(!d||u.bottom||u.left,i.bottomLeft,0,l),bottomRight:Ms(!d||u.bottom||u.right,i.bottomRight,0,l)}}function PO(e){const t=D8(e),r=t.right-t.left,n=t.bottom-t.top,a=LO(e,r/2,n/2),i=BO(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function um(e,t,r,n){const a=t===null,i=r===null,u=e&&!(a&&i)&&D8(e,n);return u&&(a||yi(t,u.left,u.right))&&(i||yi(r,u.top,u.bottom))}function IO(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function $O(e,t){e.rect(t.x,t.y,t.w,t.h)}function cm(e,t,r={}){const n=e.x!==r.x?-t:0,a=e.y!==r.y?-t:0,i=(e.x+e.w!==r.x+r.w?t:0)-n,l=(e.y+e.h!==r.y+r.h?t:0)-a;return{x:e.x+n,y:e.y+a,w:e.w+i,h:e.h+l,radius:e.radius}}class HO extends Li{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:l}=PO(this),u=IO(l.radius)?Nd:$O;t.save(),(l.w!==i.w||l.h!==i.h)&&(t.beginPath(),u(t,cm(l,r,i)),t.clip(),u(t,cm(i,-r,l)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),u(t,cm(i,r)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,r,n){return um(this,t,r,n)}inXRange(t,r){return um(this,t,null,r)}inYRange(t,r){return um(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const R6=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},qO=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class F6 extends Li{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=Et(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,a)=>t.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,a=Hr(n.font),i=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=R6(n,i);let f,m;r.font=a.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(l,i,u,d)+10):(m=this.maxHeight,f=this._fitCols(l,a,u,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,a){const{ctx:i,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],m=a+u;let b=t;i.textAlign="left",i.textBaseline="middle";let y=-1,v=-m;return this.legendItems.forEach((x,w)=>{const k=n+r/2+i.measureText(x.text).width;(w===0||f[f.length-1]+k+2*u>l)&&(b+=m,f[f.length-(w>0?0:1)]=0,v+=m,y++),d[w]={left:0,top:v,row:y,width:k,height:a},f[f.length-1]+=k+u}),b}_fitCols(t,r,n,a){const{ctx:i,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],m=l-t;let b=u,y=0,v=0,x=0,w=0;return this.legendItems.forEach((k,E)=>{const{itemWidth:C,itemHeight:j}=UO(n,r,i,k,a);E>0&&v+j+2*u>m&&(b+=y+u,f.push({width:y,height:v}),x+=y+u,w++,y=v=0),d[E]={left:x,top:v,col:w,width:C,height:j},y=Math.max(y,C),v+=j+u}),b+=y,f.push({width:y,height:v}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,l=Fo(i,this.left,this.width);if(this.isHorizontal()){let u=0,d=tn(n,this.left+a,this.right-this.lineWidths[u]);for(const f of r)u!==f.row&&(u=f.row,d=tn(n,this.left+a,this.right-this.lineWidths[u])),f.top+=this.top+t+a,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+a}else{let u=0,d=tn(n,this.top+t+a,this.bottom-this.columnSizes[u].height);for(const f of r)f.col!==u&&(u=f.col,d=tn(n,this.top+t+a,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+a,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;o2(t,this),this._draw(),l2(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:l}=t,u=Vt.color,d=Fo(t.rtl,this.left,this.width),f=Hr(l.font),{padding:m}=l,b=f.size,y=b/2;let v;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;const{boxWidth:x,boxHeight:w,itemHeight:k}=R6(l,b),E=function(O,$,B){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;a.save();const Z=nt(B.lineWidth,1);if(a.fillStyle=nt(B.fillStyle,u),a.lineCap=nt(B.lineCap,"butt"),a.lineDashOffset=nt(B.lineDashOffset,0),a.lineJoin=nt(B.lineJoin,"miter"),a.lineWidth=Z,a.strokeStyle=nt(B.strokeStyle,u),a.setLineDash(nt(B.lineDash,[])),l.usePointStyle){const G={radius:w*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:Z},L=d.xPlus(O,x/2),H=$+y;s8(a,G,L,H,l.pointStyleWidth&&x)}else{const G=$+Math.max((b-w)/2,0),L=d.leftForLtr(O,x),H=Ro(B.borderRadius);a.beginPath(),Object.values(H).some(re=>re!==0)?Nd(a,{x:L,y:G,w:x,h:w,radius:H}):a.rect(L,G,x,w),a.fill(),Z!==0&&a.stroke()}a.restore()},C=function(O,$,B){Td(a,B.text,O,$+k/2,f,{strikethrough:B.hidden,textAlign:d.textAlign(B.textAlign)})},j=this.isHorizontal(),F=this._computeTitleHeight();j?v={x:tn(i,this.left+m,this.right-n[0]),y:this.top+m+F,line:0}:v={x:this.left+m,y:tn(i,this.top+F+m,this.bottom-r[0].height),line:0},h8(this.ctx,t.textDirection);const D=k+m;this.legendItems.forEach((O,$)=>{a.strokeStyle=O.fontColor,a.fillStyle=O.fontColor;const B=a.measureText(O.text).width,Z=d.textAlign(O.textAlign||(O.textAlign=l.textAlign)),G=x+y+B;let L=v.x,H=v.y;d.setWidth(this.width),j?$>0&&L+G+m>this.right&&(H=v.y+=D,v.line++,L=v.x=tn(i,this.left+m,this.right-n[v.line])):$>0&&H+D>this.bottom&&(L=v.x=L+r[v.line].width+m,v.line++,H=v.y=tn(i,this.top+F+m,this.bottom-r[v.line].height));const re=d.x(L);if(E(re,H,O),L=PM(Z,L+x+y,j?L+G:this.right,t.rtl),C(d.x(L),H,O),j)v.x+=G+m;else if(typeof O.text!="string"){const he=f.lineHeight;v.y+=M8(O,he)+m}else v.y+=D}),m8(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=Hr(r.font),a=Bn(r.padding);if(!r.display)return;const i=Fo(t.rtl,this.left,this.width),l=this.ctx,u=r.position,d=n.size/2,f=a.top+d;let m,b=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+f,b=tn(t.align,b,this.right-y);else{const x=this.columnSizes.reduce((w,k)=>Math.max(w,k.height),0);m=f+tn(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const v=tn(u,b,b+y);l.textAlign=i.textAlign(r8(u)),l.textBaseline="middle",l.strokeStyle=r.color,l.fillStyle=r.color,l.font=n.string,Td(l,r.text,v,m,n)}_computeTitleHeight(){const t=this.options.title,r=Hr(t.font),n=Bn(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,a,i;if(yi(t,this.left,this.right)&&yi(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],yi(t,a.left,a.left+a.width)&&yi(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!ZO(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=qO(a,n);a&&!i&&Et(r.onLeave,[t,a,this],this),this._hoveredItem=n,n&&!i&&Et(r.onHover,[t,n,this],this)}else n&&Et(r.onClick,[t,n,this],this)}}function UO(e,t,r,n,a){const i=VO(n,e,t,r),l=GO(a,n,t.lineHeight);return{itemWidth:i,itemHeight:l}}function VO(e,t,r,n){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((i,l)=>i.length>l.length?i:l)),t+r.size/2+n.measureText(a).width}function GO(e,t,r){let n=e;return typeof t.text!="string"&&(n=M8(t,r)),n}function M8(e,t){const r=e.text?e.text.length:0;return t*r}function ZO(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var KO={id:"legend",_element:F6,start(e,t,r){const n=e.legend=new F6({ctx:e.ctx,options:r,chart:e});Ds.configure(e,n,r),Ds.addBox(e,n)},stop(e){Ds.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;Ds.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:l,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(r?0:void 0),m=Bn(f.borderWidth);return{text:t[d.index].label,fillStyle:f.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const gu={average(e){if(!e.length)return!1;let t,r,n=new Set,a=0,i=0;for(t=0,r=e.length;t<r;++t){const u=e[t].element;if(u&&u.hasValue()){const d=u.tooltipPosition();n.add(d.x),a+=d.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((u,d)=>u+d)/n.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,a=Number.POSITIVE_INFINITY,i,l,u;for(i=0,l=e.length;i<l;++i){const d=e[i].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),m=Wm(t,f);m<a&&(a=m,u=d)}}if(u){const d=u.tooltipPosition();r=d.x,n=d.y}return{x:r,y:n}}};function Wn(e,t){return t&&(pr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ba(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function YO(e,t){const{element:r,datasetIndex:n,index:a}=t,i=e.getDatasetMeta(n).controller,{label:l,value:u}=i.getLabelAndValue(a);return{chart:e,label:l,parsed:i.getParsed(a),raw:e.data.datasets[n].data[a],formattedValue:u,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function L6(e,t){const r=e.chart.ctx,{body:n,footer:a,title:i}=e,{boxWidth:l,boxHeight:u}=t,d=Hr(t.bodyFont),f=Hr(t.titleFont),m=Hr(t.footerFont),b=i.length,y=a.length,v=n.length,x=Bn(t.padding);let w=x.height,k=0,E=n.reduce((F,D)=>F+D.before.length+D.lines.length+D.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,b&&(w+=b*f.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),E){const F=t.displayColors?Math.max(u,d.lineHeight):d.lineHeight;w+=v*F+(E-v)*d.lineHeight+(E-1)*t.bodySpacing}y&&(w+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let C=0;const j=function(F){k=Math.max(k,r.measureText(F).width+C)};return r.save(),r.font=f.string,ht(e.title,j),r.font=d.string,ht(e.beforeBody.concat(e.afterBody),j),C=t.displayColors?l+2+t.boxPadding:0,ht(n,F=>{ht(F.before,j),ht(F.lines,j),ht(F.after,j)}),C=0,r.font=m.string,ht(e.footer,j),r.restore(),k+=x.width,{width:k,height:w}}function XO(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function QO(e,t,r,n){const{x:a,width:i}=n,l=r.caretSize+r.caretPadding;if(e==="left"&&a+i+l>t.width||e==="right"&&a-i-l<0)return!0}function WO(e,t,r,n){const{x:a,width:i}=r,{width:l,chartArea:{left:u,right:d}}=e;let f="center";return n==="center"?f=a<=(u+d)/2?"left":"right":a<=i/2?f="left":a>=l-i/2&&(f="right"),QO(f,e,t,r)&&(f="center"),f}function B6(e,t,r){const n=r.yAlign||t.yAlign||XO(e,r);return{xAlign:r.xAlign||t.xAlign||WO(e,t,r,n),yAlign:n}}function JO(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function eR(e,t,r){let{y:n,height:a}=e;return t==="top"?n+=r:t==="bottom"?n-=a+r:n-=a/2,n}function P6(e,t,r,n){const{caretSize:a,caretPadding:i,cornerRadius:l}=e,{xAlign:u,yAlign:d}=r,f=a+i,{topLeft:m,topRight:b,bottomLeft:y,bottomRight:v}=Ro(l);let x=JO(t,u);const w=eR(t,d,f);return d==="center"?u==="left"?x+=f:u==="right"&&(x-=f):u==="left"?x-=Math.max(m,y)+a:u==="right"&&(x+=Math.max(b,v)+a),{x:an(x,0,n.width-t.width),y:an(w,0,n.height-t.height)}}function q0(e,t,r){const n=Bn(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function I6(e){return Wn([],Ba(e))}function tR(e,t,r){return Fi(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function $6(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const j8={beforeTitle:za,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:za,beforeBody:za,beforeLabel:za,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return ct(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:za,afterBody:za,beforeFooter:za,footer:za,afterFooter:za};function Br(e,t,r,n){const a=e[t].call(r,n);return typeof a>"u"?j8[t].call(r,n):a}class H6 extends Li{static positioners=gu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new b8(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=tR(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,a=Br(n,"beforeTitle",this,t),i=Br(n,"title",this,t),l=Br(n,"afterTitle",this,t);let u=[];return u=Wn(u,Ba(a)),u=Wn(u,Ba(i)),u=Wn(u,Ba(l)),u}getBeforeBody(t,r){return I6(Br(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,a=[];return ht(t,i=>{const l={before:[],lines:[],after:[]},u=$6(n,i);Wn(l.before,Ba(Br(u,"beforeLabel",this,i))),Wn(l.lines,Br(u,"label",this,i)),Wn(l.after,Ba(Br(u,"afterLabel",this,i))),a.push(l)}),a}getAfterBody(t,r){return I6(Br(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,a=Br(n,"beforeFooter",this,t),i=Br(n,"footer",this,t),l=Br(n,"afterFooter",this,t);let u=[];return u=Wn(u,Ba(a)),u=Wn(u,Ba(i)),u=Wn(u,Ba(l)),u}_createItems(t){const r=this._active,n=this.chart.data,a=[],i=[],l=[];let u=[],d,f;for(d=0,f=r.length;d<f;++d)u.push(YO(this.chart,r[d]));return t.filter&&(u=u.filter((m,b,y)=>t.filter(m,b,y,n))),t.itemSort&&(u=u.sort((m,b)=>t.itemSort(m,b,n))),ht(u,m=>{const b=$6(t.callbacks,m);a.push(Br(b,"labelColor",this,m)),i.push(Br(b,"labelPointStyle",this,m)),l.push(Br(b,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=u,u}update(t,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,l=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const u=gu[n.position].call(this,a,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const d=this._size=L6(this,n),f=Object.assign({},u,d),m=B6(this.chart,n,f),b=P6(n,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,i={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,a){const i=this.getCaretPosition(t,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(t,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:l,cornerRadius:u}=n,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:b}=Ro(u),{x:y,y:v}=t,{width:x,height:w}=r;let k,E,C,j,F,D;return i==="center"?(F=v+w/2,a==="left"?(k=y,E=k-l,j=F+l,D=F-l):(k=y+x,E=k+l,j=F-l,D=F+l),C=k):(a==="left"?E=y+Math.max(d,m)+l:a==="right"?E=y+x-Math.max(f,b)-l:E=this.caretX,i==="top"?(j=v,F=j-l,k=E-l,C=E+l):(j=v+w,F=j+l,k=E+l,C=E-l),D=j),{x1:k,x2:E,x3:C,y1:j,y2:F,y3:D}}drawTitle(t,r,n){const a=this.title,i=a.length;let l,u,d;if(i){const f=Fo(n.rtl,this.x,this.width);for(t.x=q0(this,n.titleAlign,n),r.textAlign=f.textAlign(n.titleAlign),r.textBaseline="middle",l=Hr(n.titleFont),u=n.titleSpacing,r.fillStyle=n.titleColor,r.font=l.string,d=0;d<i;++d)r.fillText(a[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,d+1===i&&(t.y+=n.titleMarginBottom-u)}}_drawColorBox(t,r,n,a,i){const l=this.labelColors[n],u=this.labelPointStyles[n],{boxHeight:d,boxWidth:f}=i,m=Hr(i.bodyFont),b=q0(this,"left",i),y=a.x(b),v=d<m.lineHeight?(m.lineHeight-d)/2:0,x=r.y+v;if(i.usePointStyle){const w={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},k=a.leftForLtr(y,f)+f/2,E=x+d/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,ep(t,w,k,E),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,ep(t,w,k,E)}else{t.lineWidth=lt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const w=a.leftForLtr(y,f),k=a.leftForLtr(a.xPlus(y,1),f-2),E=Ro(l.borderRadius);Object.values(E).some(C=>C!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Nd(t,{x:w,y:x,w:f,h:d,radius:E}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Nd(t,{x:k,y:x+1,w:f-2,h:d-2,radius:E}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(w,x,f,d),t.strokeRect(w,x,f,d),t.fillStyle=l.backgroundColor,t.fillRect(k,x+1,f-2,d-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:m}=n,b=Hr(n.bodyFont);let y=b.lineHeight,v=0;const x=Fo(n.rtl,this.x,this.width),w=function(B){r.fillText(B,x.x(t.x+v),t.y+y/2),t.y+=y+i},k=x.textAlign(l);let E,C,j,F,D,O,$;for(r.textAlign=l,r.textBaseline="middle",r.font=b.string,t.x=q0(this,k,n),r.fillStyle=n.bodyColor,ht(this.beforeBody,w),v=u&&k!=="right"?l==="center"?f/2+m:f+2+m:0,F=0,O=a.length;F<O;++F){for(E=a[F],C=this.labelTextColors[F],r.fillStyle=C,ht(E.before,w),j=E.lines,u&&j.length&&(this._drawColorBox(r,t,F,x,n),y=Math.max(b.lineHeight,d)),D=0,$=j.length;D<$;++D)w(j[D]),y=b.lineHeight;ht(E.after,w)}v=0,y=b.lineHeight,ht(this.afterBody,w),t.y-=i}drawFooter(t,r,n){const a=this.footer,i=a.length;let l,u;if(i){const d=Fo(n.rtl,this.x,this.width);for(t.x=q0(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=d.textAlign(n.footerAlign),r.textBaseline="middle",l=Hr(n.footerFont),r.fillStyle=n.footerColor,r.font=l.string,u=0;u<i;++u)r.fillText(a[u],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+n.footerSpacing}}drawBackground(t,r,n,a){const{xAlign:i,yAlign:l}=this,{x:u,y:d}=t,{width:f,height:m}=n,{topLeft:b,topRight:y,bottomLeft:v,bottomRight:x}=Ro(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(u+b,d),l==="top"&&this.drawCaret(t,r,n,a),r.lineTo(u+f-y,d),r.quadraticCurveTo(u+f,d,u+f,d+y),l==="center"&&i==="right"&&this.drawCaret(t,r,n,a),r.lineTo(u+f,d+m-x),r.quadraticCurveTo(u+f,d+m,u+f-x,d+m),l==="bottom"&&this.drawCaret(t,r,n,a),r.lineTo(u+v,d+m),r.quadraticCurveTo(u,d+m,u,d+m-v),l==="center"&&i==="left"&&this.drawCaret(t,r,n,a),r.lineTo(u,d+b),r.quadraticCurveTo(u,d,u+b,d),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const l=gu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=L6(this,t),d=Object.assign({},l,this._size),f=B6(r,t,d),m=P6(t,d,f,r);(a._to!==m.x||i._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=Bn(r.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&u&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,a,r),h8(t,r.textDirection),i.y+=l.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),m8(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,a=t.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),i=!Ed(n,a),l=this._positionChanged(a,r);(i||l)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],l=this._getActiveElements(t,i,r,n),u=this._positionChanged(l,t),d=r||!Ed(l,i)||u;return d&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),d}_getActiveElements(t,r,n,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return r.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&l.reverse(),l}_positionChanged(t,r){const{caretX:n,caretY:a,options:i}=this,l=gu[i.position].call(this,t,r);return l!==!1&&(n!==l.x||a!==l.y)}}var rR={id:"tooltip",_element:H6,positioners:gu,afterInit(e,t,r){r&&(e.tooltip=new H6({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:j8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const nR=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function aR(e,t,r,n){const a=e.indexOf(t);if(a===-1)return nR(e,t,r,n);const i=e.lastIndexOf(t);return a!==i?r:a}const sR=(e,t)=>e===null?null:an(Math.round(e),0,t);function q6(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class iR extends Jo{static id="category";static defaults={ticks:{callback:q6}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(ct(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:aR(n,t,nt(r,t),this._addedLabels),sR(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=t===0&&r===i.length-1?i:i.slice(t,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=t;l<=r;l++)a.push({value:l});return a}getLabelForValue(t){return q6.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function oR(e,t){const r=[],{bounds:a,step:i,min:l,max:u,precision:d,count:f,maxTicks:m,maxDigits:b,includeBounds:y}=e,v=i||1,x=m-1,{min:w,max:k}=t,E=!ct(l),C=!ct(u),j=!ct(f),F=(k-w)/(b+1);let D=Uy((k-w)/x/v)*v,O,$,B,Z;if(D<1e-14&&!E&&!C)return[{value:w},{value:k}];Z=Math.ceil(k/D)-Math.floor(w/D),Z>x&&(D=Uy(Z*D/x/v)*v),ct(d)||(O=Math.pow(10,d),D=Math.ceil(D*O)/O),a==="ticks"?($=Math.floor(w/D)*D,B=Math.ceil(k/D)*D):($=w,B=k),E&&C&&i&&NM((u-l)/i,D/1e3)?(Z=Math.round(Math.min((u-l)/D,m)),D=(u-l)/Z,$=l,B=u):j?($=E?l:$,B=C?u:B,Z=f-1,D=(B-$)/Z):(Z=(B-$)/D,wu(Z,Math.round(Z),D/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const G=Math.max(Vy(D),Vy($));O=Math.pow(10,ct(d)?G:d),$=Math.round($*O)/O,B=Math.round(B*O)/O;let L=0;for(E&&(y&&$!==l?(r.push({value:l}),$<l&&L++,wu(Math.round(($+L*D)*O)/O,l,U6(l,F,e))&&L++):$<l&&L++);L<Z;++L){const H=Math.round(($+L*D)*O)/O;if(C&&H>u)break;r.push({value:H})}return C&&y&&B!==u?r.length&&wu(r[r.length-1].value,u,U6(u,F,e))?r[r.length-1].value=u:r.push({value:u}):(!C||B===u)&&r.push({value:B}),r}function U6(e,t,{horizontal:r,minRotation:n}){const a=gi(n),i=(r?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class lR extends Jo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return ct(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const l=d=>a=r?a:d,u=d=>i=n?i:d;if(t){const d=ua(a),f=ua(i);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(a===i){let d=i===0?1:Math.abs(i*.05);u(i+d),t||l(a-d)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,l=oR(a,i);return t.bounds==="ticks"&&DM(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const a=(n-r)/Math.max(t.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return n8(t,this.chart.options.locale,this.options.ticks.format)}}class uR extends lR{static id="linear";static defaults={ticks:{callback:a8.formatters.numeric}};determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Sn(t)?t:0,this.max=Sn(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=gi(this.options.ticks.minRotation),a=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const tf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$r=Object.keys(tf);function V6(e,t){return e-t}function G6(e,t){if(ct(t))return null;const r=e._adapter,{parser:n,round:a,isoWeekday:i}=e._parseOpts;let l=t;return typeof n=="function"&&(l=n(l)),Sn(l)||(l=typeof n=="string"?r.parse(l,n):r.parse(l)),l===null?null:(a&&(l=a==="week"&&(Hu(i)||i===!0)?r.startOf(l,"isoWeek",i):r.startOf(l,a)),+l)}function Z6(e,t,r,n){const a=$r.length;for(let i=$r.indexOf(e);i<a-1;++i){const l=tf[$r[i]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((r-t)/(u*l.size))<=n)return $r[i]}return $r[a-1]}function cR(e,t,r,n,a){for(let i=$r.length-1;i>=$r.indexOf(r);i--){const l=$r[i];if(tf[l].common&&e._adapter.diff(a,n,l)>=t-1)return l}return $r[r?$r.indexOf(r):0]}function dR(e){for(let t=$r.indexOf(e)+1,r=$r.length;t<r;++t)if(tf[$r[t]].common)return $r[t]}function K6(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:a}=s2(r,t),i=r[n]>=t?r[n]:r[a];e[i]=!0}}function fR(e,t,r,n){const a=e._adapter,i=+a.startOf(t[0].value,n),l=t[t.length-1].value;let u,d;for(u=i;u<=l;u=+a.add(u,1,n))d=r[u],d>=0&&(t[d].major=!0);return t}function Y6(e,t,r){const n=[],a={},i=t.length;let l,u;for(l=0;l<i;++l)u=t[l],a[u]=l,n.push({value:u,major:!1});return i===0||!r?n:fR(e,n,a,r)}class X6 extends Jo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),a=this._adapter=new gz._date(t.adapters.date);a.init(r),_u(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:G6(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:a,max:i,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!u&&!isNaN(f.max)&&(i=Math.max(i,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=Sn(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=Sn(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,l=this.max,u=FM(a,i,l);return this._unit=r.unit||(n.autoSkip?Z6(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):cR(this,u.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:dR(this._unit),this.initOffsets(a),t.reverse&&u.reverse(),Y6(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?r=1-a:r=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;r=an(r,0,l),n=an(n,0,l),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,l=i.unit||Z6(i.minUnit,r,n,this._getLabelCapacity(r)),u=nt(a.ticks.stepSize,1),d=l==="week"?i.isoWeekday:!1,f=Hu(d)||d===!0,m={};let b=r,y,v;if(f&&(b=+t.startOf(b,"isoWeek",d)),b=+t.startOf(b,f?"day":l),t.diff(n,r,l)>1e5*u)throw new Error(r+" and "+n+" are too far apart with stepSize of "+u+" "+l);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(y=b,v=0;y<n;y=+t.add(y,u,l),v++)K6(m,y,x);return(y===n||a.bounds==="ticks"||v===1)&&K6(m,y,x),Object.keys(m).sort(V6).map(w=>+w)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const a=this.options.time.displayFormats,i=this._unit,l=r||a[i];return this._adapter.format(t,l)}_tickFormatFunction(t,r,n,a){const i=this.options,l=i.ticks.callback;if(l)return Et(l,[t,r,n],this);const u=i.time.displayFormats,d=this._unit,f=this._majorUnit,m=d&&u[d],b=f&&u[f],y=n[r],v=f&&b&&y&&y.major;return this._adapter.format(t,a||(v?b:m))}generateTickLabels(t){let r,n,a;for(r=0,n=t.length;r<n;++r)a=t[r],a.label=this._tickFormatFunction(a.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,a=gi(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:n*i+u*l,h:n*l+u*i}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(t,0,Y6(this,[t],this._majorUnit),a),l=this._getLabelSize(i),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)t=t.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)t.push(G6(this,a[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Jv(t.sort(V6))}}function U0(e,t,r){let n=0,a=e.length-1,i,l,u,d;r?(t>=e[n].pos&&t<=e[a].pos&&({lo:n,hi:a}=xi(e,"pos",t)),{pos:i,time:u}=e[n],{pos:l,time:d}=e[a]):(t>=e[n].time&&t<=e[a].time&&({lo:n,hi:a}=xi(e,"time",t)),{time:i,pos:u}=e[n],{time:l,pos:d}=e[a]);const f=l-i;return f?u+(d-u)*(t-i)/f:u}class FU extends X6{static id="timeseries";static defaults=X6.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=U0(r,this.min),this._tableRange=U0(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,a=[],i=[];let l,u,d,f,m;for(l=0,u=t.length;l<u;++l)f=t[l],f>=r&&f<=n&&a.push(f);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(l=0,u=a.length;l<u;++l)m=a[l+1],d=a[l-1],f=a[l],Math.round((m+d)/2)!==f&&i.push({time:f,pos:l/(u-1)});return i}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(U0(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return U0(this._table,n*this._tableRange+this._minPos,!0)}}const z8="label";function Q6(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function hR(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function O8(e,t){e.labels=t}function R8(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z8;const n=[];e.datasets=t.map(a=>{const i=e.datasets.find(l=>l[r]===a[r]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function mR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z8;const r={labels:[],datasets:[]};return O8(r,e.labels),R8(r,e.datasets,t),r}function pR(e,t){const{height:r=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:l,data:u,options:d,plugins:f=[],fallbackContent:m,updateMode:b,...y}=e,v=N.useRef(null),x=N.useRef(null),w=()=>{v.current&&(x.current=new sc(v.current,{type:l,data:mR(u,i),options:d&&{...d},plugins:f}),Q6(t,x.current))},k=()=>{Q6(t,null),x.current&&(x.current.destroy(),x.current=null)};return N.useEffect(()=>{!a&&x.current&&d&&hR(x.current,d)},[a,d]),N.useEffect(()=>{!a&&x.current&&O8(x.current.config.data,u.labels)},[a,u.labels]),N.useEffect(()=>{!a&&x.current&&u.datasets&&R8(x.current.config.data,u.datasets,i)},[a,u.datasets]),N.useEffect(()=>{x.current&&(a?(k(),setTimeout(w)):x.current.update(b))},[a,d,u.labels,u.datasets,b]),N.useEffect(()=>{x.current&&(k(),setTimeout(w))},[l]),N.useEffect(()=>(w(),()=>k()),[]),Pt.createElement("canvas",{ref:v,role:"img",height:r,width:n,...y},m)}const bR=N.forwardRef(pR);function F8(e,t){return sc.register(t),N.forwardRef((r,n)=>Pt.createElement(bR,{...r,ref:n,type:e}))}const gR=F8("line",bz),yR=F8("bar",pz);function L8(e,t){return function(){return e.apply(t,arguments)}}const{toString:xR}=Object.prototype,{getPrototypeOf:b2}=Object,{iterator:rf,toStringTag:B8}=Symbol,nf=(e=>t=>{const r=xR.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=e=>(e=e.toLowerCase(),t=>nf(t)===e),af=e=>t=>typeof t===e,{isArray:el}=Array,Vu=af("undefined");function vR(e){return e!==null&&!Vu(e)&&e.constructor!==null&&!Vu(e.constructor)&&qr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const P8=Hn("ArrayBuffer");function _R(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&P8(e.buffer),t}const wR=af("string"),qr=af("function"),I8=af("number"),sf=e=>e!==null&&typeof e=="object",kR=e=>e===!0||e===!1,cd=e=>{if(nf(e)!=="object")return!1;const t=b2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(B8 in e)&&!(rf in e)},SR=Hn("Date"),ER=Hn("File"),AR=Hn("Blob"),CR=Hn("FileList"),TR=e=>sf(e)&&qr(e.pipe),NR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||qr(e.append)&&((t=nf(e))==="formdata"||t==="object"&&qr(e.toString)&&e.toString()==="[object FormData]"))},DR=Hn("URLSearchParams"),[MR,jR,zR,OR]=["ReadableStream","Request","Response","Headers"].map(Hn),RR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ic(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),el(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let u;for(n=0;n<l;n++)u=i[n],t.call(null,e[u],u,e)}}function $8(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H8=e=>!Vu(e)&&e!==vi;function ap(){const{caseless:e}=H8(this)&&this||{},t={},r=(n,a)=>{const i=e&&$8(t,a)||a;cd(t[i])&&cd(n)?t[i]=ap(t[i],n):cd(n)?t[i]=ap({},n):el(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&ic(arguments[n],r);return t}const FR=(e,t,r,{allOwnKeys:n}={})=>(ic(t,(a,i)=>{r&&qr(a)?e[i]=L8(a,r):e[i]=a},{allOwnKeys:n}),e),LR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BR=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},PR=(e,t,r,n)=>{let a,i,l;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&b2(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},IR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},$R=e=>{if(!e)return null;if(el(e))return e;let t=e.length;if(!I8(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},HR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&b2(Uint8Array)),qR=(e,t)=>{const n=(e&&e[rf]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},UR=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},VR=Hn("HTMLFormElement"),GR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),W6=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ZR=Hn("RegExp"),q8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ic(r,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},KR=e=>{q8(e,(t,r)=>{if(qr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(qr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},YR=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return el(e)?n(e):n(String(e).split(t)),r},XR=()=>{},QR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function WR(e){return!!(e&&qr(e.append)&&e[B8]==="FormData"&&e[rf])}const JR=e=>{const t=new Array(10),r=(n,a)=>{if(sf(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=el(n)?[]:{};return ic(n,(l,u)=>{const d=r(l,a+1);!Vu(d)&&(i[u]=d)}),t[a]=void 0,i}}return n};return r(e,0)},eF=Hn("AsyncFunction"),tF=e=>e&&(sf(e)||qr(e))&&qr(e.then)&&qr(e.catch),U8=((e,t)=>e?setImmediate:t?((r,n)=>(vi.addEventListener("message",({source:a,data:i})=>{a===vi&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),vi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",qr(vi.postMessage)),rF=typeof queueMicrotask<"u"?queueMicrotask.bind(vi):typeof process<"u"&&process.nextTick||U8,nF=e=>e!=null&&qr(e[rf]),se={isArray:el,isArrayBuffer:P8,isBuffer:vR,isFormData:NR,isArrayBufferView:_R,isString:wR,isNumber:I8,isBoolean:kR,isObject:sf,isPlainObject:cd,isReadableStream:MR,isRequest:jR,isResponse:zR,isHeaders:OR,isUndefined:Vu,isDate:SR,isFile:ER,isBlob:AR,isRegExp:ZR,isFunction:qr,isStream:TR,isURLSearchParams:DR,isTypedArray:HR,isFileList:CR,forEach:ic,merge:ap,extend:FR,trim:RR,stripBOM:LR,inherits:BR,toFlatObject:PR,kindOf:nf,kindOfTest:Hn,endsWith:IR,toArray:$R,forEachEntry:qR,matchAll:UR,isHTMLForm:VR,hasOwnProperty:W6,hasOwnProp:W6,reduceDescriptors:q8,freezeMethods:KR,toObjectSet:YR,toCamelCase:GR,noop:XR,toFiniteNumber:QR,findKey:$8,global:vi,isContextDefined:H8,isSpecCompliantForm:WR,toJSONObject:JR,isAsyncFn:eF,isThenable:tF,setImmediate:U8,asap:rF,isIterable:nF};function Ye(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}se.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const V8=Ye.prototype,G8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{G8[e]={value:e}});Object.defineProperties(Ye,G8);Object.defineProperty(V8,"isAxiosError",{value:!0});Ye.from=(e,t,r,n,a,i)=>{const l=Object.create(V8);return se.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Ye.call(l,e.message,t,r,n,a),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const aF=null;function sp(e){return se.isPlainObject(e)||se.isArray(e)}function Z8(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function J6(e,t,r){return e?e.concat(t).map(function(a,i){return a=Z8(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function sF(e){return se.isArray(e)&&!e.some(sp)}const iF=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function of(e,t,r){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,k){return!se.isUndefined(k[w])});const n=r.metaTokens,a=r.visitor||m,i=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(a))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(se.isDate(x))return x.toISOString();if(se.isBoolean(x))return x.toString();if(!d&&se.isBlob(x))throw new Ye("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(x)||se.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function m(x,w,k){let E=x;if(x&&!k&&typeof x=="object"){if(se.endsWith(w,"{}"))w=n?w:w.slice(0,-2),x=JSON.stringify(x);else if(se.isArray(x)&&sF(x)||(se.isFileList(x)||se.endsWith(w,"[]"))&&(E=se.toArray(x)))return w=Z8(w),E.forEach(function(j,F){!(se.isUndefined(j)||j===null)&&t.append(l===!0?J6([w],F,i):l===null?w:w+"[]",f(j))}),!1}return sp(x)?!0:(t.append(J6(k,w,i),f(x)),!1)}const b=[],y=Object.assign(iF,{defaultVisitor:m,convertValue:f,isVisitable:sp});function v(x,w){if(!se.isUndefined(x)){if(b.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));b.push(x),se.forEach(x,function(E,C){(!(se.isUndefined(E)||E===null)&&a.call(t,E,se.isString(C)?C.trim():C,w,y))===!0&&v(E,w?w.concat(C):[C])}),b.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return v(e),t}function ex(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function g2(e,t){this._pairs=[],e&&of(e,this,t)}const K8=g2.prototype;K8.append=function(t,r){this._pairs.push([t,r])};K8.toString=function(t){const r=t?function(n){return t.call(this,n,ex)}:ex;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function oF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y8(e,t,r){if(!t)return e;const n=r&&r.encode||oF;se.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=se.isURLSearchParams(t)?t.toString():new g2(t,r).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class tx{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(n){n!==null&&t(n)})}}const X8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lF=typeof URLSearchParams<"u"?URLSearchParams:g2,uF=typeof FormData<"u"?FormData:null,cF=typeof Blob<"u"?Blob:null,dF={isBrowser:!0,classes:{URLSearchParams:lF,FormData:uF,Blob:cF},protocols:["http","https","file","blob","url","data"]},y2=typeof window<"u"&&typeof document<"u",ip=typeof navigator=="object"&&navigator||void 0,fF=y2&&(!ip||["ReactNative","NativeScript","NS"].indexOf(ip.product)<0),hF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mF=y2&&window.location.href||"http://localhost",pF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:y2,hasStandardBrowserEnv:fF,hasStandardBrowserWebWorkerEnv:hF,navigator:ip,origin:mF},Symbol.toStringTag,{value:"Module"})),Sr={...pF,...dF};function bF(e,t){return of(e,new Sr.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return Sr.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function gF(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function yF(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function Q8(e){function t(r,n,a,i){let l=r[i++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=i>=r.length;return l=!l&&se.isArray(a)?a.length:l,d?(se.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!u):((!a[l]||!se.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],i)&&se.isArray(a[l])&&(a[l]=yF(a[l])),!u)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(n,a)=>{t(gF(n),a,r,0)}),r}return null}function xF(e,t,r){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const oc={transitional:X8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=se.isObject(t);if(i&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return a?JSON.stringify(Q8(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return bF(t,this.formSerializer).toString();if((u=se.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return of(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),xF(t)):t}],transformResponse:[function(t){const r=this.transitional||oc.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(u){if(l)throw u.name==="SyntaxError"?Ye.from(u,Ye.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sr.classes.FormData,Blob:Sr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{oc.headers[e]={}});const vF=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_F=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&vF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},rx=Symbol("internals");function cu(e){return e&&String(e).trim().toLowerCase()}function dd(e){return e===!1||e==null?e:se.isArray(e)?e.map(dd):String(e)}function wF(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const kF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dm(e,t,r,n,a){if(se.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!se.isString(t)){if(se.isString(n))return t.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(t)}}function SF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function EF(e,t){const r=se.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,l){return this[n].call(this,t,a,i,l)},configurable:!0})})}let Ur=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(u,d,f){const m=cu(d);if(!m)throw new Error("header name must be a non-empty string");const b=se.findKey(a,m);(!b||a[b]===void 0||f===!0||f===void 0&&a[b]!==!1)&&(a[b||d]=dd(u))}const l=(u,d)=>se.forEach(u,(f,m)=>i(f,m,d));if(se.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(se.isString(t)&&(t=t.trim())&&!kF(t))l(_F(t),r);else if(se.isObject(t)&&se.isIterable(t)){let u={},d,f;for(const m of t){if(!se.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(d=u[f])?se.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(u,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=cu(t),t){const n=se.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return wF(a);if(se.isFunction(r))return r.call(this,a,n);if(se.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=cu(t),t){const n=se.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||dm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(l){if(l=cu(l),l){const u=se.findKey(n,l);u&&(!r||dm(n,n[u],u,r))&&(delete n[u],a=!0)}}return se.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||dm(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return se.forEach(this,(a,i)=>{const l=se.findKey(n,i);if(l){r[l]=dd(a),delete r[i];return}const u=t?SF(i):String(i).trim();u!==i&&delete r[i],r[u]=dd(a),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return se.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[rx]=this[rx]={accessors:{}}).accessors,a=this.prototype;function i(l){const u=cu(l);n[u]||(EF(a,l),n[u]=!0)}return se.isArray(t)?t.forEach(i):i(t),this}};Ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(Ur.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});se.freezeMethods(Ur);function fm(e,t){const r=this||oc,n=t||r,a=Ur.from(n.headers);let i=n.data;return se.forEach(e,function(u){i=u.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function W8(e){return!!(e&&e.__CANCEL__)}function tl(e,t,r){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,r),this.name="CanceledError"}se.inherits(tl,Ye,{__CANCEL__:!0});function J8(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ye("Request failed with status code "+r.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function AF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function CF(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),m=n[i];l||(l=f),r[a]=d,n[a]=f;let b=i,y=0;for(;b!==a;)y+=r[b++],b=b%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),f-l<t)return;const v=m&&f-m;return v?Math.round(y*1e3/v):void 0}}function TF(e,t){let r=0,n=1e3/t,a,i;const l=(f,m=Date.now())=>{r=m,a=null,i&&(clearTimeout(i),i=null),e.apply(null,f)};return[(...f)=>{const m=Date.now(),b=m-r;b>=n?l(f,m):(a=f,i||(i=setTimeout(()=>{i=null,l(a)},n-b)))},()=>a&&l(a)]}const jd=(e,t,r=3)=>{let n=0;const a=CF(50,250);return TF(i=>{const l=i.loaded,u=i.lengthComputable?i.total:void 0,d=l-n,f=a(d),m=l<=u;n=l;const b={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-l)/f:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(b)},r)},nx=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ax=e=>(...t)=>se.asap(()=>e(...t)),NF=Sr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Sr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Sr.origin),Sr.navigator&&/(msie|trident)/i.test(Sr.navigator.userAgent)):()=>!0,DF=Sr.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const l=[e+"="+encodeURIComponent(t)];se.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),se.isString(n)&&l.push("path="+n),se.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function MF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function jF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function e7(e,t,r){let n=!MF(t);return e&&(n||r==!1)?jF(e,t):t}const sx=e=>e instanceof Ur?{...e}:e;function Di(e,t){t=t||{};const r={};function n(f,m,b,y){return se.isPlainObject(f)&&se.isPlainObject(m)?se.merge.call({caseless:y},f,m):se.isPlainObject(m)?se.merge({},m):se.isArray(m)?m.slice():m}function a(f,m,b,y){if(se.isUndefined(m)){if(!se.isUndefined(f))return n(void 0,f,b,y)}else return n(f,m,b,y)}function i(f,m){if(!se.isUndefined(m))return n(void 0,m)}function l(f,m){if(se.isUndefined(m)){if(!se.isUndefined(f))return n(void 0,f)}else return n(void 0,m)}function u(f,m,b){if(b in t)return n(f,m);if(b in e)return n(void 0,f)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m,b)=>a(sx(f),sx(m),b,!0)};return se.forEach(Object.keys(Object.assign({},e,t)),function(m){const b=d[m]||a,y=b(e[m],t[m],m);se.isUndefined(y)&&b!==u||(r[m]=y)}),r}const t7=e=>{const t=Di({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:u}=t;t.headers=l=Ur.from(l),t.url=Y8(e7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(se.isFormData(r)){if(Sr.hasStandardBrowserEnv||Sr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...m]=d?d.split(";").map(b=>b.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...m].join("; "))}}if(Sr.hasStandardBrowserEnv&&(n&&se.isFunction(n)&&(n=n(t)),n||n!==!1&&NF(t.url))){const f=a&&i&&DF.read(i);f&&l.set(a,f)}return t},zF=typeof XMLHttpRequest<"u",OF=zF&&function(e){return new Promise(function(r,n){const a=t7(e);let i=a.data;const l=Ur.from(a.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=a,m,b,y,v,x;function w(){v&&v(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function E(){if(!k)return;const j=Ur.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),D={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:j,config:e,request:k};J8(function($){r($),w()},function($){n($),w()},D),k=null}"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(E)},k.onabort=function(){k&&(n(new Ye("Request aborted",Ye.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new Ye("Network Error",Ye.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let F=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const D=a.transitional||X8;a.timeoutErrorMessage&&(F=a.timeoutErrorMessage),n(new Ye(F,D.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,k)),k=null},i===void 0&&l.setContentType(null),"setRequestHeader"in k&&se.forEach(l.toJSON(),function(F,D){k.setRequestHeader(D,F)}),se.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),u&&u!=="json"&&(k.responseType=a.responseType),f&&([y,x]=jd(f,!0),k.addEventListener("progress",y)),d&&k.upload&&([b,v]=jd(d),k.upload.addEventListener("progress",b),k.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(m=j=>{k&&(n(!j||j.type?new tl(null,e,k):j),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const C=AF(a.url);if(C&&Sr.protocols.indexOf(C)===-1){n(new Ye("Unsupported protocol "+C+":",Ye.ERR_BAD_REQUEST,e));return}k.send(i||null)})},RF=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(f){if(!a){a=!0,u();const m=f instanceof Error?f:this.reason;n.abort(m instanceof Ye?m:new tl(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,i(new Ye(`timeout ${t} of ms exceeded`,Ye.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>se.asap(u),d}},FF=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},LF=async function*(e,t){for await(const r of BF(e))yield*FF(r,t)},BF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},ix=(e,t,r,n)=>{const a=LF(e,t);let i=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await a.next();if(f){u(),d.close();return}let b=m.byteLength;if(r){let y=i+=b;r(y)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),a.return()}},{highWaterMark:2})},lf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",r7=lf&&typeof ReadableStream=="function",PF=lf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),n7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},IF=r7&&n7(()=>{let e=!1;const t=new Request(Sr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ox=64*1024,op=r7&&n7(()=>se.isReadableStream(new Response("").body)),zd={stream:op&&(e=>e.body)};lf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!zd[t]&&(zd[t]=se.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Ye(`Response type '${t}' is not supported`,Ye.ERR_NOT_SUPPORT,n)})})})(new Response);const $F=async e=>{if(e==null)return 0;if(se.isBlob(e))return e.size;if(se.isSpecCompliantForm(e))return(await new Request(Sr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(se.isArrayBufferView(e)||se.isArrayBuffer(e))return e.byteLength;if(se.isURLSearchParams(e)&&(e=e+""),se.isString(e))return(await PF(e)).byteLength},HF=async(e,t)=>{const r=se.toFiniteNumber(e.getContentLength());return r??$F(t)},qF=lf&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:f,headers:m,withCredentials:b="same-origin",fetchOptions:y}=t7(e);f=f?(f+"").toLowerCase():"text";let v=RF([a,i&&i.toAbortSignal()],l),x;const w=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let k;try{if(d&&IF&&r!=="get"&&r!=="head"&&(k=await HF(m,n))!==0){let D=new Request(t,{method:"POST",body:n,duplex:"half"}),O;if(se.isFormData(n)&&(O=D.headers.get("content-type"))&&m.setContentType(O),D.body){const[$,B]=nx(k,jd(ax(d)));n=ix(D.body,ox,$,B)}}se.isString(b)||(b=b?"include":"omit");const E="credentials"in Request.prototype;x=new Request(t,{...y,signal:v,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:E?b:void 0});let C=await fetch(x,y);const j=op&&(f==="stream"||f==="response");if(op&&(u||j&&w)){const D={};["status","statusText","headers"].forEach(Z=>{D[Z]=C[Z]});const O=se.toFiniteNumber(C.headers.get("content-length")),[$,B]=u&&nx(O,jd(ax(u),!0))||[];C=new Response(ix(C.body,ox,$,()=>{B&&B(),w&&w()}),D)}f=f||"text";let F=await zd[se.findKey(zd,f)||"text"](C,e);return!j&&w&&w(),await new Promise((D,O)=>{J8(D,O,{data:F,headers:Ur.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(E){throw w&&w(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,e,x),{cause:E.cause||E}):Ye.from(E,E&&E.code,e,x)}}),lp={http:aF,xhr:OF,fetch:qF};se.forEach(lp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lx=e=>`- ${e}`,UF=e=>se.isFunction(e)||e===null||e===!1,a7={getAdapter:e=>{e=se.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let l;if(n=r,!UF(r)&&(n=lp[(l=String(r)).toLowerCase()],n===void 0))throw new Ye(`Unknown adapter '${l}'`);if(n)break;a[l||"#"+i]=n}if(!n){const i=Object.entries(a).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?i.length>1?`since :
`+i.map(lx).join(`
`):" "+lx(i[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:lp};function hm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tl(null,e)}function ux(e){return hm(e),e.headers=Ur.from(e.headers),e.data=fm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),a7.getAdapter(e.adapter||oc.adapter)(e).then(function(n){return hm(e),n.data=fm.call(e,e.transformResponse,n),n.headers=Ur.from(n.headers),n},function(n){return W8(n)||(hm(e),n&&n.response&&(n.response.data=fm.call(e,e.transformResponse,n.response),n.response.headers=Ur.from(n.response.headers))),Promise.reject(n)})}const s7="1.10.0",uf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const cx={};uf.transitional=function(t,r,n){function a(i,l){return"[Axios v"+s7+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,u)=>{if(t===!1)throw new Ye(a(l," has been removed"+(r?" in "+r:"")),Ye.ERR_DEPRECATED);return r&&!cx[l]&&(cx[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,u):!0}};uf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function VF(e,t,r){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=t[i];if(l){const u=e[i],d=u===void 0||l(u,i,e);if(d!==!0)throw new Ye("option "+i+" must be "+d,Ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ye("Unknown option "+i,Ye.ERR_BAD_OPTION)}}const fd={assertOptions:VF,validators:uf},Qn=fd.validators;let Si=class{constructor(t){this.defaults=t||{},this.interceptors={request:new tx,response:new tx}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Di(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&fd.assertOptions(n,{silentJSONParsing:Qn.transitional(Qn.boolean),forcedJSONParsing:Qn.transitional(Qn.boolean),clarifyTimeoutError:Qn.transitional(Qn.boolean)},!1),a!=null&&(se.isFunction(a)?r.paramsSerializer={serialize:a}:fd.assertOptions(a,{encode:Qn.function,serialize:Qn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),fd.assertOptions(r,{baseUrl:Qn.spelling("baseURL"),withXsrfToken:Qn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&se.merge(i.common,i[r.method]);i&&se.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=Ur.concat(l,i);const u=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const f=[];this.interceptors.response.forEach(function(w){f.push(w.fulfilled,w.rejected)});let m,b=0,y;if(!d){const x=[ux.bind(this),void 0];for(x.unshift.apply(x,u),x.push.apply(x,f),y=x.length,m=Promise.resolve(r);b<y;)m=m.then(x[b++],x[b++]);return m}y=u.length;let v=r;for(b=0;b<y;){const x=u[b++],w=u[b++];try{v=x(v)}catch(k){w.call(this,k);break}}try{m=ux.call(this,v)}catch(x){return Promise.reject(x)}for(b=0,y=f.length;b<y;)m=m.then(f[b++],f[b++]);return m}getUri(t){t=Di(this.defaults,t);const r=e7(t.baseURL,t.url,t.allowAbsoluteUrls);return Y8(r,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){Si.prototype[t]=function(r,n){return this.request(Di(n||{},{method:t,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(t){function r(n){return function(i,l,u){return this.request(Di(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Si.prototype[t]=r(),Si.prototype[t+"Form"]=r(!0)});let GF=class i7{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(u=>{n.subscribe(u),i=u}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,u){n.reason||(n.reason=new tl(i,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new i7(function(a){t=a}),cancel:t}}};function ZF(e){return function(r){return e.apply(null,r)}}function KF(e){return se.isObject(e)&&e.isAxiosError===!0}const up={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(up).forEach(([e,t])=>{up[t]=e});function o7(e){const t=new Si(e),r=L8(Si.prototype.request,t);return se.extend(r,Si.prototype,t,{allOwnKeys:!0}),se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return o7(Di(e,a))},r}const Kt=o7(oc);Kt.Axios=Si;Kt.CanceledError=tl;Kt.CancelToken=GF;Kt.isCancel=W8;Kt.VERSION=s7;Kt.toFormData=of;Kt.AxiosError=Ye;Kt.Cancel=Kt.CanceledError;Kt.all=function(t){return Promise.all(t)};Kt.spread=ZF;Kt.isAxiosError=KF;Kt.mergeConfig=Di;Kt.AxiosHeaders=Ur;Kt.formToJSON=e=>Q8(se.isHTMLForm(e)?new FormData(e):e);Kt.getAdapter=a7.getAdapter;Kt.HttpStatusCode=up;Kt.default=Kt;const{Axios:PU,AxiosError:IU,CanceledError:$U,isCancel:HU,CancelToken:qU,VERSION:UU,all:VU,Cancel:GU,isAxiosError:ZU,spread:KU,toFormData:YU,AxiosHeaders:XU,HttpStatusCode:QU,formToJSON:WU,getAdapter:JU,mergeConfig:eV}=Kt,zn={setSecureToken:(e,t=24)=>{const r=new Date;r.setTime(r.getTime()+t*60*60*1e3);const n=`jwt_token=${e}; expires=${r.toUTCString()}; path=/`;document.cookie=n},getSecureToken:()=>{if(!document.cookie)return null;const e=document.cookie.split(";");for(const t of e){const r=t.trim();if(r.startsWith("jwt_token="))return r.substring(10)}return null},removeSecureToken:()=>{document.cookie="jwt_token=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},hasSecureToken:()=>zn.getSecureToken()!==null,debugCookies:()=>{console.log("All cookies:",document.cookie),console.log("Cookie count:",document.cookie.split(";").length)},testCookies:()=>{document.cookie="test_cookie=hello123; path=/";const e=document.cookie.split(";");console.log("All cookies:",e),document.cookie="test_cookie=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",console.log("After removing test cookie:",document.cookie)},debugSetJWTFromLocalStorage:()=>{const e=localStorage.getItem("jwt_token");e&&zn.setSecureToken(e)}};typeof window<"u"&&(window.debugSetJWTFromLocalStorage=zn.debugSetJWTFromLocalStorage);const YF="https://83.251.173.209.nip.io",bi=Kt.create({baseURL:YF,timeout:1e4,headers:{"Content-Type":"application/json"}});bi.interceptors.request.use(e=>{const t=zn.getSecureToken();return t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));bi.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(zn.removeSecureToken(),window.location.href="/login"),e.response?.status===403&&console.warn("Insufficient permissions for this action"),Promise.reject(e)));const XF={get:(e,t)=>bi.get(e,t).then(r=>r.data),post:(e,t,r)=>bi.post(e,t,r).then(n=>n.data),put:(e,t,r)=>bi.put(e,t,r).then(n=>n.data),patch:(e,t,r)=>bi.patch(e,t,r).then(n=>n.data),delete:(e,t)=>bi.delete(e,t).then(r=>r.data)};function QF(e){return zi({queryKey:["statisticsByIds",e.slice().sort((t,r)=>t-r).join(",")],enabled:e.length>0,staleTime:3e4,placeholderData:hk,queryFn:async()=>(await XF.post("/statistics/problems/by_ids",{problem_ids:e})).statistics})}sc.register(RO,FO,iR,uR,HO,rR,KO);const WF={id:"referenceLines",afterDraw(e,t,r){const n=r?.means;if(!n)return;const{ctx:a,scales:i}=e,l=i.x,u=i.y;if(!l||!u)return;a.save(),a.strokeStyle="var(--accent-primary)",a.fillStyle="var(--accent-primary)",a.lineWidth=1,a.font="10px sans-serif";const f=(l.getLabels?.()||[]).map(m=>Number(m));Object.entries(n).forEach(([m,b])=>{if(b==null)return;let y;if(l.type==="category"){const x=f[0],w=f[f.length-1],E=(Number(b)-x)/(w-x),C=Math.max(0,Math.min(1,E));y=l.left+C*(l.right-l.left)}else y=l.getPixelForValue(b);a.beginPath(),a.moveTo(y,u.top),a.lineTo(y,u.bottom),a.stroke();const v=a.measureText(m).width;a.fillText(m,y-v/2,u.top-4)}),a.restore()}};sc.register(WF);const JF=N.forwardRef(({ids:e},t)=>{const{data:r,isLoading:n,isError:a}=QF(e),i=N.useMemo(()=>{if(!r)return null;const f=r.level_chart.weighted_vec;if(!f.length)return null;const m=f.reduce((F,D)=>F+D,0)/f.length,b=f.reduce((F,D)=>F+(D-m)**2,0)/f.length,y=Math.sqrt(b||1),v=m-3*y,x=m+3*y,w=60,k=[],E=[],C=1/(y*Math.sqrt(2*Math.PI)),j=(x-v)/w;for(let F=0;F<=w;F++){const D=v+F*j,O=C*Math.exp(-.5*((D-m)/y)**2)*f.length*j;k.push(D),E.push(O)}return{labels:k,datasets:[{label:"Nivfrdelning",data:E,borderColor:"#10A37F",backgroundColor:"rgba(16, 163, 127, 0.2)",tension:.4,pointRadius:0}]}},[r]),l=N.useMemo(()=>({responsive:!0,plugins:{legend:{display:!1},...r?{referenceLines:{means:r.level_chart.mean_positions}}:{}},scales:{x:{display:!1},y:{display:!0,ticks:{precision:0}}}}),[r]),u=N.useMemo(()=>{if(!r)return null;const f=Object.keys(r.ability_totals).sort(),m=f.map(v=>r.ability_totals[v]?.E??0),b=f.map(v=>r.ability_totals[v]?.C??0),y=f.map(v=>r.ability_totals[v]?.A??0);return{labels:f,datasets:[{label:"E",data:m,backgroundColor:"#10A37F"},{label:"C",data:b,backgroundColor:"#0d8a6b"},{label:"A",data:y,backgroundColor:"#0b6b52"}]}},[r]),d={responsive:!0,plugins:{legend:{position:"bottom"}},scales:{x:{stacked:!0},y:{stacked:!0,ticks:{precision:0}}}};return N.useEffect(()=>{const f=()=>{t&&typeof t=="object"&&t.current&&(window.Chart?.instances||[]).forEach(x=>{x&&typeof x.resize=="function"&&x.resize()})};let m;const b=()=>{clearTimeout(m),m=setTimeout(f,100)};window.addEventListener("resize",b);const y=setTimeout(f,50);return()=>{window.removeEventListener("resize",b),clearTimeout(m),clearTimeout(y)}},[r,t]),n?p.jsx("div",{className:"flex items-center justify-center p-8",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:"var(--accent-primary)"}}),p.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Laddar statistik..."})]})}):a?p.jsx("div",{className:"flex items-center justify-center p-8",children:p.jsx("div",{className:"flex flex-col items-center gap-3 text-center",children:p.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Kunde inte ladda statistik"})})}):r?p.jsxs("div",{className:"space-y-6",ref:t,children:[(()=>{const f={E:0,C:0,A:0};Object.values(r.ability_totals).forEach(y=>{f.E+=y.E,f.C+=y.C,f.A+=y.A});const m=f.E+f.C+f.A,b={E:r.e_only??0,C:r.c_only??0,A:r.a_problems??0};return p.jsx("div",{className:"rounded-lg border",style:{borderColor:"var(--border-primary)"},children:p.jsx("div",{className:"p-4",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[p.jsx("th",{className:"text-left font-medium pb-2",style:{color:"var(--text-primary)"},children:" "}),p.jsx("th",{className:"text-center font-medium pb-2 px-2",style:{color:"var(--text-primary)"},children:"E"}),p.jsx("th",{className:"text-center font-medium pb-2 px-2",style:{color:"var(--text-primary)"},children:"C"}),p.jsx("th",{className:"text-center font-medium pb-2 px-2",style:{color:"var(--text-primary)"},children:"A"}),p.jsx("th",{className:"text-center font-medium pb-2 px-2",style:{color:"var(--accent-primary)"},children:"TOT"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{className:"text-left font-medium py-1",style:{color:"var(--text-primary)"},children:"Uppgifter"}),p.jsx("td",{className:"text-center py-1 px-2",style:{color:"var(--text-secondary)"},children:b.E}),p.jsx("td",{className:"text-center py-1 px-2",style:{color:"var(--text-secondary)"},children:b.C}),p.jsx("td",{className:"text-center py-1 px-2",style:{color:"var(--text-secondary)"},children:b.A}),p.jsx("td",{className:"text-center py-1 px-2 font-semibold",style:{color:"var(--accent-primary)"},children:b.E+b.C+b.A})]}),p.jsxs("tr",{children:[p.jsx("td",{className:"text-left font-medium py-1",style:{color:"var(--text-primary)"},children:"Pong"}),p.jsx("td",{className:"text-center py-1 px-2",style:{color:"var(--text-secondary)"},children:f.E}),p.jsx("td",{className:"text-center py-1 px-2",style:{color:"var(--text-secondary)"},children:f.C}),p.jsx("td",{className:"text-center py-1 px-2",style:{color:"var(--text-secondary)"},children:f.A}),p.jsx("td",{className:"text-center py-1 px-2 font-semibold",style:{color:"var(--accent-primary)"},children:m})]})]})]})})})})(),i&&p.jsx("div",{className:"rounded-lg border p-4",style:{borderColor:"var(--border-primary)"},children:p.jsx(gR,{data:i,options:l,height:200})}),u&&p.jsx("div",{className:"rounded-lg border p-4",style:{borderColor:"var(--border-primary)"},children:p.jsx(yR,{data:u,options:d,height:250})})]}):p.jsx("div",{className:"flex items-center justify-center p-8",children:p.jsx("div",{className:"flex flex-col items-center gap-3 text-center",children:p.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Ingen data tillgnglig"})})})});function eL(e){const t=[],r=[];let n=1;e.forEach(i=>{if("type"in i&&i.type==="separator"){t.push(`<h2 class="print-separator">${i.title}</h2>`);return}const l=i,u=l.points_e??0,d=l.points_c??0,f=l.points_a??0,m=u+d+f>0?`(${u}/${d}/${f})`:"",b=Os(l.prompt_tex,[],{baseImageUrl:`${ve.BASE}/media/bank/${l.bank_problem_definition_id}`});t.push(`
      <div class="problem-prompt" data-problem-number="${n}">
        <div class="prompt-wrapper">
          <div class="problem-number-container">
            <span class="problem-number">${n}.</span>
          </div>
          <div class="prompt-text-container">
            ${b.replace(/^<p>/,"").replace(/<\/p>$/,"")}
          </div>
          ${m?`<div class="controls-container"><div class="prompt-points-container">${m}</div></div>`:""}
        </div>
      </div>
    `),l.assessment_items?.length&&r.push({problemNumber:n,items:l.assessment_items}),n++});let a="";return r.length&&(a=`
      <div class="assessment-section">
        <h2 class="assessment-title">Bedmning</h2>
        <div class="assessment-details expanded">${r.map(({problemNumber:l,items:u})=>{const d=u.map(f=>{const m=`${f.max_points}\\ \\mathcal{${f.ability_code}}_{${f.level_code}}`,b=Os(f.description_text??"");return`<div class="assessment-item"><span class="assessment-prefix">${Os(`$${m}$`).replace(/^<p>/,"").replace(/<\/p>$/,"")}</span> : ${b}</div>`}).join("");return`
        <div class="problem-assessment-group">
          <div class="problem-assessment-header">Uppgift ${l}:</div>
          ${d}
        </div>`}).join("")}</div>
      </div>`),`
    <div class="preview-container">
      <div class="prompts-section">${t.join("")}</div>
      ${a}
    </div>`}async function tL(e){const t=localStorage.getItem("jwt_token"),r=/<img[^>]+src=["']([^"']+)["'][^>]*>/gi,n=new Set;let a;for(;(a=r.exec(e))!==null;){const u=a[1];u.startsWith("data:")||u.startsWith("blob:")||n.add(u)}const i={};return await Promise.all(Array.from(n).map(async u=>{try{const d=await fetch(u,t?{headers:{Authorization:`Bearer ${t}`}}:void 0);if(!d.ok)throw new Error(d.statusText);const f=await d.blob(),m=await new Promise(b=>{const y=new FileReader;y.onload=()=>b(y.result),y.readAsDataURL(f)});i[u]=m}catch(d){console.warn("convertImagesToBase64 failed for",u,d)}})),e.replace(/(src=["'])(https?:[^"']+)(["'])/gi,(u,d,f,m)=>i[f]?`${d}${i[f]}${m}`:`${d}${f}${m}`)}async function rL(e,t=""){try{const r=`
      <!DOCTYPE html>
      <html>
        <meta charset="UTF-8">
        <meta name="robots" content="noindex,nofollow">
        <head>
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">
          <style>
            ${t}
          </style>
        </head>
        <body>
          ${e}
          <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js" integrity="sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx" crossorigin="anonymous"><\/script>
          <script>
            // Rendera alla KaTeX-uttryck nr sidan laddas
            document.addEventListener('DOMContentLoaded', function() {
              // Konvertera HTML-entities tillbaka till vanliga tecken
              function decodeHtmlEntities(text) {
                const textarea = document.createElement('textarea');
                textarea.innerHTML = text;
                return textarea.value;
              }
              
              // Hitta alla element som innehller LaTeX
              const mathElements = document.querySelectorAll('*');
              mathElements.forEach(element => {
                if (element.textContent && (element.textContent.includes('$') || element.textContent.includes('\\\\'))) {
                  // Rendera inline math - matcha endast proper $...$ delimiters
                  element.innerHTML = element.innerHTML.replace(/(?<!\\$)\\$(?!\\$)([^$\\n]+?)(?<!\\$)\\$(?!\\$)/g, function(match, tex) {
                    try {
                      const decodedTex = decodeHtmlEntities(tex);
                      return katex.renderToString(decodedTex, { displayMode: false, throwOnError: false });
                    } catch (e) {
                      return match; // Fallback till original om rendering misslyckas
                    }
                  });
                  
                  // Rendera display math - matcha endast proper $$...$$ delimiters
                  element.innerHTML = element.innerHTML.replace(/\\$\\$([\\s\\S]+?)\\$\\$/g, function(match, tex) {
                    try {
                      const decodedTex = decodeHtmlEntities(tex);
                      return katex.renderToString(decodedTex, { displayMode: true, throwOnError: false });
                    } catch (e) {
                      return match; // Fallback till original om rendering misslyckas
                    }
                  });
                  
                  // Rendera display math - matcha endast proper [...] delimiters
                  element.innerHTML = element.innerHTML.replace(/\\\\\\[([\\s\\S]+?)\\\\\\]/g, function(match, tex) {
                    try {
                      const decodedTex = decodeHtmlEntities(tex);
                      return katex.renderToString(decodedTex, { displayMode: true, throwOnError: false });
                    } catch (e) {
                      return match; // Fallback till original om rendering misslyckas
                    }
                  });
                }
              });
            });
          <\/script>
        </body>
      </html>
    `,n=new Blob([r],{type:"text/html"}),a=URL.createObjectURL(n),i=window.open(a,"_blank");return setTimeout(()=>{i&&(i.focus(),i.print())},1e3),n}catch(r){throw console.error("HTML generation error:",r),console.error("Error details:",r instanceof Error?r.message:String(r)),r}}const nL=({problems:e,onClose:t,onRemoveFromMemory:r,memory:n,onClearMemory:a,onExport:i})=>{const[l,u]=N.useState(!1),[d,f]=N.useState(!1),[m,b]=N.useState(!1),y=N.useMemo(()=>{if(!e||e.length===0)return[];const w=F=>{const D=F.points_e??0,O=F.points_c??0;return(F.points_a??0)>0?"A":O>0?"C":(D>0,"E")},k=(F,D)=>{const O={E:0,C:1,A:2},$=w(F),B=w(D);return O[$]-O[B]},E=[],C=[];e.forEach(F=>{const D=Number(F.bank_problem_definition_id);n?.part1Ids.has(D)&&E.push(F),n?.part2Ids.has(D)&&C.push(F)}),E.sort(k),C.sort(k);const j=[];return E.length>0&&(j.push({type:"separator",title:"Del 1"}),j.push(...E)),C.length>0&&(j.push({type:"separator",title:"Del 2"}),j.push(...C)),j},[e,n]),v=N.useMemo(()=>e.map(w=>Number(w.bank_problem_definition_id)),[e]),x=async()=>{b(!0);try{const w=[],k=G=>{const L=G.points_e??0,H=G.points_c??0;return(G.points_a??0)>0?"A":H>0?"C":(L>0,"E")},E=(G,L)=>{const H={E:0,C:1,A:2},re=k(G),he=k(L);return H[re]-H[he]},C=[],j=[];e.forEach(G=>{const L=Number(G.bank_problem_definition_id);n?.part1Ids.has(L)&&C.push(G),n?.part2Ids.has(L)&&j.push(G)}),C.sort(E),j.sort(E),C.length>0&&(w.push({type:"separator",title:"Del 1"}),w.push(...C)),j.length>0&&(w.push({type:"separator",title:"Del 2"}),w.push(...j)),w.length===0&&w.push(...e);const F=eL(w),D=await tL(F),O=await fetch("/static/pdf-export.css").then(G=>G.text()),$=await rL(D,O),B=URL.createObjectURL($),Z=window.open(B,"_blank");setTimeout(()=>{Z&&(Z.focus(),Z.print())},1e3)}catch(w){console.error("Print failed",w),alert("Skriv ut misslyckades")}finally{b(!1)}};return N.useEffect(()=>{const w=k=>{k.key==="Escape"&&t()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[t]),N.useEffect(()=>{const w=k=>{k.data.type==="iframe-ready"&&(f(!0),setTimeout(()=>{u(!0)},50))};return window.addEventListener("message",w),()=>window.removeEventListener("message",w)},[]),!e||e.length===0?zu.createPortal(p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center transition-all duration-200",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:p.jsxs("div",{className:"h-[90vh] w-full max-w-3xl rounded-xl shadow-xl flex flex-col transition-all duration-200",style:{backgroundColor:"var(--bg-panel)"},children:[p.jsx("div",{className:"flex-shrink-0 p-4 border-b rounded-t-xl",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Um,{size:20,style:{color:"var(--accent-primary)"}}),p.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)",paddingTop:"8px"},children:"Frhandsvisning"})]}),p.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg transition-all duration-200 hover:bg-accent-primary/10",style:{color:"var(--text-secondary)"},onClick:t,"aria-label":"Stng",children:p.jsx(ca,{size:18})})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:"var(--accent-primary)"}}),p.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Inga problem att visa"})]})})})]})}),document.body):zu.createPortal(p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center transition-all duration-200",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:p.jsxs("div",{className:"h-[95vh] w-[95vw] max-w-7xl rounded-xl shadow-xl flex flex-col transition-all duration-200",style:{backgroundColor:"var(--bg-panel)"},children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[p.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Frhandsvisning av problem i minnet"}),p.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-accent-primary/10 transition-colors",title:"Stng",children:p.jsx(ca,{size:20,style:{color:"var(--text-secondary)"}})})]}),p.jsxs("div",{className:"flex-1 overflow-hidden",children:[!l&&p.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 flex items-center justify-center z-10",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:"var(--accent-primary)"}}),p.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Vntar p rendering..."})]})}),e.length===0?p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[p.jsx(Um,{size:24,style:{color:"var(--text-muted)"}}),p.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Inga problem att visa"}),p.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:"Lgg till problem i minnet frst"})]})}):p.jsxs("div",{className:"h-full grid grid-cols-4 gap-4 p-4",children:[p.jsxs("div",{className:"col-span-3 flex flex-col h-full",children:[p.jsx("div",{className:"flex items-center justify-between p-4 border-b mb-4",style:{borderColor:"var(--border-primary)"},children:p.jsxs("div",{className:"flex items-center gap-2",children:[a&&p.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-accent-primary/10 transition-colors",title:"Rensa minne",children:p.jsx(Ln,{size:20,style:{color:"var(--text-secondary)"}})}),i&&p.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-accent-primary/10 transition-colors",title:"Exportera ZIP",children:p.jsx(pA,{size:20,style:{color:"var(--text-secondary)"}})}),p.jsx("button",{onClick:()=>alert("Frsttsblad kommer snart!"),className:"p-2 rounded-lg hover:bg-accent-primary/10 transition-colors",title:"Frsttsblad",children:p.jsx(qE,{size:20,style:{color:"var(--text-secondary)"}})}),p.jsx("button",{onClick:x,disabled:m,className:"p-2 rounded-lg hover:bg-accent-primary/10 transition-colors disabled:opacity-50",title:m?"Exporterar...":"Skriv ut till PDF",children:p.jsx(sC,{size:20,style:{color:"var(--text-secondary)"}})})]})}),p.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!d&&p.jsx("iframe",{srcDoc:`
                        <!DOCTYPE html>
                        <html>
                        <head>
                          <meta charset="utf-8">
                          <script src="./static/iframe-init.js"><\/script>
                          <style>
                            @font-face {
                              font-family: 'Latin Modern Roman';
                              src: url('./fonts/latin-modern/lmroman10-regular.otf') format('opentype');
                              font-weight: 400;
                              font-style: normal;
                            }
                            @font-face {
                              font-family: 'Latin Modern Roman';
                              src: url('./fonts/latin-modern/lmroman10-italic.otf') format('opentype');
                              font-weight: 400;
                              font-style: italic;
                            }
                            @font-face {
                              font-family: 'Latin Modern Roman';
                              src: url('./fonts/latin-modern/lmroman12-bold.otf') format('opentype');
                              font-weight: 700;
                              font-style: normal;
                            }
                            body {
                              font-family: 'Latin Modern Roman', 'CMU Serif', serif !important;
                            }
                          </style>
                        </head>
                        <body>
                          <div id="content"></div>
                        </body>
                        </html>
                      `,style:{width:"1px",height:"1px",position:"absolute",left:"-9999px"},onLoad:()=>{}}),l?p.jsx(Wd,{problems:y,mode:"list",showRemoveButtons:!0,onRemoveFromMemory:r,hiddenProblemIds:new Set},n?.lastModified?.getTime()??0):p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:"var(--accent-primary)"}}),p.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Vntar p rendering..."})]})})]})]}),p.jsx("div",{className:"col-span-1 h-full overflow-y-auto",children:p.jsx("div",{className:"p-4",children:p.jsx(JF,{ids:v})})})]})]})]})}),document.body)},aL=({memory:e,onClearMemory:t,onRemoveFromMemory:r})=>{const[n,a]=N.useState(!1),i=e||{part1Ids:new Set,part2Ids:new Set},l=Array.from([...i.part1Ids,...i.part2Ids]),{data:u=[]}=Zd(l),d=()=>u,f=()=>{u.length>0&&a(!0)},m=async()=>{const b=Array.from(i.part1Ids),y=Array.from(i.part2Ids);if(b.length+y.length!==0)try{const v="https://83.251.173.209.nip.io",x=localStorage.getItem("jwt_token"),w=await fetch(`${v}/v1/export_markdown/test?format=zip`,{method:"POST",headers:{"Content-Type":"application/json",...x?{Authorization:`Bearer ${x}`}:{}},body:JSON.stringify({del1_problem_ids:b,del2_problem_ids:y,title:"Export"})});if(!w.ok)throw new Error(`HTTP ${w.status}`);const k=await w.blob(),E=window.URL.createObjectURL(k),C=document.createElement("a");C.href=E,C.download=`export_${Date.now()}.zip`,document.body.appendChild(C),C.click(),C.remove(),window.URL.revokeObjectURL(E),alert("Export nedladdad!")}catch(v){console.error(v),alert("Export misslyckades")}};return p.jsxs("div",{className:"w-full",children:[p.jsx("div",{className:"flex justify-between items-center gap-3 flex-wrap",children:p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("button",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 ${u.length>0?"ring-2 ring-accent-primary/20 hover:ring-accent-primary/40":""}`,disabled:u.length===0,onClick:f,title:u.length>0?"Visa frhandsvisning":"Inga problem att visa",children:[p.jsx(Um,{size:20,style:{color:u.length>0?"var(--accent-primary)":"var(--text-secondary)"}}),p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx("span",{style:{color:i.part1Ids.size>0?"var(--accent-primary)":"var(--text-muted)"},children:i.part1Ids.size}),p.jsx("span",{style:{color:"var(--text-secondary)",padding:"0 4px"},children:" | "}),p.jsx("span",{style:{color:i.part2Ids.size>0?"var(--accent-primary)":"var(--text-muted)"},children:i.part2Ids.size})]})]})})}),n&&p.jsx(nL,{problems:d(),onClose:()=>a(!1),onRemoveFromMemory:r||(()=>{}),memory:e,onClearMemory:t,onExport:m})]})},sL=1,l7="jd_problem_drafts_v1";let pi=null;const cp=new Set;function du(){if(pi)return pi;try{const e=localStorage.getItem(l7);return e?(pi=JSON.parse(e).filter(r=>r.schema_version===sL),pi):pi=[]}catch{return pi=[]}}function V0(e){pi=e;try{localStorage.setItem(l7,JSON.stringify(e))}catch(t){console.warn("draftStorage write error",t)}cp.forEach(t=>t(e))}const u7=()=>{const[e,t]=N.useState(du());return N.useEffect(()=>(d=>(cp.add(d),d(du()),()=>{cp.delete(d)}))(t),[]),{drafts:e,save:l=>{const u=du();V0([...u,l])},update:(l,u)=>{const d=du(),f=d.findIndex(b=>b.id===l);if(f===-1)return;const m={...d[f],updated_at:new Date().toISOString(),data:{...d[f].data,...u}};d[f]=m,V0([...d])},remove:l=>{const u=du().filter(d=>d.id!==l);V0(u)},clear:()=>{V0([])}}},iL=({onOpenDraft:e,onNewDraft:t})=>{const{drafts:r,remove:n}=u7(),[a,i]=N.useState(!1),l=N.useRef(null),u=()=>i(f=>!f);N.useEffect(()=>{const f=m=>{a&&l.current&&!l.current.contains(m.target)&&i(!1)};return a&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[a]);const d=f=>{const m=r.find(v=>v.id===f);if(!m)return f;const{title:b,prompt_tex:y}=m.data;return b&&b.trim()?b:y.replace(/\s+/g," ").slice(0,40)+(y.length>40?"":"")};return p.jsxs("div",{className:"text-sm relative",ref:l,children:[!a&&p.jsxs("button",{className:"relative flex items-center justify-center w-10 h-8 rounded-lg transition-all duration-200 ease-in-out hover:scale-105 active:scale-95",style:{fontFamily:"Roboto, sans-serif",fontSize:"12px",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"},onClick:u,title:"Utkast",children:[p.jsx(U1,{size:14,className:"transition-colors duration-200"}),r.length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 text-xs leading-none rounded-full px-1.5 py-0.5 font-medium transition-all duration-200",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.1)"},children:r.length})]}),a&&p.jsxs("div",{className:"absolute top-0 left-0 z-50 border rounded-xl w-72 max-h-80 overflow-hidden transition-all duration-300 ease-out",style:{backgroundColor:"var(--bg-panel)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[p.jsxs("div",{className:"flex justify-between items-center p-3 border-b",style:{borderColor:"var(--border-secondary)"},children:[p.jsxs("span",{className:"font-medium flex items-center gap-2 text-sm",style:{color:"var(--text-primary)"},children:[p.jsx(U1,{size:16,style:{color:"var(--accent-primary)"}}),"Utkast (",r.length,")",p.jsx("button",{onClick:()=>{t&&t(),u()},title:"Nytt utkast",className:"p-1.5 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95",style:{color:"var(--accent-primary)"},children:p.jsx(Ka,{size:14})})]}),p.jsx("button",{onClick:u,className:"p-1.5 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95",style:{color:"var(--text-secondary)"},children:p.jsx(ca,{size:14})})]}),p.jsxs("div",{className:"p-2 max-h-64 overflow-y-auto",children:[r.length===0&&p.jsxs("div",{className:"text-center py-8 text-sm",style:{color:"var(--text-muted)"},children:[p.jsx(U1,{size:24,className:"mx-auto mb-2 opacity-50"}),"Inga utkast"]}),r.map((f,m)=>p.jsxs("div",{className:"flex justify-between items-center gap-2 group p-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/5",style:{opacity:0,transform:"translateY(10px)",animation:`fadeInUp 0.3s ease-out ${m*50}ms forwards`},children:[p.jsx("button",{className:"flex-1 text-left truncate hover:underline transition-colors duration-200 text-sm",style:{color:"var(--text-primary)"},onClick:()=>e&&e(f.id),title:"ppna utkast",children:d(f.id)}),p.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-lg transition-all duration-200 hover:bg-red-500/10 hover:scale-105 active:scale-95",style:{color:"var(--text-secondary)"},onClick:()=>n(f.id),title:"Ta bort",children:p.jsx(Ln,{size:12})})]},f.id))]})]})]})},oL=({hierarchyFilter:e,onFilterChange:t,onGreedyResult:r,greedyExclusions:n,memory:a,clearMemory:i,onRemoveFromMemory:l,onOpenDraft:u,onNewDraft:d,showTest:f=!0})=>p.jsx("div",{className:"p-1 mb-0",children:p.jsxs("div",{className:"flex gap-4 items-stretch",children:[p.jsx("div",{className:"w-10",children:p.jsx(iL,{onOpenDraft:u,onNewDraft:d})}),f&&p.jsx("div",{className:"w-20",children:p.jsx(aL,{memory:a,onClearMemory:i,onRemoveFromMemory:l})}),p.jsx("div",{className:"flex-1",children:p.jsx(YD,{hierarchyFilter:e,onFilterChange:t,onGreedyResult:r,greedyExclusions:n,memory:a})})]})}),lL=({onHierarchyFilterChange:e})=>{const[t,r]=N.useState({}),n=N.useCallback(a=>{if(!a){const u={};r(u),e(u);return}const i=a.id,l={area_ids:a.type==="area"?[i]:void 0,chapter_ids:a.type==="chapter"?[i]:void 0,course_ids:a.type==="course"?[i]:void 0,subject_ids:a.type==="subject"?[i]:void 0};r(l),e(l)},[e]);return{hierarchyFilter:t,handleHierarchySelect:n}},uL=(e={})=>{const{initialPage:t=0,pageSize:r=10,onPageChange:n}=e,[a,i]=N.useState(t),[l,u]=N.useState(0),d=N.useMemo(()=>Math.ceil(l/r),[l,r]),f=N.useCallback(x=>{const w=Math.max(0,Math.min(x,d-1));i(w),n?.(w)},[d,n]),m=N.useCallback(()=>{a<d-1&&f(a+1)},[a,d,f]),b=N.useCallback(()=>{a>0&&f(a-1)},[a,f]),y=a<d-1,v=a>0;return{page:a,totalCount:l,totalPages:d,pageSize:r,setPage:f,setTotalCount:u,nextPage:m,prevPage:b,canGoNext:y,canGoPrev:v}},cL=({currentPage:e,totalPages:t,onPageChange:r})=>t<=1?null:p.jsx("div",{className:"bg-panel p-0 sticky bottom-0",children:p.jsxs("div",{className:"flex items-center justify-center gap-4 p-2",children:[p.jsx("button",{className:"px-3 py-2 rounded-lg disabled:opacity-50 hover:bg-secondary transition-all duration-200 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},onClick:()=>r(Math.max(0,e-1)),disabled:e===0,"aria-label":"Fregende sida",children:p.jsx(QE,{size:16})}),p.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Sida ",e+1," av ",t]}),p.jsx("button",{className:"px-3 py-2 rounded-lg disabled:opacity-50 hover:bg-secondary transition-all duration-200 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},onClick:()=>r(Math.min(t-1,e+1)),disabled:e>=t-1,"aria-label":"Nsta sida",children:p.jsx(Ju,{size:16})})]})});var lc=e=>e.type==="checkbox",_i=e=>e instanceof Date,Dr=e=>e==null;const c7=e=>typeof e=="object";var Zt=e=>!Dr(e)&&!Array.isArray(e)&&c7(e)&&!_i(e),dL=e=>Zt(e)&&e.target?lc(e.target)?e.target.checked:e.target.value:e,fL=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hL=(e,t)=>e.has(fL(t)),mL=e=>{const t=e.constructor&&e.constructor.prototype;return Zt(t)&&t.hasOwnProperty("isPrototypeOf")},x2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(x2&&(e instanceof Blob||n))&&(r||Zt(e)))if(t=r?[]:{},!r&&!mL(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=fr(e[a]));else return e;return t}var cf=e=>/^\w*$/.test(e),Wt=e=>e===void 0,v2=e=>Array.isArray(e)?e.filter(Boolean):[],_2=e=>v2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(e,t,r)=>{if(!t||!Zt(e))return r;const n=(cf(t)?[t]:_2(t)).reduce((a,i)=>Dr(a)?a:a[i],e);return Wt(n)||n===e?Wt(e[t])?r:e[t]:n},ea=e=>typeof e=="boolean",xt=(e,t,r)=>{let n=-1;const a=cf(t)?[t]:_2(t),i=a.length,l=i-1;for(;++n<i;){const u=a[n];let d=r;if(n!==l){const f=e[u];d=Zt(f)||Array.isArray(f)?f:isNaN(+a[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const dx={BLUR:"blur",FOCUS_OUT:"focusout"},On={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},w2=Pt.createContext(null);w2.displayName="HookFormContext";const d7=()=>Pt.useContext(w2),pL=e=>{const{children:t,...r}=e;return Pt.createElement(w2.Provider,{value:r},t)};var bL=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const l=i;return t._proxyFormState[l]!==On.all&&(t._proxyFormState[l]=!n||On.all),e[l]}});return a};const gL=typeof window<"u"?N.useLayoutEffect:N.useEffect;var aa=e=>typeof e=="string",yL=(e,t,r,n,a)=>aa(e)?(n&&t.watch.add(e),Le(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Le(r,i))):(n&&(t.watchAll=!0),r),k2=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Eu=e=>Array.isArray(e)?e:[e],fx=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},dp=e=>Dr(e)||!c7(e);function Cs(e,t,r=new WeakSet){if(dp(e)||dp(t))return e===t;if(_i(e)&&_i(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const l=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const u=t[i];if(_i(l)&&_i(u)||Zt(l)&&Zt(u)||Array.isArray(l)&&Array.isArray(u)?!Cs(l,u,r):l!==u)return!1}}return!0}var Pr=e=>Zt(e)&&!Object.keys(e).length,S2=e=>e.type==="file",Rn=e=>typeof e=="function",Od=e=>{if(!x2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},f7=e=>e.type==="select-multiple",E2=e=>e.type==="radio",xL=e=>E2(e)||lc(e),mm=e=>Od(e)&&e.isConnected;function vL(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Wt(e)?n++:e[t[n++]];return e}function _L(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wt(e[t]))return!1;return!0}function Qt(e,t){const r=Array.isArray(t)?t:cf(t)?[t]:_2(t),n=r.length===1?e:vL(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Zt(n)&&Pr(n)||Array.isArray(n)&&_L(n))&&Qt(e,r.slice(0,-1)),e}var h7=e=>{for(const t in e)if(Rn(e[t]))return!0;return!1};function Rd(e,t={}){const r=Array.isArray(e);if(Zt(e)||r)for(const n in e)Array.isArray(e[n])||Zt(e[n])&&!h7(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Rd(e[n],t[n])):Dr(e[n])||(t[n]=!0);return t}function m7(e,t,r){const n=Array.isArray(e);if(Zt(e)||n)for(const a in e)Array.isArray(e[a])||Zt(e[a])&&!h7(e[a])?Wt(t)||dp(r[a])?r[a]=Array.isArray(e[a])?Rd(e[a],[]):{...Rd(e[a])}:m7(e[a],Dr(t)?{}:t[a],r[a]):r[a]=!Cs(e[a],t[a]);return r}var fu=(e,t)=>m7(e,t,Rd(t));const hx={value:!1,isValid:!1},mx={value:!0,isValid:!0};var p7=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wt(e[0].attributes.value)?Wt(e[0].value)||e[0].value===""?mx:{value:e[0].value,isValid:!0}:mx:hx}return hx},b7=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Wt(e)?e:t?e===""?NaN:e&&+e:r&&aa(e)?new Date(e):n?n(e):e;const px={isValid:!1,value:null};var g7=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,px):px;function bx(e){const t=e.ref;return S2(t)?t.files:E2(t)?g7(e.refs).value:f7(t)?[...t.selectedOptions].map(({value:r})=>r):lc(t)?p7(e.refs).value:b7(Wt(t.value)?e.ref.value:t.value,e)}var wL=(e,t,r,n)=>{const a={};for(const i of e){const l=Le(t,i);l&&xt(a,i,l._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Fd=e=>e instanceof RegExp,hu=e=>Wt(e)?e:Fd(e)?e.source:Zt(e)?Fd(e.value)?e.value.source:e.value:e,gx=e=>({isOnSubmit:!e||e===On.onSubmit,isOnBlur:e===On.onBlur,isOnChange:e===On.onChange,isOnAll:e===On.all,isOnTouch:e===On.onTouched});const yx="AsyncFunction";var kL=e=>!!e&&!!e.validate&&!!(Rn(e.validate)&&e.validate.constructor.name===yx||Zt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===yx)),SL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),xx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Au=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Le(e,a);if(i){const{_f:l,...u}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],a)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Au(u,t))break}else if(Zt(u)&&Au(u,t))break}}};function vx(e,t,r){const n=Le(e,r);if(n||cf(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),l=Le(t,i),u=Le(e,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(u&&u.type)return{name:i,error:u};if(u&&u.root&&u.root.type)return{name:`${i}.root`,error:u.root};a.pop()}return{name:r}}var EL=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Pr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!n||On.all))},AL=(e,t,r)=>!e||!t||e===t||Eu(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),CL=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,TL=(e,t)=>!v2(Le(e,t)).length&&Qt(e,t),NL=(e,t,r)=>{const n=Eu(Le(e,r));return xt(n,"root",t[r]),xt(e,r,n),e},hd=e=>aa(e);function _x(e,t,r="validate"){if(hd(e)||Array.isArray(e)&&e.every(hd)||ea(e)&&!e)return{type:r,message:hd(e)?e:"",ref:t}}var No=e=>Zt(e)&&!Fd(e)?e:{value:e,message:""},wx=async(e,t,r,n,a,i)=>{const{ref:l,refs:u,required:d,maxLength:f,minLength:m,min:b,max:y,pattern:v,validate:x,name:w,valueAsNumber:k,mount:E}=e._f,C=Le(r,w);if(!E||t.has(w))return{};const j=u?u[0]:l,F=H=>{a&&j.reportValidity&&(j.setCustomValidity(ea(H)?"":H||""),j.reportValidity())},D={},O=E2(l),$=lc(l),B=O||$,Z=(k||S2(l))&&Wt(l.value)&&Wt(C)||Od(l)&&l.value===""||C===""||Array.isArray(C)&&!C.length,G=k2.bind(null,w,n,D),L=(H,re,he,ce=Oa.maxLength,Y=Oa.minLength)=>{const ie=H?re:he;D[w]={type:H?ce:Y,message:ie,ref:l,...G(H?ce:Y,ie)}};if(i?!Array.isArray(C)||!C.length:d&&(!B&&(Z||Dr(C))||ea(C)&&!C||$&&!p7(u).isValid||O&&!g7(u).isValid)){const{value:H,message:re}=hd(d)?{value:!!d,message:d}:No(d);if(H&&(D[w]={type:Oa.required,message:re,ref:j,...G(Oa.required,re)},!n))return F(re),D}if(!Z&&(!Dr(b)||!Dr(y))){let H,re;const he=No(y),ce=No(b);if(!Dr(C)&&!isNaN(C)){const Y=l.valueAsNumber||C&&+C;Dr(he.value)||(H=Y>he.value),Dr(ce.value)||(re=Y<ce.value)}else{const Y=l.valueAsDate||new Date(C),ie=I=>new Date(new Date().toDateString()+" "+I),Ee=l.type=="time",Be=l.type=="week";aa(he.value)&&C&&(H=Ee?ie(C)>ie(he.value):Be?C>he.value:Y>new Date(he.value)),aa(ce.value)&&C&&(re=Ee?ie(C)<ie(ce.value):Be?C<ce.value:Y<new Date(ce.value))}if((H||re)&&(L(!!H,he.message,ce.message,Oa.max,Oa.min),!n))return F(D[w].message),D}if((f||m)&&!Z&&(aa(C)||i&&Array.isArray(C))){const H=No(f),re=No(m),he=!Dr(H.value)&&C.length>+H.value,ce=!Dr(re.value)&&C.length<+re.value;if((he||ce)&&(L(he,H.message,re.message),!n))return F(D[w].message),D}if(v&&!Z&&aa(C)){const{value:H,message:re}=No(v);if(Fd(H)&&!C.match(H)&&(D[w]={type:Oa.pattern,message:re,ref:l,...G(Oa.pattern,re)},!n))return F(re),D}if(x){if(Rn(x)){const H=await x(C,r),re=_x(H,j);if(re&&(D[w]={...re,...G(Oa.validate,re.message)},!n))return F(re.message),D}else if(Zt(x)){let H={};for(const re in x){if(!Pr(H)&&!n)break;const he=_x(await x[re](C,r),j,re);he&&(H={...he,...G(re,he.message)},F(he.message),n&&(D[w]=H))}if(!Pr(H)&&(D[w]={ref:j,...H},!n))return D}}return F(!0),D};const DL={mode:On.onSubmit,reValidateMode:On.onChange,shouldFocusError:!0};function ML(e={}){let t={...DL,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Zt(t.defaultValues)||Zt(t.values)?fr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:fr(a),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...m};const y={array:fx(),state:fx()},v=t.criteriaMode===On.all,x=P=>W=>{clearTimeout(f),f=setTimeout(P,W)},w=async P=>{if(!t.disabled&&(m.isValid||b.isValid||P)){const W=t.resolver?Pr((await $()).errors):await Z(n,!0);W!==r.isValid&&y.state.next({isValid:W})}},k=(P,W)=>{!t.disabled&&(m.isValidating||m.validatingFields||b.isValidating||b.validatingFields)&&((P||Array.from(u.mount)).forEach(oe=>{oe&&(W?xt(r.validatingFields,oe,W):Qt(r.validatingFields,oe))}),y.state.next({validatingFields:r.validatingFields,isValidating:!Pr(r.validatingFields)}))},E=(P,W=[],oe,Ce,Se=!0,we=!0)=>{if(Ce&&oe&&!t.disabled){if(l.action=!0,we&&Array.isArray(Le(n,P))){const Ne=oe(Le(n,P),Ce.argA,Ce.argB);Se&&xt(n,P,Ne)}if(we&&Array.isArray(Le(r.errors,P))){const Ne=oe(Le(r.errors,P),Ce.argA,Ce.argB);Se&&xt(r.errors,P,Ne),TL(r.errors,P)}if((m.touchedFields||b.touchedFields)&&we&&Array.isArray(Le(r.touchedFields,P))){const Ne=oe(Le(r.touchedFields,P),Ce.argA,Ce.argB);Se&&xt(r.touchedFields,P,Ne)}(m.dirtyFields||b.dirtyFields)&&(r.dirtyFields=fu(a,i)),y.state.next({name:P,isDirty:L(P,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(i,P,W)},C=(P,W)=>{xt(r.errors,P,W),y.state.next({errors:r.errors})},j=P=>{r.errors=P,y.state.next({errors:r.errors,isValid:!1})},F=(P,W,oe,Ce)=>{const Se=Le(n,P);if(Se){const we=Le(i,P,Wt(oe)?Le(a,P):oe);Wt(we)||Ce&&Ce.defaultChecked||W?xt(i,P,W?we:bx(Se._f)):he(P,we),l.mount&&w()}},D=(P,W,oe,Ce,Se)=>{let we=!1,Ne=!1;const Ke={name:P};if(!t.disabled){if(!oe||Ce){(m.isDirty||b.isDirty)&&(Ne=r.isDirty,r.isDirty=Ke.isDirty=L(),we=Ne!==Ke.isDirty);const at=Cs(Le(a,P),W);Ne=!!Le(r.dirtyFields,P),at?Qt(r.dirtyFields,P):xt(r.dirtyFields,P,!0),Ke.dirtyFields=r.dirtyFields,we=we||(m.dirtyFields||b.dirtyFields)&&Ne!==!at}if(oe){const at=Le(r.touchedFields,P);at||(xt(r.touchedFields,P,oe),Ke.touchedFields=r.touchedFields,we=we||(m.touchedFields||b.touchedFields)&&at!==oe)}we&&Se&&y.state.next(Ke)}return we?Ke:{}},O=(P,W,oe,Ce)=>{const Se=Le(r.errors,P),we=(m.isValid||b.isValid)&&ea(W)&&r.isValid!==W;if(t.delayError&&oe?(d=x(()=>C(P,oe)),d(t.delayError)):(clearTimeout(f),d=null,oe?xt(r.errors,P,oe):Qt(r.errors,P)),(oe?!Cs(Se,oe):Se)||!Pr(Ce)||we){const Ne={...Ce,...we&&ea(W)?{isValid:W}:{},errors:r.errors,name:P};r={...r,...Ne},y.state.next(Ne)}},$=async P=>{k(P,!0);const W=await t.resolver(i,t.context,wL(P||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return k(P),W},B=async P=>{const{errors:W}=await $(P);if(P)for(const oe of P){const Ce=Le(W,oe);Ce?xt(r.errors,oe,Ce):Qt(r.errors,oe)}else r.errors=W;return W},Z=async(P,W,oe={valid:!0})=>{for(const Ce in P){const Se=P[Ce];if(Se){const{_f:we,...Ne}=Se;if(we){const Ke=u.array.has(we.name),at=Se._f&&kL(Se._f);at&&m.validatingFields&&k([Ce],!0);const _t=await wx(Se,u.disabled,i,v,t.shouldUseNativeValidation&&!W,Ke);if(at&&m.validatingFields&&k([Ce]),_t[we.name]&&(oe.valid=!1,W))break;!W&&(Le(_t,we.name)?Ke?NL(r.errors,_t,we.name):xt(r.errors,we.name,_t[we.name]):Qt(r.errors,we.name))}!Pr(Ne)&&await Z(Ne,W,oe)}}return oe.valid},G=()=>{for(const P of u.unMount){const W=Le(n,P);W&&(W._f.refs?W._f.refs.every(oe=>!mm(oe)):!mm(W._f.ref))&&mt(P)}u.unMount=new Set},L=(P,W)=>!t.disabled&&(P&&W&&xt(i,P,W),!Cs(I(),a)),H=(P,W,oe)=>yL(P,u,{...l.mount?i:Wt(W)?a:aa(P)?{[P]:W}:W},oe,W),re=P=>v2(Le(l.mount?i:a,P,t.shouldUnregister?Le(a,P,[]):[])),he=(P,W,oe={})=>{const Ce=Le(n,P);let Se=W;if(Ce){const we=Ce._f;we&&(!we.disabled&&xt(i,P,b7(W,we)),Se=Od(we.ref)&&Dr(W)?"":W,f7(we.ref)?[...we.ref.options].forEach(Ne=>Ne.selected=Se.includes(Ne.value)):we.refs?lc(we.ref)?we.refs.forEach(Ne=>{(!Ne.defaultChecked||!Ne.disabled)&&(Array.isArray(Se)?Ne.checked=!!Se.find(Ke=>Ke===Ne.value):Ne.checked=Se===Ne.value||!!Se)}):we.refs.forEach(Ne=>Ne.checked=Ne.value===Se):S2(we.ref)?we.ref.value="":(we.ref.value=Se,we.ref.type||y.state.next({name:P,values:fr(i)})))}(oe.shouldDirty||oe.shouldTouch)&&D(P,Se,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&Be(P)},ce=(P,W,oe)=>{for(const Ce in W){if(!W.hasOwnProperty(Ce))return;const Se=W[Ce],we=P+"."+Ce,Ne=Le(n,we);(u.array.has(P)||Zt(Se)||Ne&&!Ne._f)&&!_i(Se)?ce(we,Se,oe):he(we,Se,oe)}},Y=(P,W,oe={})=>{const Ce=Le(n,P),Se=u.array.has(P),we=fr(W);xt(i,P,we),Se?(y.array.next({name:P,values:fr(i)}),(m.isDirty||m.dirtyFields||b.isDirty||b.dirtyFields)&&oe.shouldDirty&&y.state.next({name:P,dirtyFields:fu(a,i),isDirty:L(P,we)})):Ce&&!Ce._f&&!Dr(we)?ce(P,we,oe):he(P,we,oe),xx(P,u)&&y.state.next({...r}),y.state.next({name:l.mount?P:void 0,values:fr(i)})},ie=async P=>{l.mount=!0;const W=P.target;let oe=W.name,Ce=!0;const Se=Le(n,oe),we=at=>{Ce=Number.isNaN(at)||_i(at)&&isNaN(at.getTime())||Cs(at,Le(i,oe,at))},Ne=gx(t.mode),Ke=gx(t.reValidateMode);if(Se){let at,_t;const Ii=W.type?bx(Se._f):dL(P),Un=P.type===dx.BLUR||P.type===dx.FOCUS_OUT,wf=!SL(Se._f)&&!t.resolver&&!Le(r.errors,oe)&&!Se._f.deps||CL(Un,Le(r.touchedFields,oe),r.isSubmitted,Ke,Ne),Qa=xx(oe,u,Un);xt(i,oe,Ii),Un?(Se._f.onBlur&&Se._f.onBlur(P),d&&d(0)):Se._f.onChange&&Se._f.onChange(P);const Wa=D(oe,Ii,Un),ga=!Pr(Wa)||Qa;if(!Un&&y.state.next({name:oe,type:P.type,values:fr(i)}),wf)return(m.isValid||b.isValid)&&(t.mode==="onBlur"?Un&&w():Un||w()),ga&&y.state.next({name:oe,...Qa?{}:Wa});if(!Un&&Qa&&y.state.next({...r}),t.resolver){const{errors:Hs}=await $([oe]);if(we(Ii),Ce){const qs=vx(r.errors,n,oe),hc=vx(Hs,n,qs.name||oe);at=hc.error,oe=hc.name,_t=Pr(Hs)}}else k([oe],!0),at=(await wx(Se,u.disabled,i,v,t.shouldUseNativeValidation))[oe],k([oe]),we(Ii),Ce&&(at?_t=!1:(m.isValid||b.isValid)&&(_t=await Z(n,!0)));Ce&&(Se._f.deps&&Be(Se._f.deps),O(oe,_t,at,Wa))}},Ee=(P,W)=>{if(Le(r.errors,W)&&P.focus)return P.focus(),1},Be=async(P,W={})=>{let oe,Ce;const Se=Eu(P);if(t.resolver){const we=await B(Wt(P)?P:Se);oe=Pr(we),Ce=P?!Se.some(Ne=>Le(we,Ne)):oe}else P?(Ce=(await Promise.all(Se.map(async we=>{const Ne=Le(n,we);return await Z(Ne&&Ne._f?{[we]:Ne}:Ne)}))).every(Boolean),!(!Ce&&!r.isValid)&&w()):Ce=oe=await Z(n);return y.state.next({...!aa(P)||(m.isValid||b.isValid)&&oe!==r.isValid?{}:{name:P},...t.resolver||!P?{isValid:oe}:{},errors:r.errors}),W.shouldFocus&&!Ce&&Au(n,Ee,P?Se:u.mount),Ce},I=P=>{const W={...l.mount?i:a};return Wt(P)?W:aa(P)?Le(W,P):P.map(oe=>Le(W,oe))},le=(P,W)=>({invalid:!!Le((W||r).errors,P),isDirty:!!Le((W||r).dirtyFields,P),error:Le((W||r).errors,P),isValidating:!!Le(r.validatingFields,P),isTouched:!!Le((W||r).touchedFields,P)}),ue=P=>{P&&Eu(P).forEach(W=>Qt(r.errors,W)),y.state.next({errors:P?r.errors:{}})},ge=(P,W,oe)=>{const Ce=(Le(n,P,{_f:{}})._f||{}).ref,Se=Le(r.errors,P)||{},{ref:we,message:Ne,type:Ke,...at}=Se;xt(r.errors,P,{...at,...W,ref:Ce}),y.state.next({name:P,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},xe=(P,W)=>Rn(P)?y.state.subscribe({next:oe=>P(H(void 0,W),oe)}):H(P,W,!0),Oe=P=>y.state.subscribe({next:W=>{AL(P.name,W.name,P.exact)&&EL(W,P.formState||m,or,P.reRenderRoot)&&P.callback({values:{...i},...r,...W})}}).unsubscribe,ze=P=>(l.mount=!0,b={...b,...P.formState},Oe({...P,formState:b})),mt=(P,W={})=>{for(const oe of P?Eu(P):u.mount)u.mount.delete(oe),u.array.delete(oe),W.keepValue||(Qt(n,oe),Qt(i,oe)),!W.keepError&&Qt(r.errors,oe),!W.keepDirty&&Qt(r.dirtyFields,oe),!W.keepTouched&&Qt(r.touchedFields,oe),!W.keepIsValidating&&Qt(r.validatingFields,oe),!t.shouldUnregister&&!W.keepDefaultValue&&Qt(a,oe);y.state.next({values:fr(i)}),y.state.next({...r,...W.keepDirty?{isDirty:L()}:{}}),!W.keepIsValid&&w()},We=({disabled:P,name:W})=>{(ea(P)&&l.mount||P||u.disabled.has(W))&&(P?u.disabled.add(W):u.disabled.delete(W))},$t=(P,W={})=>{let oe=Le(n,P);const Ce=ea(W.disabled)||ea(t.disabled);return xt(n,P,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:P}},name:P,mount:!0,...W}}),u.mount.add(P),oe?We({disabled:ea(W.disabled)?W.disabled:t.disabled,name:P}):F(P,!0,W.value),{...Ce?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:hu(W.min),max:hu(W.max),minLength:hu(W.minLength),maxLength:hu(W.maxLength),pattern:hu(W.pattern)}:{},name:P,onChange:ie,onBlur:ie,ref:Se=>{if(Se){$t(P,W),oe=Le(n,P);const we=Wt(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,Ne=xL(we),Ke=oe._f.refs||[];if(Ne?Ke.find(at=>at===we):we===oe._f.ref)return;xt(n,P,{_f:{...oe._f,...Ne?{refs:[...Ke.filter(mm),we,...Array.isArray(Le(a,P))?[{}]:[]],ref:{type:we.type,name:P}}:{ref:we}}}),F(P,!1,void 0,we)}else oe=Le(n,P,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!(hL(u.array,P)&&l.action)&&u.unMount.add(P)}}},xr=()=>t.shouldFocusError&&Au(n,Ee,u.mount),dn=P=>{ea(P)&&(y.state.next({disabled:P}),Au(n,(W,oe)=>{const Ce=Le(n,oe);Ce&&(W.disabled=Ce._f.disabled||P,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(Se=>{Se.disabled=Ce._f.disabled||P}))},0,!1))},vr=(P,W)=>async oe=>{let Ce;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let Se=fr(i);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:Ne}=await $();r.errors=we,Se=fr(Ne)}else await Z(n);if(u.disabled.size)for(const we of u.disabled)Qt(Se,we);if(Qt(r.errors,"root"),Pr(r.errors)){y.state.next({errors:{}});try{await P(Se,oe)}catch(we){Ce=we}}else W&&await W({...r.errors},oe),xr(),setTimeout(xr);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pr(r.errors)&&!Ce,submitCount:r.submitCount+1,errors:r.errors}),Ce)throw Ce},tr=(P,W={})=>{Le(n,P)&&(Wt(W.defaultValue)?Y(P,fr(Le(a,P))):(Y(P,W.defaultValue),xt(a,P,fr(W.defaultValue))),W.keepTouched||Qt(r.touchedFields,P),W.keepDirty||(Qt(r.dirtyFields,P),r.isDirty=W.defaultValue?L(P,fr(Le(a,P))):L()),W.keepError||(Qt(r.errors,P),m.isValid&&w()),y.state.next({...r}))},Ar=(P,W={})=>{const oe=P?fr(P):a,Ce=fr(oe),Se=Pr(P),we=Se?a:Ce;if(W.keepDefaultValues||(a=oe),!W.keepValues){if(W.keepDirtyValues){const Ne=new Set([...u.mount,...Object.keys(fu(a,i))]);for(const Ke of Array.from(Ne))Le(r.dirtyFields,Ke)?xt(we,Ke,Le(i,Ke)):Y(Ke,Le(we,Ke))}else{if(x2&&Wt(P))for(const Ne of u.mount){const Ke=Le(n,Ne);if(Ke&&Ke._f){const at=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(Od(at)){const _t=at.closest("form");if(_t){_t.reset();break}}}}if(W.keepFieldsRef)for(const Ne of u.mount)Y(Ne,Le(we,Ne));else n={}}i=t.shouldUnregister?W.keepDefaultValues?fr(a):{}:fr(we),y.array.next({values:{...we}}),y.state.next({values:{...we}})}u={mount:W.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!W.keepIsValid||!!W.keepDirtyValues,l.watch=!!t.shouldUnregister,y.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:Se?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!Cs(P,a)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Se?{}:W.keepDirtyValues?W.keepDefaultValues&&i?fu(a,i):r.dirtyFields:W.keepDefaultValues&&P?fu(a,P):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},qn=(P,W)=>Ar(Rn(P)?P(i):P,W),Xa=(P,W={})=>{const oe=Le(n,P),Ce=oe&&oe._f;if(Ce){const Se=Ce.refs?Ce.refs[0]:Ce.ref;Se.focus&&(Se.focus(),W.shouldSelect&&Rn(Se.select)&&Se.select())}},or=P=>{r={...r,...P}},Re={control:{register:$t,unregister:mt,getFieldState:le,handleSubmit:vr,setError:ge,_subscribe:Oe,_runSchema:$,_focusError:xr,_getWatch:H,_getDirty:L,_setValid:w,_setFieldArray:E,_setDisabledField:We,_setErrors:j,_getFieldArray:re,_reset:Ar,_resetDefaultValues:()=>Rn(t.defaultValues)&&t.defaultValues().then(P=>{qn(P,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:dn,_subjects:y,_proxyFormState:m,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(P){l=P},get _defaultValues(){return a},get _names(){return u},set _names(P){u=P},get _formState(){return r},get _options(){return t},set _options(P){t={...t,...P}}},subscribe:ze,trigger:Be,register:$t,handleSubmit:vr,watch:xe,setValue:Y,getValues:I,reset:qn,resetField:tr,clearErrors:ue,unregister:mt,setError:ge,setFocus:Xa,getFieldState:le};return{...Re,formControl:Re}}function jL(e={}){const t=Pt.useRef(void 0),r=Pt.useRef(void 0),[n,a]=Pt.useState({isDirty:!1,isValidating:!1,isLoading:Rn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Rn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Rn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...u}=ML(e);t.current={...u,formState:n}}const i=t.current.control;return i._options=e,gL(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(u=>({...u,isReady:!0})),i._formState.isReady=!0,l},[i]),Pt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Pt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Pt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Pt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Pt.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),Pt.useEffect(()=>{e.values&&!Cs(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),Pt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=bL(n,i),t.current}const kx=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Le(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},fp=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?kx(n.ref,r,e):n&&n.refs&&n.refs.forEach(a=>kx(a,r,e))}},Sx=(e,t)=>{t.shouldUseNativeValidation&&fp(e,t);const r={};for(const n in e){const a=Le(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(zL(t.names||Object.keys(e),n)){const l=Object.assign({},Le(r,n));xt(l,"root",i),xt(r,n,l)}else xt(r,n,i)}return r},zL=(e,t)=>{const r=Ex(t);return e.some(n=>Ex(n).match(`^${r}\\.\\d+`))};function Ex(e){return e.replace(/\]|\[/g,"")}function be(e,t,r){function n(u,d){var f;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(f=u._zod).traits??(f.traits=new Set),u._zod.traits.add(e),t(u,d);for(const m in l.prototype)m in u||Object.defineProperty(u,m,{value:l.prototype[m].bind(u)});u._zod.constr=l,u._zod.def=d}const a=r?.Parent??Object;class i extends a{}Object.defineProperty(i,"name",{value:e});function l(u){var d;const f=r?.Parent?new i:this;n(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class Gu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const y7={};function Mi(e){return y7}function OL(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function RL(e,t){return typeof t=="bigint"?t.toString():t}function x7(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function A2(e){return e==null}function C2(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function FL(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(t.toFixed(a).replace(".",""));return i%l/10**a}function At(e,t,r){Object.defineProperty(e,t,{get(){{const n=r();return e[t]=n,n}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function T2(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function mu(e){return JSON.stringify(e)}const v7=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function hp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const LL=x7(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function mp(e){if(hp(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(hp(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const BL=new Set(["string","number","symbol"]);function df(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Bi(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function $e(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function PL(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const IL={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function $L(e,t){const r={},n=e._zod.def;for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(r[a]=n.shape[a])}return Bi(e,{...e._zod.def,shape:r,checks:[]})}function HL(e,t){const r={...e._zod.def.shape},n=e._zod.def;for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete r[a]}return Bi(e,{...e._zod.def,shape:r,checks:[]})}function qL(e,t){if(!mp(t))throw new Error("Invalid input to extend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return T2(this,"shape",n),n},checks:[]};return Bi(e,r)}function UL(e,t){return Bi(e,{...e._zod.def,get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return T2(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function VL(e,t,r){const n=t._zod.def.shape,a={...n};if(r)for(const i in r){if(!(i in n))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=e?new e({type:"optional",innerType:n[i]}):n[i])}else for(const i in n)a[i]=e?new e({type:"optional",innerType:n[i]}):n[i];return Bi(t,{...t._zod.def,shape:a,checks:[]})}function GL(e,t,r){const n=t._zod.def.shape,a={...n};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=new e({type:"nonoptional",innerType:n[i]}))}else for(const i in n)a[i]=new e({type:"nonoptional",innerType:n[i]});return Bi(t,{...t._zod.def,shape:a,checks:[]})}function Cu(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function N2(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function G0(e){return typeof e=="string"?e:e?.message}function ji(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=G0(e.inst?._zod.def?.error?.(e))??G0(t?.error?.(e))??G0(r.customError?.(e))??G0(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function D2(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Zu(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const _7=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,RL,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},M2=be("$ZodError",_7),ff=be("$ZodError",_7,{Parent:Error});function ZL(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function KL(e,t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>a({issues:u}));else if(l.code==="invalid_key")a({issues:l.issues});else if(l.code==="invalid_element")a({issues:l.issues});else if(l.path.length===0)n._errors.push(r(l));else{let u=n,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(r(l))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return a(e),n}const w7=e=>(t,r,n,a)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},i);if(l instanceof Promise)throw new Gu;if(l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>ji(d,i,Mi())));throw v7(u,a?.callee),u}return l.value},YL=w7(ff),k7=e=>async(t,r,n,a)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let l=t._zod.run({value:r,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>ji(d,i,Mi())));throw v7(u,a?.callee),u}return l.value},XL=k7(ff),S7=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new Gu;return i.issues.length?{success:!1,error:new(e??M2)(i.issues.map(l=>ji(l,a,Mi())))}:{success:!0,data:i.value}},QL=S7(ff),E7=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(l=>ji(l,a,Mi())))}:{success:!0,data:i.value}},WL=E7(ff),JL=/^[cC][^\s-]{8,}$/,eB=/^[0-9a-z]+$/,tB=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,rB=/^[0-9a-vA-V]{20}$/,nB=/^[A-Za-z0-9]{27}$/,aB=/^[a-zA-Z0-9_-]{21}$/,sB=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,iB=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ax=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,oB=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,lB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function uB(){return new RegExp(lB,"u")}const cB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,fB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,hB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mB=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,A7=/^[A-Za-z0-9_-]*$/,pB=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,bB=/^\+(?:[0-9]){6,14}[0-9]$/,C7="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gB=new RegExp(`^${C7}$`);function T7(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function yB(e){return new RegExp(`^${T7(e)}$`)}function xB(e){const t=T7({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-]\\d{2}:\\d{2})");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${C7}T(?:${n})$`)}const vB=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},_B=/^\d+$/,wB=/^-?\d+(?:\.\d+)?/i,kB=/true|false/i,SB=/^[^A-Z]*$/,EB=/^[^a-z]*$/,Gr=be("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),N7={number:"number",bigint:"bigint",object:"date"},D7=be("$ZodCheckLessThan",(e,t)=>{Gr.init(e,t);const r=N7[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),M7=be("$ZodCheckGreaterThan",(e,t)=>{Gr.init(e,t);const r=N7[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),AB=be("$ZodCheckMultipleOf",(e,t)=>{Gr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):FL(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),CB=be("$ZodCheckNumberFormat",(e,t)=>{Gr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,i]=IL[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=a,u.maximum=i,r&&(u.pattern=_B)}),e._zod.check=l=>{const u=l.value;if(r){if(!Number.isInteger(u)){l.issues.push({expected:n,format:t.format,code:"invalid_type",input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<a&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),u>i&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:e})}}),TB=be("$ZodCheckMaxLength",(e,t)=>{var r;Gr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!A2(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const l=D2(a);n.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),NB=be("$ZodCheckMinLength",(e,t)=>{var r;Gr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!A2(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const l=D2(a);n.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),DB=be("$ZodCheckLengthEquals",(e,t)=>{var r;Gr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!A2(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,i=a.length;if(i===t.length)return;const l=D2(a),u=i>t.length;n.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),hf=be("$ZodCheckStringFormat",(e,t)=>{var r,n;Gr.init(e,t),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),MB=be("$ZodCheckRegex",(e,t)=>{hf.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),jB=be("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=SB),hf.init(e,t)}),zB=be("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=EB),hf.init(e,t)}),OB=be("$ZodCheckIncludes",(e,t)=>{Gr.init(e,t);const r=df(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),RB=be("$ZodCheckStartsWith",(e,t)=>{Gr.init(e,t);const r=new RegExp(`^${df(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),FB=be("$ZodCheckEndsWith",(e,t)=>{Gr.init(e,t);const r=new RegExp(`.*${df(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),LB=be("$ZodCheckOverwrite",(e,t)=>{Gr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class BB{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),i=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,a.join(`
`))}}const PB={major:4,minor:0,patch:5},It=be("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=PB;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const i of a._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(i,l,u)=>{let d=Cu(i),f;for(const m of l){if(m._zod.def.when){if(!m._zod.def.when(i))continue}else if(d)continue;const b=i.issues.length,y=m._zod.check(i);if(y instanceof Promise&&u?.async===!1)throw new Gu;if(f||y instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await y,i.issues.length!==b&&(d||(d=Cu(i,b)))});else{if(i.issues.length===b)continue;d||(d=Cu(i,b))}}return f?f.then(()=>i):i};e._zod.run=(i,l)=>{const u=e._zod.parse(i,l);if(u instanceof Promise){if(l.async===!1)throw new Gu;return u.then(d=>a(d,n,l))}return a(u,n,l)}}e["~standard"]={validate:a=>{try{const i=QL(e,a);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return WL(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),j2=be("$ZodString",(e,t)=>{It.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??vB(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Nt=be("$ZodStringFormat",(e,t)=>{hf.init(e,t),j2.init(e,t)}),IB=be("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=iB),Nt.init(e,t)}),$B=be("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Ax(n))}else t.pattern??(t.pattern=Ax());Nt.init(e,t)}),HB=be("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=oB),Nt.init(e,t)}),qB=be("$ZodURL",(e,t)=>{Nt.init(e,t),e._zod.check=r=>{try{const n=r.value,a=new URL(n),i=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:pB.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),!n.endsWith("/")&&i.endsWith("/")?r.value=i.slice(0,-1):r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),UB=be("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=uB()),Nt.init(e,t)}),VB=be("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=aB),Nt.init(e,t)}),GB=be("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=JL),Nt.init(e,t)}),ZB=be("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=eB),Nt.init(e,t)}),KB=be("$ZodULID",(e,t)=>{t.pattern??(t.pattern=tB),Nt.init(e,t)}),YB=be("$ZodXID",(e,t)=>{t.pattern??(t.pattern=rB),Nt.init(e,t)}),XB=be("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=nB),Nt.init(e,t)}),QB=be("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=xB(t)),Nt.init(e,t)}),WB=be("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=gB),Nt.init(e,t)}),JB=be("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=yB(t)),Nt.init(e,t)}),eP=be("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=sB),Nt.init(e,t)}),tP=be("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=cB),Nt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),rP=be("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=dB),Nt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),nP=be("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=fB),Nt.init(e,t)}),aP=be("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=hB),Nt.init(e,t),e._zod.check=r=>{const[n,a]=r.value.split("/");try{if(!a)throw new Error;const i=Number(a);if(`${i}`!==a)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function j7(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const sP=be("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=mB),Nt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{j7(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function iP(e){if(!A7.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return j7(r)}const oP=be("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=A7),Nt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{iP(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),lP=be("$ZodE164",(e,t)=>{t.pattern??(t.pattern=bB),Nt.init(e,t)});function uP(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const cP=be("$ZodJWT",(e,t)=>{Nt.init(e,t),e._zod.check=r=>{uP(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),z7=be("$ZodNumber",(e,t)=>{It.init(e,t),e._zod.pattern=e._zod.bag.pattern??wB,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const i=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),r}}),dP=be("$ZodNumber",(e,t)=>{CB.init(e,t),z7.init(e,t)}),fP=be("$ZodBoolean",(e,t)=>{It.init(e,t),e._zod.pattern=kB,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),hP=be("$ZodUnknown",(e,t)=>{It.init(e,t),e._zod.parse=r=>r}),mP=be("$ZodNever",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Cx(e,t,r){e.issues.length&&t.issues.push(...N2(r,e.issues)),t.value[r]=e.value}const pP=be("$ZodArray",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const i=[];for(let l=0;l<a.length;l++){const u=a[l],d=t.element._zod.run({value:u,issues:[]},n);d instanceof Promise?i.push(d.then(f=>Cx(f,r,l))):Cx(d,r,l)}return i.length?Promise.all(i).then(()=>r):r}});function Z0(e,t,r){e.issues.length&&t.issues.push(...N2(r,e.issues)),t.value[r]=e.value}function Tx(e,t,r,n){e.issues.length?n[r]===void 0?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...N2(r,e.issues)):e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const bP=be("$ZodObject",(e,t)=>{It.init(e,t);const r=x7(()=>{const b=Object.keys(t.shape);for(const v of b)if(!(t.shape[v]instanceof It))throw new Error(`Invalid element at key "${v}": expected a Zod schema`);const y=PL(t.shape);return{shape:t.shape,keys:b,keySet:new Set(b),numKeys:b.length,optionalKeys:new Set(y)}});At(e._zod,"propValues",()=>{const b=t.shape,y={};for(const v in b){const x=b[v]._zod;if(x.values){y[v]??(y[v]=new Set);for(const w of x.values)y[v].add(w)}}return y});const n=b=>{const y=new BB(["shape","payload","ctx"]),v=r.value,x=C=>{const j=mu(C);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};y.write("const input = payload.value;");const w=Object.create(null);let k=0;for(const C of v.keys)w[C]=`key_${k++}`;y.write("const newResult = {}");for(const C of v.keys)if(v.optionalKeys.has(C)){const j=w[C];y.write(`const ${j} = ${x(C)};`);const F=mu(C);y.write(`
        if (${j}.issues.length) {
          if (input[${F}] === undefined) {
            if (${F} in input) {
              newResult[${F}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${j}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${F}, ...iss.path] : [${F}],
              }))
            );
          }
        } else if (${j}.value === undefined) {
          if (${F} in input) newResult[${F}] = undefined;
        } else {
          newResult[${F}] = ${j}.value;
        }
        `)}else{const j=w[C];y.write(`const ${j} = ${x(C)};`),y.write(`
          if (${j}.issues.length) payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${mu(C)}, ...iss.path] : [${mu(C)}]
          })));`),y.write(`newResult[${mu(C)}] = ${j}.value`)}y.write("payload.value = newResult;"),y.write("return payload;");const E=y.compile();return(C,j)=>E(b,C,j)};let a;const i=hp,l=!y7.jitless,d=l&&LL.value,f=t.catchall;let m;e._zod.parse=(b,y)=>{m??(m=r.value);const v=b.value;if(!i(v))return b.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),b;const x=[];if(l&&d&&y?.async===!1&&y.jitless!==!0)a||(a=n(t.shape)),b=a(b,y);else{b.value={};const j=m.shape;for(const F of m.keys){const D=j[F],O=D._zod.run({value:v[F],issues:[]},y),$=D._zod.optin==="optional"&&D._zod.optout==="optional";O instanceof Promise?x.push(O.then(B=>$?Tx(B,b,F,v):Z0(B,b,F))):$?Tx(O,b,F,v):Z0(O,b,F)}}if(!f)return x.length?Promise.all(x).then(()=>b):b;const w=[],k=m.keySet,E=f._zod,C=E.def.type;for(const j of Object.keys(v)){if(k.has(j))continue;if(C==="never"){w.push(j);continue}const F=E.run({value:v[j],issues:[]},y);F instanceof Promise?x.push(F.then(D=>Z0(D,b,j))):Z0(F,b,j)}return w.length&&b.issues.push({code:"unrecognized_keys",keys:w,input:v,inst:e}),x.length?Promise.all(x).then(()=>b):b}});function Nx(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(i=>ji(i,n,Mi())))}),t}const gP=be("$ZodUnion",(e,t)=>{It.init(e,t),At(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),At(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),At(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),At(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>C2(n.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let a=!1;const i=[];for(const l of t.options){const u=l._zod.run({value:r.value,issues:[]},n);if(u instanceof Promise)i.push(u),a=!0;else{if(u.issues.length===0)return u;i.push(u)}}return a?Promise.all(i).then(l=>Nx(l,r,e,n)):Nx(i,r,e,n)}}),yP=be("$ZodIntersection",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,i=t.left._zod.run({value:a,issues:[]},n),l=t.right._zod.run({value:a,issues:[]},n);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([d,f])=>Dx(r,d,f)):Dx(r,i,l)}});function pp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(mp(e)&&mp(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),a={...e,...t};for(const i of n){const l=pp(e[i],t[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};a[i]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],i=t[n],l=pp(a,i);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Dx(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Cu(e))return e;const n=pp(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const xP=be("$ZodEnum",(e,t)=>{It.init(e,t);const r=OL(t.entries);e._zod.values=new Set(r),e._zod.pattern=new RegExp(`^(${r.filter(n=>BL.has(typeof n)).map(n=>typeof n=="string"?df(n):n.toString()).join("|")})$`),e._zod.parse=(n,a)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:r,input:i,inst:e}),n}}),vP=be("$ZodTransform",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>{const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new Gu;return r.value=a,r}}),_P=be("$ZodOptional",(e,t)=>{It.init(e,t),e._zod.optin="optional",e._zod.optout="optional",At(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),At(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${C2(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,n):r.value===void 0?r:t.innerType._zod.run(r,n)}),wP=be("$ZodNullable",(e,t)=>{It.init(e,t),At(e._zod,"optin",()=>t.innerType._zod.optin),At(e._zod,"optout",()=>t.innerType._zod.optout),At(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${C2(r.source)}|null)$`):void 0}),At(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),kP=be("$ZodDefault",(e,t)=>{It.init(e,t),e._zod.optin="optional",At(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>Mx(i,t)):Mx(a,t)}});function Mx(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const SP=be("$ZodPrefault",(e,t)=>{It.init(e,t),e._zod.optin="optional",At(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),EP=be("$ZodNonOptional",(e,t)=>{It.init(e,t),At(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>jx(i,e)):jx(a,e)}});function jx(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const AP=be("$ZodCatch",(e,t)=>{It.init(e,t),e._zod.optin="optional",At(e._zod,"optout",()=>t.innerType._zod.optout),At(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(l=>ji(l,n,Mi()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>ji(i,n,Mi()))},input:r.value}),r.issues=[]),r)}}),CP=be("$ZodPipe",(e,t)=>{It.init(e,t),At(e._zod,"values",()=>t.in._zod.values),At(e._zod,"optin",()=>t.in._zod.optin),At(e._zod,"optout",()=>t.out._zod.optout),At(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(i=>zx(i,t,n)):zx(a,t,n)}});function zx(e,t,r){return Cu(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const TP=be("$ZodReadonly",(e,t)=>{It.init(e,t),At(e._zod,"propValues",()=>t.innerType._zod.propValues),At(e._zod,"values",()=>t.innerType._zod.values),At(e._zod,"optin",()=>t.innerType._zod.optin),At(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(Ox):Ox(a)}});function Ox(e){return e.value=Object.freeze(e.value),e}const NP=be("$ZodCustom",(e,t)=>{Gr.init(e,t),It.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(i=>Rx(i,r,n,e));Rx(a,r,n,e)}});function Rx(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(Zu(a))}}class DP{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function MP(){return new DP}const K0=MP();function jP(e,t){return new e({type:"string",...$e(t)})}function zP(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$e(t)})}function Fx(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$e(t)})}function OP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$e(t)})}function RP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$e(t)})}function FP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$e(t)})}function LP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$e(t)})}function BP(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$e(t)})}function PP(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$e(t)})}function IP(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$e(t)})}function $P(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$e(t)})}function HP(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$e(t)})}function qP(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$e(t)})}function UP(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$e(t)})}function VP(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$e(t)})}function GP(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$e(t)})}function ZP(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$e(t)})}function KP(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$e(t)})}function YP(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$e(t)})}function XP(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$e(t)})}function QP(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$e(t)})}function WP(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$e(t)})}function JP(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$e(t)})}function eI(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$e(t)})}function tI(e,t){return new e({type:"string",format:"date",check:"string_format",...$e(t)})}function rI(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$e(t)})}function nI(e,t){return new e({type:"string",format:"duration",check:"string_format",...$e(t)})}function aI(e,t){return new e({type:"number",checks:[],...$e(t)})}function sI(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...$e(t)})}function iI(e,t){return new e({type:"boolean",...$e(t)})}function oI(e){return new e({type:"unknown"})}function lI(e,t){return new e({type:"never",...$e(t)})}function Lx(e,t){return new D7({check:"less_than",...$e(t),value:e,inclusive:!1})}function pm(e,t){return new D7({check:"less_than",...$e(t),value:e,inclusive:!0})}function Bx(e,t){return new M7({check:"greater_than",...$e(t),value:e,inclusive:!1})}function bm(e,t){return new M7({check:"greater_than",...$e(t),value:e,inclusive:!0})}function Px(e,t){return new AB({check:"multiple_of",...$e(t),value:e})}function O7(e,t){return new TB({check:"max_length",...$e(t),maximum:e})}function Ld(e,t){return new NB({check:"min_length",...$e(t),minimum:e})}function R7(e,t){return new DB({check:"length_equals",...$e(t),length:e})}function uI(e,t){return new MB({check:"string_format",format:"regex",...$e(t),pattern:e})}function cI(e){return new jB({check:"string_format",format:"lowercase",...$e(e)})}function dI(e){return new zB({check:"string_format",format:"uppercase",...$e(e)})}function fI(e,t){return new OB({check:"string_format",format:"includes",...$e(t),includes:e})}function hI(e,t){return new RB({check:"string_format",format:"starts_with",...$e(t),prefix:e})}function mI(e,t){return new FB({check:"string_format",format:"ends_with",...$e(t),suffix:e})}function uc(e){return new LB({check:"overwrite",tx:e})}function pI(e){return uc(t=>t.normalize(e))}function bI(){return uc(e=>e.trim())}function gI(){return uc(e=>e.toLowerCase())}function yI(){return uc(e=>e.toUpperCase())}function xI(e,t,r){return new e({type:"array",element:t,...$e(r)})}function vI(e,t,r){return new e({type:"custom",check:"custom",fn:t,...$e(r)})}function Ix(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function _I(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[l]={message:u.message,type:u.code}}else r[l]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(b){return e.push(b)})}),t){var d=r[l].types,f=d&&d[n.code];r[l]=k2(l,t,r,a,f?[].concat(f,n.message):n.message)}e.shift()}return r}function wI(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if(n.code==="invalid_union"){var u=n.errors[0][0];r[l]={message:u.message,type:u.code}}else r[l]={message:i,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(m){return m.forEach(function(b){return e.push(b)})}),t){var d=r[l].types,f=d&&d[n.code];r[l]=k2(l,t,r,a,f?[].concat(f,n.message):n.message)}e.shift()}return r}function kI(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,a,i){try{return Promise.resolve(Ix(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(l){return i.shouldUseNativeValidation&&fp({},i),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(u){return Array.isArray(u?.issues)}(l))return{values:{},errors:Sx(_I(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,a,i){try{return Promise.resolve(Ix(function(){return Promise.resolve((r.mode==="sync"?YL:XL)(e,n,t)).then(function(l){return i.shouldUseNativeValidation&&fp({},i),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(u){return u instanceof M2}(l))return{values:{},errors:Sx(wI(l.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const SI=be("ZodISODateTime",(e,t)=>{QB.init(e,t),Rt.init(e,t)});function EI(e){return eI(SI,e)}const AI=be("ZodISODate",(e,t)=>{WB.init(e,t),Rt.init(e,t)});function CI(e){return tI(AI,e)}const TI=be("ZodISOTime",(e,t)=>{JB.init(e,t),Rt.init(e,t)});function NI(e){return rI(TI,e)}const DI=be("ZodISODuration",(e,t)=>{eP.init(e,t),Rt.init(e,t)});function MI(e){return nI(DI,e)}const jI=(e,t)=>{M2.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>KL(e,r)},flatten:{value:r=>ZL(e,r)},addIssue:{value:r=>e.issues.push(r)},addIssues:{value:r=>e.issues.push(...r)},isEmpty:{get(){return e.issues.length===0}}})},mf=be("ZodError",jI,{Parent:Error}),zI=w7(mf),OI=k7(mf),RI=S7(mf),FI=E7(mf),Jt=be("ZodType",(e,t)=>(It.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Bi(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>zI(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>RI(e,r,n),e.parseAsync=async(r,n)=>OI(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>FI(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(T$(r,n)),e.superRefine=r=>e.check(N$(r)),e.overwrite=r=>e.check(uc(r)),e.optional=()=>Ux(e),e.nullable=()=>Vx(e),e.nullish=()=>Ux(Vx(e)),e.nonoptional=r=>v$(e,r),e.array=()=>B7(e),e.or=r=>u$([e,r]),e.and=r=>d$(e,r),e.transform=r=>Gx(e,m$(r)),e.default=r=>g$(e,r),e.prefault=r=>x$(e,r),e.catch=r=>w$(e,r),e.pipe=r=>Gx(e,r),e.readonly=()=>E$(e),e.describe=r=>{const n=e.clone();return K0.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return K0.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return K0.get(e);const n=e.clone();return K0.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),F7=be("_ZodString",(e,t)=>{j2.init(e,t),Jt.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(uI(...n)),e.includes=(...n)=>e.check(fI(...n)),e.startsWith=(...n)=>e.check(hI(...n)),e.endsWith=(...n)=>e.check(mI(...n)),e.min=(...n)=>e.check(Ld(...n)),e.max=(...n)=>e.check(O7(...n)),e.length=(...n)=>e.check(R7(...n)),e.nonempty=(...n)=>e.check(Ld(1,...n)),e.lowercase=n=>e.check(cI(n)),e.uppercase=n=>e.check(dI(n)),e.trim=()=>e.check(bI()),e.normalize=(...n)=>e.check(pI(...n)),e.toLowerCase=()=>e.check(gI()),e.toUpperCase=()=>e.check(yI())}),LI=be("ZodString",(e,t)=>{j2.init(e,t),F7.init(e,t),e.email=r=>e.check(zP(BI,r)),e.url=r=>e.check(BP(PI,r)),e.jwt=r=>e.check(JP(e$,r)),e.emoji=r=>e.check(PP(II,r)),e.guid=r=>e.check(Fx($x,r)),e.uuid=r=>e.check(OP(Y0,r)),e.uuidv4=r=>e.check(RP(Y0,r)),e.uuidv6=r=>e.check(FP(Y0,r)),e.uuidv7=r=>e.check(LP(Y0,r)),e.nanoid=r=>e.check(IP($I,r)),e.guid=r=>e.check(Fx($x,r)),e.cuid=r=>e.check($P(HI,r)),e.cuid2=r=>e.check(HP(qI,r)),e.ulid=r=>e.check(qP(UI,r)),e.base64=r=>e.check(XP(QI,r)),e.base64url=r=>e.check(QP(WI,r)),e.xid=r=>e.check(UP(VI,r)),e.ksuid=r=>e.check(VP(GI,r)),e.ipv4=r=>e.check(GP(ZI,r)),e.ipv6=r=>e.check(ZP(KI,r)),e.cidrv4=r=>e.check(KP(YI,r)),e.cidrv6=r=>e.check(YP(XI,r)),e.e164=r=>e.check(WP(JI,r)),e.datetime=r=>e.check(EI(r)),e.date=r=>e.check(CI(r)),e.time=r=>e.check(NI(r)),e.duration=r=>e.check(MI(r))});function Tu(e){return jP(LI,e)}const Rt=be("ZodStringFormat",(e,t)=>{Nt.init(e,t),F7.init(e,t)}),BI=be("ZodEmail",(e,t)=>{HB.init(e,t),Rt.init(e,t)}),$x=be("ZodGUID",(e,t)=>{IB.init(e,t),Rt.init(e,t)}),Y0=be("ZodUUID",(e,t)=>{$B.init(e,t),Rt.init(e,t)}),PI=be("ZodURL",(e,t)=>{qB.init(e,t),Rt.init(e,t)}),II=be("ZodEmoji",(e,t)=>{UB.init(e,t),Rt.init(e,t)}),$I=be("ZodNanoID",(e,t)=>{VB.init(e,t),Rt.init(e,t)}),HI=be("ZodCUID",(e,t)=>{GB.init(e,t),Rt.init(e,t)}),qI=be("ZodCUID2",(e,t)=>{ZB.init(e,t),Rt.init(e,t)}),UI=be("ZodULID",(e,t)=>{KB.init(e,t),Rt.init(e,t)}),VI=be("ZodXID",(e,t)=>{YB.init(e,t),Rt.init(e,t)}),GI=be("ZodKSUID",(e,t)=>{XB.init(e,t),Rt.init(e,t)}),ZI=be("ZodIPv4",(e,t)=>{tP.init(e,t),Rt.init(e,t)}),KI=be("ZodIPv6",(e,t)=>{rP.init(e,t),Rt.init(e,t)}),YI=be("ZodCIDRv4",(e,t)=>{nP.init(e,t),Rt.init(e,t)}),XI=be("ZodCIDRv6",(e,t)=>{aP.init(e,t),Rt.init(e,t)}),QI=be("ZodBase64",(e,t)=>{sP.init(e,t),Rt.init(e,t)}),WI=be("ZodBase64URL",(e,t)=>{oP.init(e,t),Rt.init(e,t)}),JI=be("ZodE164",(e,t)=>{lP.init(e,t),Rt.init(e,t)}),e$=be("ZodJWT",(e,t)=>{cP.init(e,t),Rt.init(e,t)}),L7=be("ZodNumber",(e,t)=>{z7.init(e,t),Jt.init(e,t),e.gt=(n,a)=>e.check(Bx(n,a)),e.gte=(n,a)=>e.check(bm(n,a)),e.min=(n,a)=>e.check(bm(n,a)),e.lt=(n,a)=>e.check(Lx(n,a)),e.lte=(n,a)=>e.check(pm(n,a)),e.max=(n,a)=>e.check(pm(n,a)),e.int=n=>e.check(Hx(n)),e.safe=n=>e.check(Hx(n)),e.positive=n=>e.check(Bx(0,n)),e.nonnegative=n=>e.check(bm(0,n)),e.negative=n=>e.check(Lx(0,n)),e.nonpositive=n=>e.check(pm(0,n)),e.multipleOf=(n,a)=>e.check(Px(n,a)),e.step=(n,a)=>e.check(Px(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function bp(e){return aI(L7,e)}const t$=be("ZodNumberFormat",(e,t)=>{dP.init(e,t),L7.init(e,t)});function Hx(e){return sI(t$,e)}const r$=be("ZodBoolean",(e,t)=>{fP.init(e,t),Jt.init(e,t)});function Ra(e){return iI(r$,e)}const n$=be("ZodUnknown",(e,t)=>{hP.init(e,t),Jt.init(e,t)});function qx(){return oI(n$)}const a$=be("ZodNever",(e,t)=>{mP.init(e,t),Jt.init(e,t)});function s$(e){return lI(a$,e)}const i$=be("ZodArray",(e,t)=>{pP.init(e,t),Jt.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Ld(r,n)),e.nonempty=r=>e.check(Ld(1,r)),e.max=(r,n)=>e.check(O7(r,n)),e.length=(r,n)=>e.check(R7(r,n)),e.unwrap=()=>e.element});function B7(e,t){return xI(i$,e,t)}const o$=be("ZodObject",(e,t)=>{bP.init(e,t),Jt.init(e,t),At(e,"shape",()=>t.shape),e.keyof=()=>f$(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:qx()}),e.loose=()=>e.clone({...e._zod.def,catchall:qx()}),e.strict=()=>e.clone({...e._zod.def,catchall:s$()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>qL(e,r),e.merge=r=>UL(e,r),e.pick=r=>$L(e,r),e.omit=r=>HL(e,r),e.partial=(...r)=>VL(P7,e,r[0]),e.required=(...r)=>GL(I7,e,r[0])});function gp(e,t){const r={type:"object",get shape(){return T2(this,"shape",{...e}),this.shape},...$e(t)};return new o$(r)}const l$=be("ZodUnion",(e,t)=>{gP.init(e,t),Jt.init(e,t),e.options=t.options});function u$(e,t){return new l$({type:"union",options:e,...$e(t)})}const c$=be("ZodIntersection",(e,t)=>{yP.init(e,t),Jt.init(e,t)});function d$(e,t){return new c$({type:"intersection",left:e,right:t})}const yp=be("ZodEnum",(e,t)=>{xP.init(e,t),Jt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const i={};for(const l of n)if(r.has(l))i[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new yp({...t,checks:[],...$e(a),entries:i})},e.exclude=(n,a)=>{const i={...t.entries};for(const l of n)if(r.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new yp({...t,checks:[],...$e(a),entries:i})}});function f$(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new yp({type:"enum",entries:r,...$e(t)})}const h$=be("ZodTransform",(e,t)=>{vP.init(e,t),Jt.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=i=>{if(typeof i=="string")r.issues.push(Zu(i,r.value,t));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=e),l.continue??(l.continue=!0),r.issues.push(Zu(l))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(i=>(r.value=i,r)):(r.value=a,r)}});function m$(e){return new h$({type:"transform",transform:e})}const P7=be("ZodOptional",(e,t)=>{_P.init(e,t),Jt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ux(e){return new P7({type:"optional",innerType:e})}const p$=be("ZodNullable",(e,t)=>{wP.init(e,t),Jt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Vx(e){return new p$({type:"nullable",innerType:e})}const b$=be("ZodDefault",(e,t)=>{kP.init(e,t),Jt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function g$(e,t){return new b$({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const y$=be("ZodPrefault",(e,t)=>{SP.init(e,t),Jt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function x$(e,t){return new y$({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const I7=be("ZodNonOptional",(e,t)=>{EP.init(e,t),Jt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function v$(e,t){return new I7({type:"nonoptional",innerType:e,...$e(t)})}const _$=be("ZodCatch",(e,t)=>{AP.init(e,t),Jt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function w$(e,t){return new _$({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const k$=be("ZodPipe",(e,t)=>{CP.init(e,t),Jt.init(e,t),e.in=t.in,e.out=t.out});function Gx(e,t){return new k$({type:"pipe",in:e,out:t})}const S$=be("ZodReadonly",(e,t)=>{TP.init(e,t),Jt.init(e,t)});function E$(e){return new S$({type:"readonly",innerType:e})}const A$=be("ZodCustom",(e,t)=>{NP.init(e,t),Jt.init(e,t)});function C$(e){const t=new Gr({check:"custom"});return t._zod.check=e,t}function T$(e,t={}){return vI(A$,e,t)}function N$(e){const t=C$(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Zu(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(Zu(a))}},e(r.value,r)));return t}function D$(e,t){switch(t.type){case"toggle":return{...e,[t.flag]:!e[t.flag]};case"set-all":return t.value;case"reset":return{is_digital:!1,is_np:!1,is_s:!1,is_r:!1,is_fake:!1,is_elev:!1,is_whole:!1};default:return e}}function M$(e,t){switch(t.type){case"toggle-public":return{...e,is_public:!e.is_public};case"toggle-request":return{...e,request_publish:!e.request_publish};case"set-extra-flags":return t.value;case"reset-extra":return{is_public:!1,request_publish:!1};default:return e}}const gm={is_digital:!1,is_np:!1,is_s:!1,is_r:!1,is_fake:!1,is_elev:!1,is_whole:!1},j$={is_public:!1,request_publish:!1},Zx={is_digital:"DIG",is_np:"NP",is_s:"SEC",is_r:"REP",is_fake:"AI",is_elev:"ELEV",is_whole:"HEL"},Kx={is_public:"PUB",request_publish:"REQ"},z$=gp({id:bp().optional(),ability_code:Tu().min(1,"Frdighet krvs"),max_points:bp().min(1,"Minst 1 pong krvs"),level_code:Tu().min(1,"Niv krvs"),description_text:Tu().optional()}),O$=gp({areaId:bp().int().positive("Vlj omrde").optional(),title:Tu().optional(),promptTex:Tu().min(1,"Problemtext krvs"),assessment:B7(z$).min(1,"Minst en bedmningsrad krvs"),flags:gp({is_digital:Ra(),is_np:Ra(),is_s:Ra(),is_r:Ra(),is_fake:Ra(),is_elev:Ra(),is_whole:Ra()}),isPublic:Ra(),requestPublish:Ra()});function R$({selectedAreaId:e,draftId:t,existingProblem:r,drafts:n,onDraftUpdate:a,onDraftAdd:i}){const l=!!r,u=jL({resolver:kI(O$),defaultValues:{areaId:l?void 0:e||void 0,title:"",promptTex:"",assessment:[],flags:gm,isPublic:!1,requestPublish:!1},mode:"onChange"}),[d,f]=N.useReducer(D$,gm),[m,b]=N.useReducer(M$,j$);N.useEffect(()=>{console.log("Flags state uppdaterad:",d)},[d]),N.useEffect(()=>{console.log("ExtraFlags state uppdaterad:",m)},[m]),N.useEffect(()=>{u.setValue("flags",d)},[d,u]),N.useEffect(()=>{u.setValue("isPublic",m.is_public),u.setValue("requestPublish",m.request_publish)},[m,u]);const[y,v]=N.useState();N.useEffect(()=>{if(!t||!n)return;const k=n.find(C=>C.id===t);if(!k)return;const{data:E}=k;if(u.reset({areaId:E.area_id,title:E.title??"",promptTex:E.prompt_tex,assessment:E.assessment_items,flags:E.flags,isPublic:E.is_public,requestPublish:E.request_publish}),f({type:"set-all",value:E.flags}),b({type:"set-extra-flags",value:{is_public:E.is_public,request_publish:E.request_publish}}),E.pendingImages){const C=E.pendingImages.map(j=>({id:j.id,blobUrl:j.dataUrl,placeholderText:j.placeholderText}));v(C)}else v(void 0)},[t,n,u]),N.useEffect(()=>{!l||!r||(u.setValue("title",r.title??""),u.setValue("promptTex",r.prompt_tex),u.setValue("assessment",r.assessment_items.map(k=>({...k}))),u.setValue("flags",{is_digital:r.is_digital??!1,is_np:r.is_np??!1,is_s:r.is_s??!1,is_r:r.is_r??!1,is_fake:r.is_fake??!1,is_elev:r.is_elev??!1,is_whole:r.is_whole??!1}),u.setValue("isPublic",r.is_public??!1),u.setValue("requestPublish",r.request_publish??!1),f({type:"set-all",value:{is_digital:r.is_digital??!1,is_np:r.is_np??!1,is_s:r.is_s??!1,is_r:r.is_r??!1,is_fake:r.is_fake??!1,is_elev:r.is_elev??!1,is_whole:r.is_whole??!1}}),b({type:"set-extra-flags",value:{is_public:r.is_public??!1,request_publish:r.request_publish??!1}}))},[l,r,u]),N.useEffect(()=>{e!==null&&u.setValue("areaId",e)},[e,u]);const x=()=>{u.reset({areaId:e||void 0,title:"",promptTex:"",assessment:[],flags:gm,isPublic:!1,requestPublish:!1}),f({type:"reset"}),b({type:"reset-extra"})},w=async k=>{const E=u.getValues();let C;if(k&&k.length>0){C=[];for(const F of k)try{const D=await fetch(F.blobUrl).then($=>$.blob()),O=await new Promise($=>{const B=new FileReader;B.onload=()=>$(B.result),B.readAsDataURL(D)});C.push({id:F.id,dataUrl:O,placeholderText:F.placeholderText})}catch(D){console.error("Failed to convert blob to data URL for draft:",D)}}const j={prompt_tex:E.promptTex,title:E.title?.trim()||null,area_id:E.areaId,assessment_items:E.assessment,flags:E.flags,is_public:E.isPublic,request_publish:E.requestPublish,pendingImages:C};t&&a?a(t,j):i&&i(j)};return{form:u,flags:d,extraFlags:m,dispatchFlags:f,dispatchExtraFlags:b,isDirty:u.formState.isDirty,isValid:u.formState.isValid,resetForm:x,saveDraft:w,draftPendingImages:y}}async function F$(e){const t="https://83.251.173.209.nip.io",r=localStorage.getItem("jwt_token"),n=await fetch(`${t}/v1/similarity/draft`,{method:"POST",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},body:JSON.stringify(e)});if(!n.ok)throw new Error(`Similarity check failed: ${n.status}`);return(await n.json()).similar_problem_ids??[]}function L$(){const e=qd(),t=E0({mutationFn:async i=>await oa.createProblemV1ProblemsPost(i),onSuccess:()=>{e.invalidateQueries({queryKey:["problemIds"]}),e.invalidateQueries({queryKey:["problemDetails"]}),e.invalidateQueries({queryKey:["problems"]}),e.refetchQueries({queryKey:["problemIds"]}),e.refetchQueries({queryKey:["problemDetails"]})},onError:i=>{i instanceof xu&&console.error(`API Error ${i.status}: ${i.message}`)}}),r=E0({mutationFn:async({problemId:i,data:l})=>await oa.updateProblemV1ProblemsProblemIdPatch(i,l),onSuccess:()=>{e.invalidateQueries({queryKey:["problemIds"]}),e.invalidateQueries({queryKey:["problemDetails"]}),e.invalidateQueries({queryKey:["problems"]}),e.refetchQueries({queryKey:["problemIds"]}),e.refetchQueries({queryKey:["problemDetails"]})},onError:i=>{i instanceof xu&&console.error(`API Error ${i.status}: ${i.message}`)}}),n=E0({mutationFn:async({problemId:i,permanent:l=!1})=>await oa.deleteProblemV1ProblemsProblemIdDelete(i,l),onSuccess:()=>{e.invalidateQueries({queryKey:["problemIds"]}),e.invalidateQueries({queryKey:["problemDetails"]}),e.invalidateQueries({queryKey:["problems"]}),e.refetchQueries({queryKey:["problemIds"]}),e.refetchQueries({queryKey:["problemDetails"]})},onError:i=>{i instanceof xu&&console.error(`API Error ${i.status}: ${i.message}`)}}),a=E0({mutationFn:async i=>await F$(i),onError:i=>{console.error("Similarity check failed:",i)}});return{createProblem:t,updateProblem:r,deleteProblem:n,checkSimilarity:a}}const B$=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([]),{data:a=[]}=Zd(r);return{showSimilarity:e,similarProblems:a,setSimilarIds:n,setShowSimilarity:t,resetSimilarity:()=>{t(!1),n([])}}};async function Yx(e,t,r){if(e.length===0)return t;let n=t;for(const a of e)try{if(a.blobUrl.startsWith("data:")){const u=await(await fetch(a.blobUrl)).blob(),d=new File([u],`draft-image-${a.id}.png`,{type:u.type}),f=await my.uploadAttachmentV1AttachmentsProblemIdUploadPost(r,{file:d}),m=new RegExp(`\\\\includegraphics\\[([^\\]]*)\\]\\{${a.id}\\}`,"g");n=n.replace(m,(b,y)=>{const v=f.file_url;return`\\includegraphics[${y}]{${v}}`})}else{const l=await my.uploadAttachmentV1AttachmentsProblemIdUploadPost(r,{file:a.file}),u=new RegExp(`\\\\includegraphics\\[([^\\]]*)\\]\\{${a.id}\\}`,"g");n=n.replace(u,(d,f)=>{const m=l.file_url;return`\\includegraphics[${f}]{${m}}`})}}catch(i){i instanceof Error&&(console.error("Error message:",i.message),console.error("Error stack:",i.stack)),console.warn(`Failed to upload image ${a.id}, continuing with next image`)}return n}function P$({pendingImages:e,setPendingImages:t,existingProblem:r,draftId:n,removeDraft:a,onSave:i,checkSimilarity:l,setSimilarIds:u,setShowSimilarity:d,setSaving:f,updateProblem:m}){const b=N.useRef(!1),{user:y}=un(),v=()=>y?.role==="trusted"||y?.role==="admin";return{handleUpdateProblem:async k=>{if(!b.current){const j=(await l.mutateAsync({prompt_tex:k.promptTex,title:k.title?.trim()||null,area_id:k.areaId})).filter(F=>F!==Number(r.bank_problem_definition_id));if(j.length){u(j),d(!0),f(!1);return}}let E=k.promptTex;if(e.length>0)try{const C=await Yx(e,E,Number(r.bank_problem_definition_id));C!==E&&(E=C),e.forEach(j=>URL.revokeObjectURL(j.blobUrl)),t([])}catch(C){console.warn("Image upload failed:",C),f(!1);return}try{const C={prompt_tex:E,title:k.title?.trim()||null,area_id:k.areaId,assessment_items:k.assessment,flags:k.flags,request_publish:k.extraFlags.request_publish,...v()?{is_public:k.extraFlags.is_public}:{}};return await m.mutateAsync({problemId:Number(r.bank_problem_definition_id),data:C}),n&&a(n),await i(C,!0,r.bank_problem_definition_id,k)}catch(C){throw f(!1),C}},handleCreateProblem:async k=>{if(!b.current){const j=await l.mutateAsync({prompt_tex:k.promptTex,title:k.title?.trim()||null,area_id:k.areaId});if(j.length){u(j),d(!0),f(!1);return}}const E=k.promptTex,C={prompt_tex:E,title:k.title?.trim()||null,area_id:k.areaId,assessment_items:k.assessment,flags:k.flags,request_publish:k.extraFlags.request_publish,...v()?{is_public:k.extraFlags.is_public}:{}};try{const j=await i(C,!1,void 0,k),F=j.bank_problem_definition_id;if(e.length>0)try{const D=await Yx(e,E,F);if(D!==E){const O={...C,prompt_tex:D};await i(O,!0,F,k)}e.forEach(O=>URL.revokeObjectURL(O.blobUrl)),t([])}catch(D){console.warn("Image upload failed:",D)}return n&&a(n),j}catch(j){throw f(!1),j}},skipSimilarityRef:b}}function I$({draftPendingImages:e}){const[t,r]=N.useState([]);return N.useEffect(()=>{if(e){const i=e.map(l=>({id:l.id,blobUrl:l.blobUrl,placeholderText:l.placeholderText,file:new File([],"draft-image")}));r(i)}},[e]),{pendingImages:t,setPendingImages:r,addPendingImage:i=>{r(l=>[...l,i])},clearPendingImages:()=>{t.forEach(i=>URL.revokeObjectURL(i.blobUrl)),r([])}}}function $7(e,t,r){if(!e)return!1;switch(t){case"deleteHard":if(e.role==="admin")return!0;if(r?.existingProblem){const n=r.existingProblem;return String(n.owner_id??"")===String(e.core_user_id)}return!1;case"togglePublic":return e.role==="admin"||e.role==="trusted";case"toggleRequest":return e.role==="admin"||e.role==="trusted"||e.role==="user";case"editProblem":if(e.role==="admin")return!0;if(r?.existingProblem){const n=r.existingProblem;return String(n.owner_id??"")===String(e.core_user_id)}return!1;default:return!1}}function $$(e,t){return $7(e,"deleteHard",{existingProblem:t})}function Xx(e,t){return $7(e,"editProblem",{existingProblem:t})}let H$=0;const Nu=[];let Ei=[];const H7=e=>{const t=H$++,r={...e,id:t};Ei=[...Ei,r],Nu.forEach(n=>n(Ei))},q$=e=>{Ei=Ei.filter((t,r)=>r!==e),Nu.forEach(t=>t(Ei))},U$=()=>{const[e,t]=N.useState([]);return N.useEffect(()=>{const r=n=>{t(n)};return Nu.push(r),t(Ei),()=>{const n=Nu.indexOf(r);n>-1&&Nu.splice(n,1)}},[]),{notifications:e,addNotification:H7,removeNotification:q$}},me=(e,t,r,n=5e3)=>{H7({type:e,title:t,message:r,duration:n})};function md(e){const t=e,r=`${t.type}-${t.id}`,n=[...(t.courses??[]).map(a=>md(a)),...(t.chapters??[]).map(a=>md(a)),...(t.areas??[]).map(a=>md(a))];return{id:t.id,uid:r,parentSubjectId:t.type==="subject"?t.id:void 0,title:t.title,type:t.type,hasChildren:!!(t.courses?.length||t.chapters?.length||t.areas?.length),children:n.length?n:void 0}}function q7(){const{data:e,isLoading:t,error:r}=zi({queryKey:["hierarchy"],staleTime:36e5,queryFn:async()=>((await zt.getHierarchyApiHierarchyGet()).hierarchy??[]).map(a=>md(a))});return{hierarchy:e??[],loading:t,error:r}}function U7(e){const{data:t,isLoading:r,error:n}=zi({queryKey:["hierarchy","problem-parent",e],enabled:!!e,staleTime:6e5,queryFn:async()=>{if(!e)throw new Error("Problem ID is required for parent lookup");return await zt.getProblemParentApiHierarchyProblemParentProblemIdGet(e)}});return{problemParent:t,loading:r,error:n}}class rn{constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new rn(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class kn{constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new kn(r,rn.range(this,t))}}class ke{constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,a,i,l=r&&r.loc;if(l&&l.start<=l.end){var u=l.lexer.input;a=l.start,i=l.end,a===u.length?n+=" at end of input: ":n+=" at position "+(a+1)+": ";var d=u.slice(a,i).replace(/[^]/g,"$&"),f;a>15?f=""+u.slice(a-15,a):f=u.slice(0,a);var m;i+15<u.length?m=u.slice(i,i+15)+"":m=u.slice(i),n+=f+d+m}var b=new Error(n);return b.name="ParseError",b.__proto__=ke.prototype,b.position=a,a!=null&&i!=null&&(b.length=i-a),b.rawMessage=t,b}}ke.prototype.__proto__=Error.prototype;var V$=function(t,r){return t.indexOf(r)!==-1},G$=function(t,r){return t===void 0?r:t},Z$=/([A-Z])/g,K$=function(t){return t.replace(Z$,"-$1").toLowerCase()},Y$={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},X$=/[&><"']/g;function Q$(e){return String(e).replace(X$,t=>Y$[t])}var V7=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},W$=function(t){var r=V7(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},J$=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},eH=function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},Ie={contains:V$,deflt:G$,escape:Q$,hyphenate:K$,getBaseElem:V7,isCharacterBox:W$,protocolFromUrl:eH},pd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function tH(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class z2{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in pd)if(pd.hasOwnProperty(r)){var n=pd[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:tH(n)}}reportNonstrict(t,r,n){var a=this.strict;if(typeof a=="function"&&(a=a(t,r,n)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new ke("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var a=this.strict;if(typeof a=="function")try{a=a(t,r,n)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=Ie.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class ws{constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return ta[rH[this.id]]}sub(){return ta[nH[this.id]]}fracNum(){return ta[aH[this.id]]}fracDen(){return ta[sH[this.id]]}cramp(){return ta[iH[this.id]]}text(){return ta[oH[this.id]]}isTight(){return this.size>=2}}var O2=0,Bd=1,Lo=2,Ha=3,Ku=4,wn=5,Zo=6,Mr=7,ta=[new ws(O2,0,!1),new ws(Bd,0,!0),new ws(Lo,1,!1),new ws(Ha,1,!0),new ws(Ku,2,!1),new ws(wn,2,!0),new ws(Zo,3,!1),new ws(Mr,3,!0)],rH=[Ku,wn,Ku,wn,Zo,Mr,Zo,Mr],nH=[wn,wn,wn,wn,Mr,Mr,Mr,Mr],aH=[Lo,Ha,Ku,wn,Zo,Mr,Zo,Mr],sH=[Ha,Ha,wn,wn,Mr,Mr,Mr,Mr],iH=[Bd,Bd,Ha,Ha,wn,wn,Mr,Mr],oH=[O2,Bd,Lo,Ha,Lo,Ha,Lo,Ha],qe={DISPLAY:ta[O2],TEXT:ta[Lo],SCRIPT:ta[Ku],SCRIPTSCRIPT:ta[Zo]},xp=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function lH(e){for(var t=0;t<xp.length;t++)for(var r=xp[t],n=0;n<r.blocks.length;n++){var a=r.blocks[n];if(e>=a[0]&&e<=a[1])return r.name}return null}var bd=[];xp.forEach(e=>e.blocks.forEach(t=>bd.push(...t)));function G7(e){for(var t=0;t<bd.length;t+=2)if(e>=bd[t]&&e<=bd[t+1])return!0;return!1}var Do=80,uH=function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},cH=function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},dH=function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},fH=function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},hH=function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},mH=function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},pH=function(t,r,n){var a=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},bH=function(t,r,n){r=1e3*r;var a="";switch(t){case"sqrtMain":a=uH(r,Do);break;case"sqrtSize1":a=cH(r,Do);break;case"sqrtSize2":a=dH(r,Do);break;case"sqrtSize3":a=fH(r,Do);break;case"sqrtSize4":a=hH(r,Do);break;case"sqrtTall":a=pH(r,Do,n)}return a},gH=function(t,r){switch(t){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},Qx={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},yH=function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class cc{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return Ie.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=r=>r.toText();return this.children.map(t).join("")}}var sa={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},X0={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Wx={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function xH(e,t){sa[e]=t}function R2(e,t,r){if(!sa[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),a=sa[t][n];if(!a&&e[0]in Wx&&(n=Wx[e[0]].charCodeAt(0),a=sa[t][n]),!a&&r==="text"&&G7(n)&&(a=sa[t][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var ym={};function vH(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!ym[t]){var r=ym[t]={cssEmPerMu:X0.quad[t]/18};for(var n in X0)X0.hasOwnProperty(n)&&(r[n]=X0[n][t])}return ym[t]}var _H=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Jx=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],e5=function(t,r){return r.size<2?t:_H[t-1][r.size-1]};class Ia{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Ia.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Jx[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new Ia(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:e5(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:Jx[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=e5(Ia.BASESIZE,t);return this.size===r&&this.textSize===Ia.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ia.BASESIZE?["sizing","reset-size"+this.size,"size"+Ia.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=vH(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ia.BASESIZE=6;var vp={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},wH={ex:!0,em:!0,mu:!0},Z7=function(t){return typeof t!="string"&&(t=t.unit),t in vp||t in wH||t==="ex"},Ot=function(t,r){var n;if(t.unit in vp)n=vp[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var a;if(r.style.isTight()?a=r.havingStyle(r.style.text()):a=r,t.unit==="ex")n=a.fontMetrics().xHeight;else if(t.unit==="em")n=a.fontMetrics().quad;else throw new ke("Invalid unit: '"+t.unit+"'");a!==r&&(n*=a.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},Ae=function(t){return+t.toFixed(4)+"em"},Bs=function(t){return t.filter(r=>r).join(" ")},K7=function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var a=r.getColor();a&&(this.style.color=a)}},Y7=function(t){var r=document.createElement(t);r.className=Bs(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&r.setAttribute(a,this.attributes[a]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r},kH=/[\s"'>/=\x00-\x1f]/,X7=function(t){var r="<"+t;this.classes.length&&(r+=' class="'+Ie.escape(Bs(this.classes))+'"');var n="";for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=Ie.hyphenate(a)+":"+this.style[a]+";");n&&(r+=' style="'+Ie.escape(n)+'"');for(var i in this.attributes)if(this.attributes.hasOwnProperty(i)){if(kH.test(i))throw new ke("Invalid attribute name '"+i+"'");r+=" "+i+'="'+Ie.escape(this.attributes[i])+'"'}r+=">";for(var l=0;l<this.children.length;l++)r+=this.children[l].toMarkup();return r+="</"+t+">",r};class dc{constructor(t,r,n,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,K7.call(this,t,n,a),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return Ie.contains(this.classes,t)}toNode(){return Y7.call(this,"span")}toMarkup(){return X7.call(this,"span")}}class F2{constructor(t,r,n,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,K7.call(this,r,a),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return Ie.contains(this.classes,t)}toNode(){return Y7.call(this,"a")}toMarkup(){return X7.call(this,"a")}}class SH{constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return Ie.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+Ie.escape(this.src)+'"'+(' alt="'+Ie.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Ie.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+Ie.escape(r)+'"'),t+="'/>",t}}var EH={:"",:"",:"",:""};class En{constructor(t,r,n,a,i,l,u,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=a||0,this.skew=i||0,this.width=l||0,this.classes=u||[],this.style=d||{},this.maxFontSize=0;var f=lH(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=EH[this.text])}hasClass(t){return Ie.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Ae(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Bs(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=Ie.escape(Bs(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=Ie.hyphenate(a)+":"+this.style[a]+";");n&&(t=!0,r+=' style="'+Ie.escape(n)+'"');var i=Ie.escape(this.text);return t?(r+=">",r+=i,r+="</span>",r):i}}class Va{constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+Ie.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class Ps{constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",Qx[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Ie.escape(this.alternate)+'"/>':'<path d="'+Ie.escape(Qx[this.pathName])+'"/>'}}class _p{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+Ie.escape(this.attributes[r])+'"');return t+="/>",t}}function t5(e){if(e instanceof En)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function AH(e){if(e instanceof dc)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var CH={bin:1,close:1,inner:1,open:1,punct:1,rel:1},TH={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},St={math:{},text:{}};function S(e,t,r,n,a,i){St[e][a]={font:t,group:r,replace:n},i&&n&&(St[e][n]=St[e][a])}var A="math",ye="text",M="main",q="ams",Dt="accent-token",je="bin",jr="close",rl="inner",He="mathord",er="op-token",cn="open",pf="punct",U="rel",Ya="spacing",X="textord";S(A,M,U,"","\\equiv",!0);S(A,M,U,"","\\prec",!0);S(A,M,U,"","\\succ",!0);S(A,M,U,"","\\sim",!0);S(A,M,U,"","\\perp");S(A,M,U,"","\\preceq",!0);S(A,M,U,"","\\succeq",!0);S(A,M,U,"","\\simeq",!0);S(A,M,U,"","\\mid",!0);S(A,M,U,"","\\ll",!0);S(A,M,U,"","\\gg",!0);S(A,M,U,"","\\asymp",!0);S(A,M,U,"","\\parallel");S(A,M,U,"","\\bowtie",!0);S(A,M,U,"","\\smile",!0);S(A,M,U,"","\\sqsubseteq",!0);S(A,M,U,"","\\sqsupseteq",!0);S(A,M,U,"","\\doteq",!0);S(A,M,U,"","\\frown",!0);S(A,M,U,"","\\ni",!0);S(A,M,U,"","\\propto",!0);S(A,M,U,"","\\vdash",!0);S(A,M,U,"","\\dashv",!0);S(A,M,U,"","\\owns");S(A,M,pf,".","\\ldotp");S(A,M,pf,"","\\cdotp");S(A,M,X,"#","\\#");S(ye,M,X,"#","\\#");S(A,M,X,"&","\\&");S(ye,M,X,"&","\\&");S(A,M,X,"","\\aleph",!0);S(A,M,X,"","\\forall",!0);S(A,M,X,"","\\hbar",!0);S(A,M,X,"","\\exists",!0);S(A,M,X,"","\\nabla",!0);S(A,M,X,"","\\flat",!0);S(A,M,X,"","\\ell",!0);S(A,M,X,"","\\natural",!0);S(A,M,X,"","\\clubsuit",!0);S(A,M,X,"","\\wp",!0);S(A,M,X,"","\\sharp",!0);S(A,M,X,"","\\diamondsuit",!0);S(A,M,X,"","\\Re",!0);S(A,M,X,"","\\heartsuit",!0);S(A,M,X,"","\\Im",!0);S(A,M,X,"","\\spadesuit",!0);S(A,M,X,"","\\S",!0);S(ye,M,X,"","\\S");S(A,M,X,"","\\P",!0);S(ye,M,X,"","\\P");S(A,M,X,"","\\dag");S(ye,M,X,"","\\dag");S(ye,M,X,"","\\textdagger");S(A,M,X,"","\\ddag");S(ye,M,X,"","\\ddag");S(ye,M,X,"","\\textdaggerdbl");S(A,M,jr,"","\\rmoustache",!0);S(A,M,cn,"","\\lmoustache",!0);S(A,M,jr,"","\\rgroup",!0);S(A,M,cn,"","\\lgroup",!0);S(A,M,je,"","\\mp",!0);S(A,M,je,"","\\ominus",!0);S(A,M,je,"","\\uplus",!0);S(A,M,je,"","\\sqcap",!0);S(A,M,je,"","\\ast");S(A,M,je,"","\\sqcup",!0);S(A,M,je,"","\\bigcirc",!0);S(A,M,je,"","\\bullet",!0);S(A,M,je,"","\\ddagger");S(A,M,je,"","\\wr",!0);S(A,M,je,"","\\amalg");S(A,M,je,"&","\\And");S(A,M,U,"","\\longleftarrow",!0);S(A,M,U,"","\\Leftarrow",!0);S(A,M,U,"","\\Longleftarrow",!0);S(A,M,U,"","\\longrightarrow",!0);S(A,M,U,"","\\Rightarrow",!0);S(A,M,U,"","\\Longrightarrow",!0);S(A,M,U,"","\\leftrightarrow",!0);S(A,M,U,"","\\longleftrightarrow",!0);S(A,M,U,"","\\Leftrightarrow",!0);S(A,M,U,"","\\Longleftrightarrow",!0);S(A,M,U,"","\\mapsto",!0);S(A,M,U,"","\\longmapsto",!0);S(A,M,U,"","\\nearrow",!0);S(A,M,U,"","\\hookleftarrow",!0);S(A,M,U,"","\\hookrightarrow",!0);S(A,M,U,"","\\searrow",!0);S(A,M,U,"","\\leftharpoonup",!0);S(A,M,U,"","\\rightharpoonup",!0);S(A,M,U,"","\\swarrow",!0);S(A,M,U,"","\\leftharpoondown",!0);S(A,M,U,"","\\rightharpoondown",!0);S(A,M,U,"","\\nwarrow",!0);S(A,M,U,"","\\rightleftharpoons",!0);S(A,q,U,"","\\nless",!0);S(A,q,U,"","\\@nleqslant");S(A,q,U,"","\\@nleqq");S(A,q,U,"","\\lneq",!0);S(A,q,U,"","\\lneqq",!0);S(A,q,U,"","\\@lvertneqq");S(A,q,U,"","\\lnsim",!0);S(A,q,U,"","\\lnapprox",!0);S(A,q,U,"","\\nprec",!0);S(A,q,U,"","\\npreceq",!0);S(A,q,U,"","\\precnsim",!0);S(A,q,U,"","\\precnapprox",!0);S(A,q,U,"","\\nsim",!0);S(A,q,U,"","\\@nshortmid");S(A,q,U,"","\\nmid",!0);S(A,q,U,"","\\nvdash",!0);S(A,q,U,"","\\nvDash",!0);S(A,q,U,"","\\ntriangleleft");S(A,q,U,"","\\ntrianglelefteq",!0);S(A,q,U,"","\\subsetneq",!0);S(A,q,U,"","\\@varsubsetneq");S(A,q,U,"","\\subsetneqq",!0);S(A,q,U,"","\\@varsubsetneqq");S(A,q,U,"","\\ngtr",!0);S(A,q,U,"","\\@ngeqslant");S(A,q,U,"","\\@ngeqq");S(A,q,U,"","\\gneq",!0);S(A,q,U,"","\\gneqq",!0);S(A,q,U,"","\\@gvertneqq");S(A,q,U,"","\\gnsim",!0);S(A,q,U,"","\\gnapprox",!0);S(A,q,U,"","\\nsucc",!0);S(A,q,U,"","\\nsucceq",!0);S(A,q,U,"","\\succnsim",!0);S(A,q,U,"","\\succnapprox",!0);S(A,q,U,"","\\ncong",!0);S(A,q,U,"","\\@nshortparallel");S(A,q,U,"","\\nparallel",!0);S(A,q,U,"","\\nVDash",!0);S(A,q,U,"","\\ntriangleright");S(A,q,U,"","\\ntrianglerighteq",!0);S(A,q,U,"","\\@nsupseteqq");S(A,q,U,"","\\supsetneq",!0);S(A,q,U,"","\\@varsupsetneq");S(A,q,U,"","\\supsetneqq",!0);S(A,q,U,"","\\@varsupsetneqq");S(A,q,U,"","\\nVdash",!0);S(A,q,U,"","\\precneqq",!0);S(A,q,U,"","\\succneqq",!0);S(A,q,U,"","\\@nsubseteqq");S(A,q,je,"","\\unlhd");S(A,q,je,"","\\unrhd");S(A,q,U,"","\\nleftarrow",!0);S(A,q,U,"","\\nrightarrow",!0);S(A,q,U,"","\\nLeftarrow",!0);S(A,q,U,"","\\nRightarrow",!0);S(A,q,U,"","\\nleftrightarrow",!0);S(A,q,U,"","\\nLeftrightarrow",!0);S(A,q,U,"","\\vartriangle");S(A,q,X,"","\\hslash");S(A,q,X,"","\\triangledown");S(A,q,X,"","\\lozenge");S(A,q,X,"","\\circledS");S(A,q,X,"","\\circledR");S(ye,q,X,"","\\circledR");S(A,q,X,"","\\measuredangle",!0);S(A,q,X,"","\\nexists");S(A,q,X,"","\\mho");S(A,q,X,"","\\Finv",!0);S(A,q,X,"","\\Game",!0);S(A,q,X,"","\\backprime");S(A,q,X,"","\\blacktriangle");S(A,q,X,"","\\blacktriangledown");S(A,q,X,"","\\blacksquare");S(A,q,X,"","\\blacklozenge");S(A,q,X,"","\\bigstar");S(A,q,X,"","\\sphericalangle",!0);S(A,q,X,"","\\complement",!0);S(A,q,X,"","\\eth",!0);S(ye,M,X,"","");S(A,q,X,"","\\diagup");S(A,q,X,"","\\diagdown");S(A,q,X,"","\\square");S(A,q,X,"","\\Box");S(A,q,X,"","\\Diamond");S(A,q,X,"","\\yen",!0);S(ye,q,X,"","\\yen",!0);S(A,q,X,"","\\checkmark",!0);S(ye,q,X,"","\\checkmark");S(A,q,X,"","\\beth",!0);S(A,q,X,"","\\daleth",!0);S(A,q,X,"","\\gimel",!0);S(A,q,X,"","\\digamma",!0);S(A,q,X,"","\\varkappa");S(A,q,cn,"","\\@ulcorner",!0);S(A,q,jr,"","\\@urcorner",!0);S(A,q,cn,"","\\@llcorner",!0);S(A,q,jr,"","\\@lrcorner",!0);S(A,q,U,"","\\leqq",!0);S(A,q,U,"","\\leqslant",!0);S(A,q,U,"","\\eqslantless",!0);S(A,q,U,"","\\lesssim",!0);S(A,q,U,"","\\lessapprox",!0);S(A,q,U,"","\\approxeq",!0);S(A,q,je,"","\\lessdot");S(A,q,U,"","\\lll",!0);S(A,q,U,"","\\lessgtr",!0);S(A,q,U,"","\\lesseqgtr",!0);S(A,q,U,"","\\lesseqqgtr",!0);S(A,q,U,"","\\doteqdot");S(A,q,U,"","\\risingdotseq",!0);S(A,q,U,"","\\fallingdotseq",!0);S(A,q,U,"","\\backsim",!0);S(A,q,U,"","\\backsimeq",!0);S(A,q,U,"","\\subseteqq",!0);S(A,q,U,"","\\Subset",!0);S(A,q,U,"","\\sqsubset",!0);S(A,q,U,"","\\preccurlyeq",!0);S(A,q,U,"","\\curlyeqprec",!0);S(A,q,U,"","\\precsim",!0);S(A,q,U,"","\\precapprox",!0);S(A,q,U,"","\\vartriangleleft");S(A,q,U,"","\\trianglelefteq");S(A,q,U,"","\\vDash",!0);S(A,q,U,"","\\Vvdash",!0);S(A,q,U,"","\\smallsmile");S(A,q,U,"","\\smallfrown");S(A,q,U,"","\\bumpeq",!0);S(A,q,U,"","\\Bumpeq",!0);S(A,q,U,"","\\geqq",!0);S(A,q,U,"","\\geqslant",!0);S(A,q,U,"","\\eqslantgtr",!0);S(A,q,U,"","\\gtrsim",!0);S(A,q,U,"","\\gtrapprox",!0);S(A,q,je,"","\\gtrdot");S(A,q,U,"","\\ggg",!0);S(A,q,U,"","\\gtrless",!0);S(A,q,U,"","\\gtreqless",!0);S(A,q,U,"","\\gtreqqless",!0);S(A,q,U,"","\\eqcirc",!0);S(A,q,U,"","\\circeq",!0);S(A,q,U,"","\\triangleq",!0);S(A,q,U,"","\\thicksim");S(A,q,U,"","\\thickapprox");S(A,q,U,"","\\supseteqq",!0);S(A,q,U,"","\\Supset",!0);S(A,q,U,"","\\sqsupset",!0);S(A,q,U,"","\\succcurlyeq",!0);S(A,q,U,"","\\curlyeqsucc",!0);S(A,q,U,"","\\succsim",!0);S(A,q,U,"","\\succapprox",!0);S(A,q,U,"","\\vartriangleright");S(A,q,U,"","\\trianglerighteq");S(A,q,U,"","\\Vdash",!0);S(A,q,U,"","\\shortmid");S(A,q,U,"","\\shortparallel");S(A,q,U,"","\\between",!0);S(A,q,U,"","\\pitchfork",!0);S(A,q,U,"","\\varpropto");S(A,q,U,"","\\blacktriangleleft");S(A,q,U,"","\\therefore",!0);S(A,q,U,"","\\backepsilon");S(A,q,U,"","\\blacktriangleright");S(A,q,U,"","\\because",!0);S(A,q,U,"","\\llless");S(A,q,U,"","\\gggtr");S(A,q,je,"","\\lhd");S(A,q,je,"","\\rhd");S(A,q,U,"","\\eqsim",!0);S(A,M,U,"","\\Join");S(A,q,U,"","\\Doteq",!0);S(A,q,je,"","\\dotplus",!0);S(A,q,je,"","\\smallsetminus");S(A,q,je,"","\\Cap",!0);S(A,q,je,"","\\Cup",!0);S(A,q,je,"","\\doublebarwedge",!0);S(A,q,je,"","\\boxminus",!0);S(A,q,je,"","\\boxplus",!0);S(A,q,je,"","\\divideontimes",!0);S(A,q,je,"","\\ltimes",!0);S(A,q,je,"","\\rtimes",!0);S(A,q,je,"","\\leftthreetimes",!0);S(A,q,je,"","\\rightthreetimes",!0);S(A,q,je,"","\\curlywedge",!0);S(A,q,je,"","\\curlyvee",!0);S(A,q,je,"","\\circleddash",!0);S(A,q,je,"","\\circledast",!0);S(A,q,je,"","\\centerdot");S(A,q,je,"","\\intercal",!0);S(A,q,je,"","\\doublecap");S(A,q,je,"","\\doublecup");S(A,q,je,"","\\boxtimes",!0);S(A,q,U,"","\\dashrightarrow",!0);S(A,q,U,"","\\dashleftarrow",!0);S(A,q,U,"","\\leftleftarrows",!0);S(A,q,U,"","\\leftrightarrows",!0);S(A,q,U,"","\\Lleftarrow",!0);S(A,q,U,"","\\twoheadleftarrow",!0);S(A,q,U,"","\\leftarrowtail",!0);S(A,q,U,"","\\looparrowleft",!0);S(A,q,U,"","\\leftrightharpoons",!0);S(A,q,U,"","\\curvearrowleft",!0);S(A,q,U,"","\\circlearrowleft",!0);S(A,q,U,"","\\Lsh",!0);S(A,q,U,"","\\upuparrows",!0);S(A,q,U,"","\\upharpoonleft",!0);S(A,q,U,"","\\downharpoonleft",!0);S(A,M,U,"","\\origof",!0);S(A,M,U,"","\\imageof",!0);S(A,q,U,"","\\multimap",!0);S(A,q,U,"","\\leftrightsquigarrow",!0);S(A,q,U,"","\\rightrightarrows",!0);S(A,q,U,"","\\rightleftarrows",!0);S(A,q,U,"","\\twoheadrightarrow",!0);S(A,q,U,"","\\rightarrowtail",!0);S(A,q,U,"","\\looparrowright",!0);S(A,q,U,"","\\curvearrowright",!0);S(A,q,U,"","\\circlearrowright",!0);S(A,q,U,"","\\Rsh",!0);S(A,q,U,"","\\downdownarrows",!0);S(A,q,U,"","\\upharpoonright",!0);S(A,q,U,"","\\downharpoonright",!0);S(A,q,U,"","\\rightsquigarrow",!0);S(A,q,U,"","\\leadsto");S(A,q,U,"","\\Rrightarrow",!0);S(A,q,U,"","\\restriction");S(A,M,X,"","`");S(A,M,X,"$","\\$");S(ye,M,X,"$","\\$");S(ye,M,X,"$","\\textdollar");S(A,M,X,"%","\\%");S(ye,M,X,"%","\\%");S(A,M,X,"_","\\_");S(ye,M,X,"_","\\_");S(ye,M,X,"_","\\textunderscore");S(A,M,X,"","\\angle",!0);S(A,M,X,"","\\infty",!0);S(A,M,X,"","\\prime");S(A,M,X,"","\\triangle");S(A,M,X,"","\\Gamma",!0);S(A,M,X,"","\\Delta",!0);S(A,M,X,"","\\Theta",!0);S(A,M,X,"","\\Lambda",!0);S(A,M,X,"","\\Xi",!0);S(A,M,X,"","\\Pi",!0);S(A,M,X,"","\\Sigma",!0);S(A,M,X,"","\\Upsilon",!0);S(A,M,X,"","\\Phi",!0);S(A,M,X,"","\\Psi",!0);S(A,M,X,"","\\Omega",!0);S(A,M,X,"A","");S(A,M,X,"B","");S(A,M,X,"E","");S(A,M,X,"Z","");S(A,M,X,"H","");S(A,M,X,"I","");S(A,M,X,"K","");S(A,M,X,"M","");S(A,M,X,"N","");S(A,M,X,"O","");S(A,M,X,"P","");S(A,M,X,"T","");S(A,M,X,"X","");S(A,M,X,"","\\neg",!0);S(A,M,X,"","\\lnot");S(A,M,X,"","\\top");S(A,M,X,"","\\bot");S(A,M,X,"","\\emptyset");S(A,q,X,"","\\varnothing");S(A,M,He,"","\\alpha",!0);S(A,M,He,"","\\beta",!0);S(A,M,He,"","\\gamma",!0);S(A,M,He,"","\\delta",!0);S(A,M,He,"","\\epsilon",!0);S(A,M,He,"","\\zeta",!0);S(A,M,He,"","\\eta",!0);S(A,M,He,"","\\theta",!0);S(A,M,He,"","\\iota",!0);S(A,M,He,"","\\kappa",!0);S(A,M,He,"","\\lambda",!0);S(A,M,He,"","\\mu",!0);S(A,M,He,"","\\nu",!0);S(A,M,He,"","\\xi",!0);S(A,M,He,"","\\omicron",!0);S(A,M,He,"","\\pi",!0);S(A,M,He,"","\\rho",!0);S(A,M,He,"","\\sigma",!0);S(A,M,He,"","\\tau",!0);S(A,M,He,"","\\upsilon",!0);S(A,M,He,"","\\phi",!0);S(A,M,He,"","\\chi",!0);S(A,M,He,"","\\psi",!0);S(A,M,He,"","\\omega",!0);S(A,M,He,"","\\varepsilon",!0);S(A,M,He,"","\\vartheta",!0);S(A,M,He,"","\\varpi",!0);S(A,M,He,"","\\varrho",!0);S(A,M,He,"","\\varsigma",!0);S(A,M,He,"","\\varphi",!0);S(A,M,je,"","*",!0);S(A,M,je,"+","+");S(A,M,je,"","-",!0);S(A,M,je,"","\\cdot",!0);S(A,M,je,"","\\circ",!0);S(A,M,je,"","\\div",!0);S(A,M,je,"","\\pm",!0);S(A,M,je,"","\\times",!0);S(A,M,je,"","\\cap",!0);S(A,M,je,"","\\cup",!0);S(A,M,je,"","\\setminus",!0);S(A,M,je,"","\\land");S(A,M,je,"","\\lor");S(A,M,je,"","\\wedge",!0);S(A,M,je,"","\\vee",!0);S(A,M,X,"","\\surd");S(A,M,cn,"","\\langle",!0);S(A,M,cn,"","\\lvert");S(A,M,cn,"","\\lVert");S(A,M,jr,"?","?");S(A,M,jr,"!","!");S(A,M,jr,"","\\rangle",!0);S(A,M,jr,"","\\rvert");S(A,M,jr,"","\\rVert");S(A,M,U,"=","=");S(A,M,U,":",":");S(A,M,U,"","\\approx",!0);S(A,M,U,"","\\cong",!0);S(A,M,U,"","\\ge");S(A,M,U,"","\\geq",!0);S(A,M,U,"","\\gets");S(A,M,U,">","\\gt",!0);S(A,M,U,"","\\in",!0);S(A,M,U,"","\\@not");S(A,M,U,"","\\subset",!0);S(A,M,U,"","\\supset",!0);S(A,M,U,"","\\subseteq",!0);S(A,M,U,"","\\supseteq",!0);S(A,q,U,"","\\nsubseteq",!0);S(A,q,U,"","\\nsupseteq",!0);S(A,M,U,"","\\models");S(A,M,U,"","\\leftarrow",!0);S(A,M,U,"","\\le");S(A,M,U,"","\\leq",!0);S(A,M,U,"<","\\lt",!0);S(A,M,U,"","\\rightarrow",!0);S(A,M,U,"","\\to");S(A,q,U,"","\\ngeq",!0);S(A,q,U,"","\\nleq",!0);S(A,M,Ya,"","\\ ");S(A,M,Ya,"","\\space");S(A,M,Ya,"","\\nobreakspace");S(ye,M,Ya,"","\\ ");S(ye,M,Ya,""," ");S(ye,M,Ya,"","\\space");S(ye,M,Ya,"","\\nobreakspace");S(A,M,Ya,null,"\\nobreak");S(A,M,Ya,null,"\\allowbreak");S(A,M,pf,",",",");S(A,M,pf,";",";");S(A,q,je,"","\\barwedge",!0);S(A,q,je,"","\\veebar",!0);S(A,M,je,"","\\odot",!0);S(A,M,je,"","\\oplus",!0);S(A,M,je,"","\\otimes",!0);S(A,M,X,"","\\partial",!0);S(A,M,je,"","\\oslash",!0);S(A,q,je,"","\\circledcirc",!0);S(A,q,je,"","\\boxdot",!0);S(A,M,je,"","\\bigtriangleup");S(A,M,je,"","\\bigtriangledown");S(A,M,je,"","\\dagger");S(A,M,je,"","\\diamond");S(A,M,je,"","\\star");S(A,M,je,"","\\triangleleft");S(A,M,je,"","\\triangleright");S(A,M,cn,"{","\\{");S(ye,M,X,"{","\\{");S(ye,M,X,"{","\\textbraceleft");S(A,M,jr,"}","\\}");S(ye,M,X,"}","\\}");S(ye,M,X,"}","\\textbraceright");S(A,M,cn,"{","\\lbrace");S(A,M,jr,"}","\\rbrace");S(A,M,cn,"[","\\lbrack",!0);S(ye,M,X,"[","\\lbrack",!0);S(A,M,jr,"]","\\rbrack",!0);S(ye,M,X,"]","\\rbrack",!0);S(A,M,cn,"(","\\lparen",!0);S(A,M,jr,")","\\rparen",!0);S(ye,M,X,"<","\\textless",!0);S(ye,M,X,">","\\textgreater",!0);S(A,M,cn,"","\\lfloor",!0);S(A,M,jr,"","\\rfloor",!0);S(A,M,cn,"","\\lceil",!0);S(A,M,jr,"","\\rceil",!0);S(A,M,X,"\\","\\backslash");S(A,M,X,"","|");S(A,M,X,"","\\vert");S(ye,M,X,"|","\\textbar",!0);S(A,M,X,"","\\|");S(A,M,X,"","\\Vert");S(ye,M,X,"","\\textbardbl");S(ye,M,X,"~","\\textasciitilde");S(ye,M,X,"\\","\\textbackslash");S(ye,M,X,"^","\\textasciicircum");S(A,M,U,"","\\uparrow",!0);S(A,M,U,"","\\Uparrow",!0);S(A,M,U,"","\\downarrow",!0);S(A,M,U,"","\\Downarrow",!0);S(A,M,U,"","\\updownarrow",!0);S(A,M,U,"","\\Updownarrow",!0);S(A,M,er,"","\\coprod");S(A,M,er,"","\\bigvee");S(A,M,er,"","\\bigwedge");S(A,M,er,"","\\biguplus");S(A,M,er,"","\\bigcap");S(A,M,er,"","\\bigcup");S(A,M,er,"","\\int");S(A,M,er,"","\\intop");S(A,M,er,"","\\iint");S(A,M,er,"","\\iiint");S(A,M,er,"","\\prod");S(A,M,er,"","\\sum");S(A,M,er,"","\\bigotimes");S(A,M,er,"","\\bigoplus");S(A,M,er,"","\\bigodot");S(A,M,er,"","\\oint");S(A,M,er,"","\\oiint");S(A,M,er,"","\\oiiint");S(A,M,er,"","\\bigsqcup");S(A,M,er,"","\\smallint");S(ye,M,rl,"","\\textellipsis");S(A,M,rl,"","\\mathellipsis");S(ye,M,rl,"","\\ldots",!0);S(A,M,rl,"","\\ldots",!0);S(A,M,rl,"","\\@cdots",!0);S(A,M,rl,"","\\ddots",!0);S(A,M,X,"","\\varvdots");S(ye,M,X,"","\\varvdots");S(A,M,Dt,"","\\acute");S(A,M,Dt,"","\\grave");S(A,M,Dt,"","\\ddot");S(A,M,Dt,"~","\\tilde");S(A,M,Dt,"","\\bar");S(A,M,Dt,"","\\breve");S(A,M,Dt,"","\\check");S(A,M,Dt,"^","\\hat");S(A,M,Dt,"","\\vec");S(A,M,Dt,"","\\dot");S(A,M,Dt,"","\\mathring");S(A,M,He,"","\\@imath");S(A,M,He,"","\\@jmath");S(A,M,X,"","");S(A,M,X,"","");S(ye,M,X,"","\\i",!0);S(ye,M,X,"","\\j",!0);S(ye,M,X,"","\\ss",!0);S(ye,M,X,"","\\ae",!0);S(ye,M,X,"","\\oe",!0);S(ye,M,X,"","\\o",!0);S(ye,M,X,"","\\AE",!0);S(ye,M,X,"","\\OE",!0);S(ye,M,X,"","\\O",!0);S(ye,M,Dt,"","\\'");S(ye,M,Dt,"","\\`");S(ye,M,Dt,"","\\^");S(ye,M,Dt,"","\\~");S(ye,M,Dt,"","\\=");S(ye,M,Dt,"","\\u");S(ye,M,Dt,"","\\.");S(ye,M,Dt,"","\\c");S(ye,M,Dt,"","\\r");S(ye,M,Dt,"","\\v");S(ye,M,Dt,"",'\\"');S(ye,M,Dt,"","\\H");S(ye,M,Dt,"","\\textcircled");var Q7={"--":!0,"---":!0,"``":!0,"''":!0};S(ye,M,X,"","--",!0);S(ye,M,X,"","\\textendash");S(ye,M,X,"","---",!0);S(ye,M,X,"","\\textemdash");S(ye,M,X,"","`",!0);S(ye,M,X,"","\\textquoteleft");S(ye,M,X,"","'",!0);S(ye,M,X,"","\\textquoteright");S(ye,M,X,"","``",!0);S(ye,M,X,"","\\textquotedblleft");S(ye,M,X,"","''",!0);S(ye,M,X,"","\\textquotedblright");S(A,M,X,"","\\degree",!0);S(ye,M,X,"","\\degree");S(ye,M,X,"","\\textdegree",!0);S(A,M,X,"","\\pounds");S(A,M,X,"","\\mathsterling",!0);S(ye,M,X,"","\\pounds");S(ye,M,X,"","\\textsterling",!0);S(A,q,X,"","\\maltese");S(ye,q,X,"","\\maltese");var r5='0123456789/@."';for(var xm=0;xm<r5.length;xm++){var n5=r5.charAt(xm);S(A,M,X,n5,n5)}var a5='0123456789!@*()-=+";:?/.,';for(var vm=0;vm<a5.length;vm++){var s5=a5.charAt(vm);S(ye,M,X,s5,s5)}var Pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _m=0;_m<Pd.length;_m++){var Q0=Pd.charAt(_m);S(A,M,He,Q0,Q0),S(ye,M,X,Q0,Q0)}S(A,q,X,"C","");S(ye,q,X,"C","");S(A,q,X,"H","");S(ye,q,X,"H","");S(A,q,X,"N","");S(ye,q,X,"N","");S(A,q,X,"P","");S(ye,q,X,"P","");S(A,q,X,"Q","");S(ye,q,X,"Q","");S(A,q,X,"R","");S(ye,q,X,"R","");S(A,q,X,"Z","");S(ye,q,X,"Z","");S(A,M,He,"h","");S(ye,M,He,"h","");var Ze="";for(var Tr=0;Tr<Pd.length;Tr++){var Bt=Pd.charAt(Tr);Ze=String.fromCharCode(55349,56320+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56372+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56424+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56580+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56684+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56736+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56788+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56840+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56944+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Tr<26&&(Ze=String.fromCharCode(55349,56632+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze),Ze=String.fromCharCode(55349,56476+Tr),S(A,M,He,Bt,Ze),S(ye,M,X,Bt,Ze))}Ze="";S(A,M,He,"k",Ze);S(ye,M,X,"k",Ze);for(var ci=0;ci<10;ci++){var ks=ci.toString();Ze=String.fromCharCode(55349,57294+ci),S(A,M,He,ks,Ze),S(ye,M,X,ks,Ze),Ze=String.fromCharCode(55349,57314+ci),S(A,M,He,ks,Ze),S(ye,M,X,ks,Ze),Ze=String.fromCharCode(55349,57324+ci),S(A,M,He,ks,Ze),S(ye,M,X,ks,Ze),Ze=String.fromCharCode(55349,57334+ci),S(A,M,He,ks,Ze),S(ye,M,X,ks,Ze)}var wp="";for(var wm=0;wm<wp.length;wm++){var W0=wp.charAt(wm);S(A,M,He,W0,W0),S(ye,M,X,W0,W0)}var J0=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],i5=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],NH=function(t,r){var n=t.charCodeAt(0),a=t.charCodeAt(1),i=(n-55296)*1024+(a-56320)+65536,l=r==="math"?0:1;if(119808<=i&&i<120484){var u=Math.floor((i-119808)/26);return[J0[u][2],J0[u][l]]}else if(120782<=i&&i<=120831){var d=Math.floor((i-120782)/10);return[i5[d][2],i5[d][l]]}else{if(i===120485||i===120486)return[J0[0][2],J0[0][l]];if(120486<i&&i<120782)return["",""];throw new ke("Unsupported character: "+t)}},bf=function(t,r,n){return St[n][t]&&St[n][t].replace&&(t=St[n][t].replace),{value:t,metrics:R2(t,r,n)}},Mn=function(t,r,n,a,i){var l=bf(t,r,n),u=l.metrics;t=l.value;var d;if(u){var f=u.italic;(n==="text"||a&&a.font==="mathit")&&(f=0),d=new En(t,u.height,u.depth,f,u.skew,u.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),d=new En(t,0,0,0,0,0,i);if(a){d.maxFontSize=a.sizeMultiplier,a.style.isTight()&&d.classes.push("mtight");var m=a.getColor();m&&(d.style.color=m)}return d},DH=function(t,r,n,a){return a===void 0&&(a=[]),n.font==="boldsymbol"&&bf(t,"Main-Bold",r).metrics?Mn(t,"Main-Bold",r,n,a.concat(["mathbf"])):t==="\\"||St[r][t].font==="main"?Mn(t,"Main-Regular",r,n,a):Mn(t,"AMS-Regular",r,n,a.concat(["amsrm"]))},MH=function(t,r,n,a,i){return i!=="textord"&&bf(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},jH=function(t,r,n){var a=t.mode,i=t.text,l=["mord"],u=a==="math"||a==="text"&&r.font,d=u?r.font:r.fontFamily,f="",m="";if(i.charCodeAt(0)===55349&&([f,m]=NH(i,a)),f.length>0)return Mn(i,f,a,r,l.concat(m));if(d){var b,y;if(d==="boldsymbol"){var v=MH(i,a,r,l,n);b=v.fontName,y=[v.fontClass]}else u?(b=e9[d].fontName,y=[d]):(b=ed(d,r.fontWeight,r.fontShape),y=[d,r.fontWeight,r.fontShape]);if(bf(i,b,a).metrics)return Mn(i,b,a,r,l.concat(y));if(Q7.hasOwnProperty(i)&&b.slice(0,10)==="Typewriter"){for(var x=[],w=0;w<i.length;w++)x.push(Mn(i[w],b,a,r,l.concat(y)));return J7(x)}}if(n==="mathord")return Mn(i,"Math-Italic",a,r,l.concat(["mathnormal"]));if(n==="textord"){var k=St[a][i]&&St[a][i].font;if(k==="ams"){var E=ed("amsrm",r.fontWeight,r.fontShape);return Mn(i,E,a,r,l.concat("amsrm",r.fontWeight,r.fontShape))}else if(k==="main"||!k){var C=ed("textrm",r.fontWeight,r.fontShape);return Mn(i,C,a,r,l.concat(r.fontWeight,r.fontShape))}else{var j=ed(k,r.fontWeight,r.fontShape);return Mn(i,j,a,r,l.concat(j,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},zH=(e,t)=>{if(Bs(e.classes)!==Bs(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var a in t.style)if(t.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;return!0},OH=e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof En&&n instanceof En&&zH(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},L2=function(t){for(var r=0,n=0,a=0,i=0;i<t.children.length;i++){var l=t.children[i];l.height>r&&(r=l.height),l.depth>n&&(n=l.depth),l.maxFontSize>a&&(a=l.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=a},Ir=function(t,r,n,a){var i=new dc(t,r,n,a);return L2(i),i},W7=(e,t,r,n)=>new dc(e,t,r,n),RH=function(t,r,n){var a=Ir([t],[],r);return a.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),a.style.borderBottomWidth=Ae(a.height),a.maxFontSize=1,a},FH=function(t,r,n,a){var i=new F2(t,r,n,a);return L2(i),i},J7=function(t){var r=new cc(t);return L2(r),r},LH=function(t,r){return t instanceof cc?Ir([],[t],r):t},BH=function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],a=-r[0].shift-r[0].elem.depth,i=a,l=1;l<r.length;l++){var u=-r[l].shift-i-r[l].elem.depth,d=u-(r[l-1].elem.height+r[l-1].elem.depth);i=i+u,n.push({type:"kern",size:d}),n.push(r[l])}return{children:n,depth:a}}var f;if(t.positionType==="top"){for(var m=t.positionData,b=0;b<t.children.length;b++){var y=t.children[b];m-=y.type==="kern"?y.size:y.elem.height+y.elem.depth}f=m}else if(t.positionType==="bottom")f=-t.positionData;else{var v=t.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")f=-v.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")f=-v.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:f}},PH=function(t,r){for(var{children:n,depth:a}=BH(t),i=0,l=0;l<n.length;l++){var u=n[l];if(u.type==="elem"){var d=u.elem;i=Math.max(i,d.maxFontSize,d.height)}}i+=2;var f=Ir(["pstrut"],[]);f.style.height=Ae(i);for(var m=[],b=a,y=a,v=a,x=0;x<n.length;x++){var w=n[x];if(w.type==="kern")v+=w.size;else{var k=w.elem,E=w.wrapperClasses||[],C=w.wrapperStyle||{},j=Ir(E,[f,k],void 0,C);j.style.top=Ae(-i-v-k.depth),w.marginLeft&&(j.style.marginLeft=w.marginLeft),w.marginRight&&(j.style.marginRight=w.marginRight),m.push(j),v+=k.height+k.depth}b=Math.min(b,v),y=Math.max(y,v)}var F=Ir(["vlist"],m);F.style.height=Ae(y);var D;if(b<0){var O=Ir([],[]),$=Ir(["vlist"],[O]);$.style.height=Ae(-b);var B=Ir(["vlist-s"],[new En("")]);D=[Ir(["vlist-r"],[F,B]),Ir(["vlist-r"],[$])]}else D=[Ir(["vlist-r"],[F])];var Z=Ir(["vlist-t"],D);return D.length===2&&Z.classes.push("vlist-t2"),Z.height=y,Z.depth=-b,Z},IH=(e,t)=>{var r=Ir(["mspace"],[],t),n=Ot(e,t);return r.style.marginRight=Ae(n),r},ed=function(t,r,n){var a="";switch(t){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=t}var i;return r==="textbf"&&n==="textit"?i="BoldItalic":r==="textbf"?i="Bold":r==="textit"?i="Italic":i="Regular",a+"-"+i},e9={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},t9={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},$H=function(t,r){var[n,a,i]=t9[t],l=new Ps(n),u=new Va([l],{width:Ae(a),height:Ae(i),style:"width:"+Ae(a),viewBox:"0 0 "+1e3*a+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),d=W7(["overlay"],[u],r);return d.height=i,d.style.height=Ae(i),d.style.width=Ae(a),d},te={fontMap:e9,makeSymbol:Mn,mathsym:DH,makeSpan:Ir,makeSvgSpan:W7,makeLineSpan:RH,makeAnchor:FH,makeFragment:J7,wrapFragment:LH,makeVList:PH,makeOrd:jH,makeGlue:IH,staticSvg:$H,svgData:t9,tryCombineChars:OH},jt={number:3,unit:"mu"},di={number:4,unit:"mu"},Fa={number:5,unit:"mu"},HH={mord:{mop:jt,mbin:di,mrel:Fa,minner:jt},mop:{mord:jt,mop:jt,mrel:Fa,minner:jt},mbin:{mord:di,mop:di,mopen:di,minner:di},mrel:{mord:Fa,mop:Fa,mopen:Fa,minner:Fa},mopen:{},mclose:{mop:jt,mbin:di,mrel:Fa,minner:jt},mpunct:{mord:jt,mop:jt,mrel:Fa,mopen:jt,mclose:jt,mpunct:jt,minner:jt},minner:{mord:jt,mop:jt,mbin:di,mrel:Fa,mopen:jt,mpunct:jt,minner:jt}},qH={mord:{mop:jt},mop:{mord:jt,mop:jt},mbin:{},mrel:{},mopen:{},mclose:{mop:jt},mpunct:{},minner:{mop:jt}},r9={},Id={},$d={};function Te(e){for(var{type:t,names:r,props:n,handler:a,htmlBuilder:i,mathmlBuilder:l}=e,u={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:a},d=0;d<r.length;++d)r9[r[d]]=u;t&&(i&&(Id[t]=i),l&&($d[t]=l))}function Pi(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;Te({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Hd=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Gt=function(t){return t.type==="ordgroup"?t.body:[t]},Ga=te.makeSpan,UH=["leftmost","mbin","mopen","mrel","mop","mpunct"],VH=["rightmost","mrel","mclose","mpunct"],GH={display:qe.DISPLAY,text:qe.TEXT,script:qe.SCRIPT,scriptscript:qe.SCRIPTSCRIPT},ZH={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ir=function(t,r,n,a){a===void 0&&(a=[null,null]);for(var i=[],l=0;l<t.length;l++){var u=it(t[l],r);if(u instanceof cc){var d=u.children;i.push(...d)}else i.push(u)}if(te.tryCombineChars(i),!n)return i;var f=r;if(t.length===1){var m=t[0];m.type==="sizing"?f=r.havingSize(m.size):m.type==="styling"&&(f=r.havingStyle(GH[m.style]))}var b=Ga([a[0]||"leftmost"],[],r),y=Ga([a[1]||"rightmost"],[],r),v=n==="root";return o5(i,(x,w)=>{var k=w.classes[0],E=x.classes[0];k==="mbin"&&Ie.contains(VH,E)?w.classes[0]="mord":E==="mbin"&&Ie.contains(UH,k)&&(x.classes[0]="mord")},{node:b},y,v),o5(i,(x,w)=>{var k=kp(w),E=kp(x),C=k&&E?x.hasClass("mtight")?qH[k][E]:HH[k][E]:null;if(C)return te.makeGlue(C,f)},{node:b},y,v),i},o5=function e(t,r,n,a,i){a&&t.push(a);for(var l=0;l<t.length;l++){var u=t[l],d=n9(u);if(d){e(d.children,r,n,null,i);continue}var f=!u.hasClass("mspace");if(f){var m=r(u,n.node);m&&(n.insertAfter?n.insertAfter(m):(t.unshift(m),l++))}f?n.node=u:i&&u.hasClass("newline")&&(n.node=Ga(["leftmost"])),n.insertAfter=(b=>y=>{t.splice(b+1,0,y),l++})(l)}a&&t.pop()},n9=function(t){return t instanceof cc||t instanceof F2||t instanceof dc&&t.hasClass("enclosing")?t:null},KH=function e(t,r){var n=n9(t);if(n){var a=n.children;if(a.length){if(r==="right")return e(a[a.length-1],"right");if(r==="left")return e(a[0],"left")}}return t},kp=function(t,r){return t?(r&&(t=KH(t,r)),ZH[t.classes[0]]||null):null},Yu=function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return Ga(r.concat(n))},it=function(t,r,n){if(!t)return Ga();if(Id[t.type]){var a=Id[t.type](t,r);if(n&&r.size!==n.size){a=Ga(r.sizingClasses(n),[a],r);var i=r.sizeMultiplier/n.sizeMultiplier;a.height*=i,a.depth*=i}return a}else throw new ke("Got group of unknown type: '"+t.type+"'")};function td(e,t){var r=Ga(["base"],e,t),n=Ga(["strut"]);return n.style.height=Ae(r.height+r.depth),r.depth&&(n.style.verticalAlign=Ae(-r.depth)),r.children.unshift(n),r}function Sp(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=ir(e,t,"root"),a;n.length===2&&n[1].hasClass("tag")&&(a=n.pop());for(var i=[],l=[],u=0;u<n.length;u++)if(l.push(n[u]),n[u].hasClass("mbin")||n[u].hasClass("mrel")||n[u].hasClass("allowbreak")){for(var d=!1;u<n.length-1&&n[u+1].hasClass("mspace")&&!n[u+1].hasClass("newline");)u++,l.push(n[u]),n[u].hasClass("nobreak")&&(d=!0);d||(i.push(td(l,t)),l=[])}else n[u].hasClass("newline")&&(l.pop(),l.length>0&&(i.push(td(l,t)),l=[]),i.push(n[u]));l.length>0&&i.push(td(l,t));var f;r?(f=td(ir(r,t,!0)),f.classes=["tag"],i.push(f)):a&&i.push(a);var m=Ga(["katex-html"],i);if(m.setAttribute("aria-hidden","true"),f){var b=f.children[0];b.style.height=Ae(m.height+m.depth),m.depth&&(b.style.verticalAlign=Ae(-m.depth))}return m}function a9(e){return new cc(e)}class nn{constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Bs(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof ia&&this.children[n+1]instanceof ia){for(var a=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof ia;)a+=this.children[++n].toText();t.appendChild(new ia(a).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=Ie.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+Ie.escape(Bs(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class ia{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ie.escape(this.toText())}toText(){return this.text}}class YH{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Ae(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ae(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var _e={MathNode:nn,TextNode:ia,SpaceNode:YH,newDocumentFragment:a9},An=function(t,r,n){return St[r][t]&&St[r][t].replace&&t.charCodeAt(0)!==55349&&!(Q7.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=St[r][t].replace),new _e.TextNode(t)},B2=function(t){return t.length===1?t[0]:new _e.MathNode("mrow",t)},P2=function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var a=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var i=t.text;if(Ie.contains(["\\imath","\\jmath"],i))return null;St[a][i]&&St[a][i].replace&&(i=St[a][i].replace);var l=te.fontMap[n].fontName;return R2(i,l,a)?te.fontMap[n].variant:null};function km(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof ia&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof ia&&r.text===","}else return!1}var Zr=function(t,r,n){if(t.length===1){var a=vt(t[0],r);return n&&a instanceof nn&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var i=[],l,u=0;u<t.length;u++){var d=vt(t[u],r);if(d instanceof nn&&l instanceof nn){if(d.type==="mtext"&&l.type==="mtext"&&d.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...d.children);continue}else if(d.type==="mn"&&l.type==="mn"){l.children.push(...d.children);continue}else if(km(d)&&l.type==="mn"){l.children.push(...d.children);continue}else if(d.type==="mn"&&km(l))d.children=[...l.children,...d.children],i.pop();else if((d.type==="msup"||d.type==="msub")&&d.children.length>=1&&(l.type==="mn"||km(l))){var f=d.children[0];f instanceof nn&&f.type==="mn"&&(f.children=[...l.children,...f.children],i.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof ia&&m.text===""&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var b=d.children[0];b instanceof ia&&b.text.length>0&&(b.text=b.text.slice(0,1)+""+b.text.slice(1),i.pop())}}}i.push(d),l=d}return i},Is=function(t,r,n){return B2(Zr(t,r,n))},vt=function(t,r){if(!t)return new _e.MathNode("mrow");if($d[t.type]){var n=$d[t.type](t,r);return n}else throw new ke("Got group of unknown type: '"+t.type+"'")};function l5(e,t,r,n,a){var i=Zr(e,r),l;i.length===1&&i[0]instanceof nn&&Ie.contains(["mrow","mtable"],i[0].type)?l=i[0]:l=new _e.MathNode("mrow",i);var u=new _e.MathNode("annotation",[new _e.TextNode(t)]);u.setAttribute("encoding","application/x-tex");var d=new _e.MathNode("semantics",[l,u]),f=new _e.MathNode("math",[d]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&f.setAttribute("display","block");var m=a?"katex":"katex-mathml";return te.makeSpan([m],[f])}var s9=function(t){return new Ia({style:t.displayMode?qe.DISPLAY:qe.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},i9=function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=te.makeSpan(n,[t])}return t},XH=function(t,r,n){var a=s9(n),i;if(n.output==="mathml")return l5(t,r,a,n.displayMode,!0);if(n.output==="html"){var l=Sp(t,a);i=te.makeSpan(["katex"],[l])}else{var u=l5(t,r,a,n.displayMode,!1),d=Sp(t,a);i=te.makeSpan(["katex"],[u,d])}return i9(i,n)},QH=function(t,r,n){var a=s9(n),i=Sp(t,a),l=te.makeSpan(["katex"],[i]);return i9(l,n)},WH={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},JH=function(t){var r=new _e.MathNode("mo",[new _e.TextNode(WH[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},eq={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},tq=function(t){return t.type==="ordgroup"?t.body.length:1},rq=function(t,r){function n(){var u=4e5,d=t.label.slice(1);if(Ie.contains(["widehat","widecheck","widetilde","utilde"],d)){var f=t,m=tq(f.base),b,y,v;if(m>5)d==="widehat"||d==="widecheck"?(b=420,u=2364,v=.42,y=d+"4"):(b=312,u=2340,v=.34,y="tilde4");else{var x=[1,1,2,2,3,3][m];d==="widehat"||d==="widecheck"?(u=[0,1062,2364,2364,2364][x],b=[0,239,300,360,420][x],v=[0,.24,.3,.3,.36,.42][x],y=d+x):(u=[0,600,1033,2339,2340][x],b=[0,260,286,306,312][x],v=[0,.26,.286,.3,.306,.34][x],y="tilde"+x)}var w=new Ps(y),k=new Va([w],{width:"100%",height:Ae(v),viewBox:"0 0 "+u+" "+b,preserveAspectRatio:"none"});return{span:te.makeSvgSpan([],[k],r),minWidth:0,height:v}}else{var E=[],C=eq[d],[j,F,D]=C,O=D/1e3,$=j.length,B,Z;if($===1){var G=C[3];B=["hide-tail"],Z=[G]}else if($===2)B=["halfarrow-left","halfarrow-right"],Z=["xMinYMin","xMaxYMin"];else if($===3)B=["brace-left","brace-center","brace-right"],Z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+$+" children.");for(var L=0;L<$;L++){var H=new Ps(j[L]),re=new Va([H],{width:"400em",height:Ae(O),viewBox:"0 0 "+u+" "+D,preserveAspectRatio:Z[L]+" slice"}),he=te.makeSvgSpan([B[L]],[re],r);if($===1)return{span:he,minWidth:F,height:O};he.style.height=Ae(O),E.push(he)}return{span:te.makeSpan(["stretchy"],E,r),minWidth:F,height:O}}}var{span:a,minWidth:i,height:l}=n();return a.height=l,a.style.height=Ae(l),i>0&&(a.style.minWidth=Ae(i)),a},nq=function(t,r,n,a,i){var l,u=t.height+t.depth+n+a;if(/fbox|color|angl/.test(r)){if(l=te.makeSpan(["stretchy",r],[],i),r==="fbox"){var d=i.color&&i.getColor();d&&(l.style.borderColor=d)}}else{var f=[];/^[bx]cancel$/.test(r)&&f.push(new _p({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&f.push(new _p({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new Va(f,{width:"100%",height:Ae(u)});l=te.makeSvgSpan([],[m],i)}return l.height=u,l.style.height=Ae(u),l},Za={encloseSpan:nq,mathMLnode:JH,svgSpan:rq};function Qe(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function I2(e){var t=gf(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function gf(e){return e&&(e.type==="atom"||TH.hasOwnProperty(e.type))?e:null}var $2=(e,t)=>{var r,n,a;e&&e.type==="supsub"?(n=Qe(e.base,"accent"),r=n.base,e.base=r,a=AH(it(e,t)),e.base=n):(n=Qe(e,"accent"),r=n.base);var i=it(r,t.havingCrampedStyle()),l=n.isShifty&&Ie.isCharacterBox(r),u=0;if(l){var d=Ie.getBaseElem(r),f=it(d,t.havingCrampedStyle());u=t5(f).skew}var m=n.label==="\\c",b=m?i.height+i.depth:Math.min(i.height,t.fontMetrics().xHeight),y;if(n.isStretchy)y=Za.svgSpan(n,t),y=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:y,wrapperClasses:["svg-align"],wrapperStyle:u>0?{width:"calc(100% - "+Ae(2*u)+")",marginLeft:Ae(2*u)}:void 0}]},t);else{var v,x;n.label==="\\vec"?(v=te.staticSvg("vec",t),x=te.svgData.vec[1]):(v=te.makeOrd({mode:n.mode,text:n.label},t,"textord"),v=t5(v),v.italic=0,x=v.width,m&&(b+=v.depth)),y=te.makeSpan(["accent-body"],[v]);var w=n.label==="\\textcircled";w&&(y.classes.push("accent-full"),b=i.height);var k=u;w||(k-=x/2),y.style.left=Ae(k),n.label==="\\textcircled"&&(y.style.top=".2em"),y=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-b},{type:"elem",elem:y}]},t)}var E=te.makeSpan(["mord","accent"],[y],t);return a?(a.children[0]=E,a.height=Math.max(E.height,a.height),a.classes[0]="mord",a):E},o9=(e,t)=>{var r=e.isStretchy?Za.mathMLnode(e.label):new _e.MathNode("mo",[An(e.label,e.mode)]),n=new _e.MathNode("mover",[vt(e.base,t),r]);return n.setAttribute("accent","true"),n},aq=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Te({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=Hd(t[0]),n=!aq.test(e.funcName),a=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:a,base:r}},htmlBuilder:$2,mathmlBuilder:o9});Te({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:$2,mathmlBuilder:o9});Te({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:a}},htmlBuilder:(e,t)=>{var r=it(e.base,t),n=Za.svgSpan(e,t),a=e.label==="\\utilde"?.12:0,i=te.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:r}]},t);return te.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:(e,t)=>{var r=Za.mathMLnode(e.label),n=new _e.MathNode("munder",[vt(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var rd=e=>{var t=new _e.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Te({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:a}=e;return{type:"xArrow",mode:n.mode,label:a,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),a=te.wrapFragment(it(e.body,n,t),t),i=e.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(i+"-arrow-pad");var l;e.below&&(n=t.havingStyle(r.sub()),l=te.wrapFragment(it(e.below,n,t),t),l.classes.push(i+"-arrow-pad"));var u=Za.svgSpan(e,t),d=-t.fontMetrics().axisHeight+.5*u.height,f=-t.fontMetrics().axisHeight-.5*u.height-.111;(a.depth>.25||e.label==="\\xleftequilibrium")&&(f-=a.depth);var m;if(l){var b=-t.fontMetrics().axisHeight+l.height+.5*u.height+.111;m=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:f},{type:"elem",elem:u,shift:d},{type:"elem",elem:l,shift:b}]},t)}else m=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:f},{type:"elem",elem:u,shift:d}]},t);return m.children[0].children[0].children[1].classes.push("svg-align"),te.makeSpan(["mrel","x-arrow"],[m],t)},mathmlBuilder(e,t){var r=Za.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var a=rd(vt(e.body,t));if(e.below){var i=rd(vt(e.below,t));n=new _e.MathNode("munderover",[r,i,a])}else n=new _e.MathNode("mover",[r,a])}else if(e.below){var l=rd(vt(e.below,t));n=new _e.MathNode("munder",[r,l])}else n=rd(),n=new _e.MathNode("mover",[r,n]);return n}});var sq=te.makeSpan;function l9(e,t){var r=ir(e.body,t,!0);return sq([e.mclass],r,t)}function u9(e,t){var r,n=Zr(e.body,t);return e.mclass==="minner"?r=new _e.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new _e.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new _e.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Te({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Gt(a),isCharacterBox:Ie.isCharacterBox(a)}},htmlBuilder:l9,mathmlBuilder:u9});var yf=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Te({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:yf(t[0]),body:Gt(t[1]),isCharacterBox:Ie.isCharacterBox(t[1])}}});Te({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,a=t[1],i=t[0],l;n!=="\\stackrel"?l=yf(a):l="mrel";var u={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Gt(a)},d={type:"supsub",mode:i.mode,base:u,sup:n==="\\underset"?null:i,sub:n==="\\underset"?i:null};return{type:"mclass",mode:r.mode,mclass:l,body:[d],isCharacterBox:Ie.isCharacterBox(d)}},htmlBuilder:l9,mathmlBuilder:u9});Te({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:yf(t[0]),body:Gt(t[0])}},htmlBuilder(e,t){var r=ir(e.body,t,!0),n=te.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=Zr(e.body,t),n=new _e.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var iq={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},u5=()=>({type:"styling",body:[],mode:"math",style:"display"}),c5=e=>e.type==="textord"&&e.text==="@",oq=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function lq(e,t,r){var n=iq[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var a=r.callFunction("\\\\cdleft",[t[0]],[]),i={type:"atom",text:n,mode:"math",family:"rel"},l=r.callFunction("\\Big",[i],[]),u=r.callFunction("\\\\cdright",[t[1]],[]),d={type:"ordgroup",mode:"math",body:[a,l,u]};return r.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function uq(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ke("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],a=[n],i=0;i<t.length;i++){for(var l=t[i],u=u5(),d=0;d<l.length;d++)if(!c5(l[d]))u.body.push(l[d]);else{n.push(u),d+=1;var f=I2(l[d]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var b=0;b<2;b++){for(var y=!0,v=d+1;v<l.length;v++){if(oq(l[v],f)){y=!1,d=v;break}if(c5(l[v]))throw new ke("Missing a "+f+" character to complete a CD arrow.",l[v]);m[b].body.push(l[v])}if(y)throw new ke("Missing a "+f+" character to complete a CD arrow.",l[d])}else throw new ke('Expected one of "<>AV=|." after @',l[d]);var x=lq(f,m,e),w={type:"styling",body:[x],mode:"math",style:"display"};n.push(w),u=u5()}i%2===0?n.push(u):n.shift(),n=[],a.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var k=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:k,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}Te({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=te.wrapFragment(it(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=Ae(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new _e.MathNode("mrow",[vt(e.label,t)]);return r=new _e.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new _e.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Te({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=te.wrapFragment(it(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new _e.MathNode("mrow",[vt(e.fragment,t)])}});Te({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=Qe(t[0],"ordgroup"),a=n.body,i="",l=0;l<a.length;l++){var u=Qe(a[l],"textord");i+=u.text}var d=parseInt(i),f;if(isNaN(d))throw new ke("\\@char has non-numeric argument "+i);if(d<0||d>=1114111)throw new ke("\\@char with invalid code point "+i);return d<=65535?f=String.fromCharCode(d):(d-=65536,f=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:r.mode,text:f}}});var c9=(e,t)=>{var r=ir(e.body,t.withColor(e.color),!1);return te.makeFragment(r)},d9=(e,t)=>{var r=Zr(e.body,t.withColor(e.color)),n=new _e.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};Te({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=Qe(t[0],"color-token").color,a=t[1];return{type:"color",mode:r.mode,color:n,body:Gt(a)}},htmlBuilder:c9,mathmlBuilder:d9});Te({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,a=Qe(t[0],"color-token").color;r.gullet.macros.set("\\current@color",a);var i=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:a,body:i}},htmlBuilder:c9,mathmlBuilder:d9});Te({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,a=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,i=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:i,size:a&&Qe(a,"size").value}},htmlBuilder(e,t){var r=te.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=Ae(Ot(e.size,t)))),r},mathmlBuilder(e,t){var r=new _e.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",Ae(Ot(e.size,t)))),r}});var Ep={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},f9=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ke("Expected a control sequence",e);return t},cq=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},h9=(e,t,r,n)=>{var a=e.gullet.macros.get(r.text);a==null&&(r.noexpand=!0,a={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,a,n)};Te({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(Ep[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=Ep[n.text]),Qe(t.parseFunction(),"internal");throw new ke("Invalid token after macro prefix",n)}});Te({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),a=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new ke("Expected a control sequence",n);for(var i=0,l,u=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){l=t.gullet.future(),u[i].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new ke('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==i+1)throw new ke('Argument number "'+n.text+'" out of order');i++,u.push([])}else{if(n.text==="EOF")throw new ke("Expected a macro definition");u[i].push(n.text)}var{tokens:d}=t.gullet.consumeArg();return l&&d.unshift(l),(r==="\\edef"||r==="\\xdef")&&(d=t.gullet.expandTokens(d),d.reverse()),t.gullet.macros.set(a,{tokens:d,numArgs:i,delimiters:u},r===Ep[r]),{type:"internal",mode:t.mode}}});Te({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=f9(t.gullet.popToken());t.gullet.consumeSpaces();var a=cq(t);return h9(t,n,a,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});Te({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=f9(t.gullet.popToken()),a=t.gullet.popToken(),i=t.gullet.popToken();return h9(t,n,i,r==="\\\\globalfuture"),t.gullet.pushToken(i),t.gullet.pushToken(a),{type:"internal",mode:t.mode}}});var yu=function(t,r,n){var a=St.math[t]&&St.math[t].replace,i=R2(a||t,r,n);if(!i)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return i},H2=function(t,r,n,a){var i=n.havingBaseStyle(r),l=te.makeSpan(a.concat(i.sizingClasses(n)),[t],n),u=i.sizeMultiplier/n.sizeMultiplier;return l.height*=u,l.depth*=u,l.maxFontSize=i.sizeMultiplier,l},m9=function(t,r,n){var a=r.havingBaseStyle(n),i=(1-r.sizeMultiplier/a.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Ae(i),t.height-=i,t.depth+=i},dq=function(t,r,n,a,i,l){var u=te.makeSymbol(t,"Main-Regular",i,a),d=H2(u,r,a,l);return n&&m9(d,a,r),d},fq=function(t,r,n,a){return te.makeSymbol(t,"Size"+r+"-Regular",n,a)},p9=function(t,r,n,a,i,l){var u=fq(t,r,i,a),d=H2(te.makeSpan(["delimsizing","size"+r],[u],a),qe.TEXT,a,l);return n&&m9(d,a,qe.TEXT),d},Sm=function(t,r,n){var a;r==="Size1-Regular"?a="delim-size1":a="delim-size4";var i=te.makeSpan(["delimsizinginner",a],[te.makeSpan([],[te.makeSymbol(t,r,n)])]);return{type:"elem",elem:i}},Em=function(t,r,n){var a=sa["Size4-Regular"][t.charCodeAt(0)]?sa["Size4-Regular"][t.charCodeAt(0)][4]:sa["Size1-Regular"][t.charCodeAt(0)][4],i=new Ps("inner",gH(t,Math.round(1e3*r))),l=new Va([i],{width:Ae(a),height:Ae(r),style:"width:"+Ae(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),u=te.makeSvgSpan([],[l],n);return u.height=r,u.style.height=Ae(r),u.style.width=Ae(a),{type:"elem",elem:u}},Ap=.008,nd={type:"kern",size:-1*Ap},hq=["|","\\lvert","\\rvert","\\vert"],mq=["\\|","\\lVert","\\rVert","\\Vert"],b9=function(t,r,n,a,i,l){var u,d,f,m,b="",y=0;u=f=m=t,d=null;var v="Size1-Regular";t==="\\uparrow"?f=m="":t==="\\Uparrow"?f=m="":t==="\\downarrow"?u=f="":t==="\\Downarrow"?u=f="":t==="\\updownarrow"?(u="\\uparrow",f="",m="\\downarrow"):t==="\\Updownarrow"?(u="\\Uparrow",f="",m="\\Downarrow"):Ie.contains(hq,t)?(f="",b="vert",y=333):Ie.contains(mq,t)?(f="",b="doublevert",y=556):t==="["||t==="\\lbrack"?(u="",f="",m="",v="Size4-Regular",b="lbrack",y=667):t==="]"||t==="\\rbrack"?(u="",f="",m="",v="Size4-Regular",b="rbrack",y=667):t==="\\lfloor"||t===""?(f=u="",m="",v="Size4-Regular",b="lfloor",y=667):t==="\\lceil"||t===""?(u="",f=m="",v="Size4-Regular",b="lceil",y=667):t==="\\rfloor"||t===""?(f=u="",m="",v="Size4-Regular",b="rfloor",y=667):t==="\\rceil"||t===""?(u="",f=m="",v="Size4-Regular",b="rceil",y=667):t==="("||t==="\\lparen"?(u="",f="",m="",v="Size4-Regular",b="lparen",y=875):t===")"||t==="\\rparen"?(u="",f="",m="",v="Size4-Regular",b="rparen",y=875):t==="\\{"||t==="\\lbrace"?(u="",d="",m="",f="",v="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(u="",d="",m="",f="",v="Size4-Regular"):t==="\\lgroup"||t===""?(u="",m="",f="",v="Size4-Regular"):t==="\\rgroup"||t===""?(u="",m="",f="",v="Size4-Regular"):t==="\\lmoustache"||t===""?(u="",m="",f="",v="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(u="",m="",f="",v="Size4-Regular");var x=yu(u,v,i),w=x.height+x.depth,k=yu(f,v,i),E=k.height+k.depth,C=yu(m,v,i),j=C.height+C.depth,F=0,D=1;if(d!==null){var O=yu(d,v,i);F=O.height+O.depth,D=2}var $=w+j+F,B=Math.max(0,Math.ceil((r-$)/(D*E))),Z=$+B*D*E,G=a.fontMetrics().axisHeight;n&&(G*=a.sizeMultiplier);var L=Z/2-G,H=[];if(b.length>0){var re=Z-w-j,he=Math.round(Z*1e3),ce=yH(b,Math.round(re*1e3)),Y=new Ps(b,ce),ie=(y/1e3).toFixed(3)+"em",Ee=(he/1e3).toFixed(3)+"em",Be=new Va([Y],{width:ie,height:Ee,viewBox:"0 0 "+y+" "+he}),I=te.makeSvgSpan([],[Be],a);I.height=he/1e3,I.style.width=ie,I.style.height=Ee,H.push({type:"elem",elem:I})}else{if(H.push(Sm(m,v,i)),H.push(nd),d===null){var le=Z-w-j+2*Ap;H.push(Em(f,le,a))}else{var ue=(Z-w-j-F)/2+2*Ap;H.push(Em(f,ue,a)),H.push(nd),H.push(Sm(d,v,i)),H.push(nd),H.push(Em(f,ue,a))}H.push(nd),H.push(Sm(u,v,i))}var ge=a.havingBaseStyle(qe.TEXT),xe=te.makeVList({positionType:"bottom",positionData:L,children:H},ge);return H2(te.makeSpan(["delimsizing","mult"],[xe],ge),qe.TEXT,a,l)},Am=80,Cm=.08,Tm=function(t,r,n,a,i){var l=bH(t,a,n),u=new Ps(t,l),d=new Va([u],{width:"400em",height:Ae(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return te.makeSvgSpan(["hide-tail"],[d],i)},pq=function(t,r){var n=r.havingBaseSizing(),a=v9("\\surd",t*n.sizeMultiplier,x9,n),i=n.sizeMultiplier,l=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),u,d=0,f=0,m=0,b;return a.type==="small"?(m=1e3+1e3*l+Am,t<1?i=1:t<1.4&&(i=.7),d=(1+l+Cm)/i,f=(1+l)/i,u=Tm("sqrtMain",d,m,l,r),u.style.minWidth="0.853em",b=.833/i):a.type==="large"?(m=(1e3+Am)*Du[a.size],f=(Du[a.size]+l)/i,d=(Du[a.size]+l+Cm)/i,u=Tm("sqrtSize"+a.size,d,m,l,r),u.style.minWidth="1.02em",b=1/i):(d=t+l+Cm,f=t+l,m=Math.floor(1e3*t+l)+Am,u=Tm("sqrtTall",d,m,l,r),u.style.minWidth="0.742em",b=1.056),u.height=f,u.style.height=Ae(d),{span:u,advanceWidth:b,ruleWidth:(r.fontMetrics().sqrtRuleThickness+l)*i}},g9=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],bq=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],y9=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Du=[0,1.2,1.8,2.4,3],gq=function(t,r,n,a,i){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),Ie.contains(g9,t)||Ie.contains(y9,t))return p9(t,r,!1,n,a,i);if(Ie.contains(bq,t))return b9(t,Du[r],!1,n,a,i);throw new ke("Illegal delimiter: '"+t+"'")},yq=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],xq=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"stack"}],x9=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],vq=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},v9=function(t,r,n,a){for(var i=Math.min(2,3-a.style.size),l=i;l<n.length&&n[l].type!=="stack";l++){var u=yu(t,vq(n[l]),"math"),d=u.height+u.depth;if(n[l].type==="small"){var f=a.havingBaseStyle(n[l].style);d*=f.sizeMultiplier}if(d>r)return n[l]}return n[n.length-1]},_9=function(t,r,n,a,i,l){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var u;Ie.contains(y9,t)?u=yq:Ie.contains(g9,t)?u=x9:u=xq;var d=v9(t,r,u,a);return d.type==="small"?dq(t,d.style,n,a,i,l):d.type==="large"?p9(t,d.size,n,a,i,l):b9(t,r,n,a,i,l)},_q=function(t,r,n,a,i,l){var u=a.fontMetrics().axisHeight*a.sizeMultiplier,d=901,f=5/a.fontMetrics().ptPerEm,m=Math.max(r-u,n+u),b=Math.max(m/500*d,2*m-f);return _9(t,b,!0,a,i,l)},qa={sqrtImage:pq,sizedDelim:gq,sizeToMaxHeight:Du,customSizedDelim:_9,leftRightDelim:_q},d5={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},wq=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function xf(e,t){var r=gf(e);if(r&&Ie.contains(wq,r.text))return r;throw r?new ke("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new ke("Invalid delimiter type '"+e.type+"'",e)}Te({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=xf(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:d5[e.funcName].size,mclass:d5[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>e.delim==="."?te.makeSpan([e.mclass]):qa.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(An(e.delim,e.mode));var r=new _e.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=Ae(qa.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function f5(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Te({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new ke("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:xf(t[0],e).text,color:r}}});Te({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=xf(t[0],e),n=e.parser;++n.leftrightDepth;var a=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var i=Qe(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:a,left:r.text,right:i.delim,rightColor:i.color}},htmlBuilder:(e,t)=>{f5(e);for(var r=ir(e.body,t,!0,["mopen","mclose"]),n=0,a=0,i=!1,l=0;l<r.length;l++)r[l].isMiddle?i=!0:(n=Math.max(r[l].height,n),a=Math.max(r[l].depth,a));n*=t.sizeMultiplier,a*=t.sizeMultiplier;var u;if(e.left==="."?u=Yu(t,["mopen"]):u=qa.leftRightDelim(e.left,n,a,t,e.mode,["mopen"]),r.unshift(u),i)for(var d=1;d<r.length;d++){var f=r[d],m=f.isMiddle;m&&(r[d]=qa.leftRightDelim(m.delim,n,a,m.options,e.mode,[]))}var b;if(e.right===".")b=Yu(t,["mclose"]);else{var y=e.rightColor?t.withColor(e.rightColor):t;b=qa.leftRightDelim(e.right,n,a,y,e.mode,["mclose"])}return r.push(b),te.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{f5(e);var r=Zr(e.body,t);if(e.left!=="."){var n=new _e.MathNode("mo",[An(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var a=new _e.MathNode("mo",[An(e.right,e.mode)]);a.setAttribute("fence","true"),e.rightColor&&a.setAttribute("mathcolor",e.rightColor),r.push(a)}return B2(r)}});Te({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=xf(t[0],e);if(!e.parser.leftrightDepth)throw new ke("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if(e.delim===".")r=Yu(t,[]);else{r=qa.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?An("|","text"):An(e.delim,e.mode),n=new _e.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var q2=(e,t)=>{var r=te.wrapFragment(it(e.body,t),t),n=e.label.slice(1),a=t.sizeMultiplier,i,l=0,u=Ie.isCharacterBox(e.body);if(n==="sout")i=te.makeSpan(["stretchy","sout"]),i.height=t.fontMetrics().defaultRuleThickness/a,l=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var d=Ot({number:.6,unit:"pt"},t),f=Ot({number:.35,unit:"ex"},t),m=t.havingBaseSizing();a=a/m.sizeMultiplier;var b=r.height+r.depth+d+f;r.style.paddingLeft=Ae(b/2+d);var y=Math.floor(1e3*b*a),v=mH(y),x=new Va([new Ps("phase",v)],{width:"400em",height:Ae(y/1e3),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});i=te.makeSvgSpan(["hide-tail"],[x],t),i.style.height=Ae(b),l=r.depth+d+f}else{/cancel/.test(n)?u||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var w=0,k=0,E=0;/box/.test(n)?(E=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),w=t.fontMetrics().fboxsep+(n==="colorbox"?0:E),k=w):n==="angl"?(E=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),w=4*E,k=Math.max(0,.25-r.depth)):(w=u?.2:0,k=w),i=Za.encloseSpan(r,n,w,k,t),/fbox|boxed|fcolorbox/.test(n)?(i.style.borderStyle="solid",i.style.borderWidth=Ae(E)):n==="angl"&&E!==.049&&(i.style.borderTopWidth=Ae(E),i.style.borderRightWidth=Ae(E)),l=r.depth+k,e.backgroundColor&&(i.style.backgroundColor=e.backgroundColor,e.borderColor&&(i.style.borderColor=e.borderColor))}var C;if(e.backgroundColor)C=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:l},{type:"elem",elem:r,shift:0}]},t);else{var j=/cancel|phase/.test(n)?["svg-align"]:[];C=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:i,shift:l,wrapperClasses:j}]},t)}return/cancel/.test(n)&&(C.height=r.height,C.depth=r.depth),/cancel/.test(n)&&!u?te.makeSpan(["mord","cancel-lap"],[C],t):te.makeSpan(["mord"],[C],t)},U2=(e,t)=>{var r=0,n=new _e.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[vt(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var a=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+a+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};Te({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:a}=e,i=Qe(t[0],"color-token").color,l=t[1];return{type:"enclose",mode:n.mode,label:a,backgroundColor:i,body:l}},htmlBuilder:q2,mathmlBuilder:U2});Te({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:a}=e,i=Qe(t[0],"color-token").color,l=Qe(t[1],"color-token").color,u=t[2];return{type:"enclose",mode:n.mode,label:a,backgroundColor:l,borderColor:i,body:u}},htmlBuilder:q2,mathmlBuilder:U2});Te({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});Te({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"enclose",mode:r.mode,label:n,body:a}},htmlBuilder:q2,mathmlBuilder:U2});Te({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var w9={};function ma(e){for(var{type:t,names:r,props:n,handler:a,htmlBuilder:i,mathmlBuilder:l}=e,u={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},d=0;d<r.length;++d)w9[r[d]]=u;i&&(Id[t]=i),l&&($d[t]=l)}var k9={};function R(e,t){k9[e]=t}function h5(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}var vf=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ke("{"+e.envName+"} can be used only in display mode.")};function V2(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function $s(e,t,r){var{hskipBeforeAndAfter:n,addJot:a,cols:i,arraystretch:l,colSeparationType:u,autoTag:d,singleRow:f,emptySingleRow:m,maxNumCols:b,leqno:y}=t;if(e.gullet.beginGroup(),f||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var v=e.gullet.expandMacroAsText("\\arraystretch");if(v==null)l=1;else if(l=parseFloat(v),!l||l<0)throw new ke("Invalid \\arraystretch: "+v)}e.gullet.beginGroup();var x=[],w=[x],k=[],E=[],C=d!=null?[]:void 0;function j(){d&&e.gullet.macros.set("\\@eqnsw","1",!0)}function F(){C&&(e.gullet.macros.get("\\df@tag")?(C.push(e.subparse([new kn("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):C.push(!!d&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(j(),E.push(h5(e));;){var D=e.parseExpression(!1,f?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),D={type:"ordgroup",mode:e.mode,body:D},r&&(D={type:"styling",mode:e.mode,style:r,body:[D]}),x.push(D);var O=e.fetch().text;if(O==="&"){if(b&&x.length===b){if(f||u)throw new ke("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(O==="\\end"){F(),x.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(w.length>1||!m)&&w.pop(),E.length<w.length+1&&E.push([]);break}else if(O==="\\\\"){e.consume();var $=void 0;e.gullet.future().text!==" "&&($=e.parseSizeGroup(!0)),k.push($?$.value:null),F(),E.push(h5(e)),x=[],w.push(x),j()}else throw new ke("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:a,arraystretch:l,body:w,cols:i,rowGaps:k,hskipBeforeAndAfter:n,hLinesBeforeRow:E,colSeparationType:u,tags:C,leqno:y}}function G2(e){return e.slice(0,1)==="d"?"display":"text"}var pa=function(t,r){var n,a,i=t.body.length,l=t.hLinesBeforeRow,u=0,d=new Array(i),f=[],m=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),b=1/r.fontMetrics().ptPerEm,y=5*b;if(t.colSeparationType&&t.colSeparationType==="small"){var v=r.havingStyle(qe.SCRIPT).sizeMultiplier;y=.2778*(v/r.sizeMultiplier)}var x=t.colSeparationType==="CD"?Ot({number:3,unit:"ex"},r):12*b,w=3*b,k=t.arraystretch*x,E=.7*k,C=.3*k,j=0;function F(Cn){for(var Re=0;Re<Cn.length;++Re)Re>0&&(j+=.25),f.push({pos:j,isDashed:Cn[Re]})}for(F(l[0]),n=0;n<t.body.length;++n){var D=t.body[n],O=E,$=C;u<D.length&&(u=D.length);var B=new Array(D.length);for(a=0;a<D.length;++a){var Z=it(D[a],r);$<Z.depth&&($=Z.depth),O<Z.height&&(O=Z.height),B[a]=Z}var G=t.rowGaps[n],L=0;G&&(L=Ot(G,r),L>0&&(L+=C,$<L&&($=L),L=0)),t.addJot&&($+=w),B.height=O,B.depth=$,j+=O,B.pos=j,j+=$+L,d[n]=B,F(l[n+1])}var H=j/2+r.fontMetrics().axisHeight,re=t.cols||[],he=[],ce,Y,ie=[];if(t.tags&&t.tags.some(Cn=>Cn))for(n=0;n<i;++n){var Ee=d[n],Be=Ee.pos-H,I=t.tags[n],le=void 0;I===!0?le=te.makeSpan(["eqn-num"],[],r):I===!1?le=te.makeSpan([],[],r):le=te.makeSpan([],ir(I,r,!0),r),le.depth=Ee.depth,le.height=Ee.height,ie.push({type:"elem",elem:le,shift:Be})}for(a=0,Y=0;a<u||Y<re.length;++a,++Y){for(var ue=re[Y]||{},ge=!0;ue.type==="separator";){if(ge||(ce=te.makeSpan(["arraycolsep"],[]),ce.style.width=Ae(r.fontMetrics().doubleRuleSep),he.push(ce)),ue.separator==="|"||ue.separator===":"){var xe=ue.separator==="|"?"solid":"dashed",Oe=te.makeSpan(["vertical-separator"],[],r);Oe.style.height=Ae(j),Oe.style.borderRightWidth=Ae(m),Oe.style.borderRightStyle=xe,Oe.style.margin="0 "+Ae(-m/2);var ze=j-H;ze&&(Oe.style.verticalAlign=Ae(-ze)),he.push(Oe)}else throw new ke("Invalid separator type: "+ue.separator);Y++,ue=re[Y]||{},ge=!1}if(!(a>=u)){var mt=void 0;(a>0||t.hskipBeforeAndAfter)&&(mt=Ie.deflt(ue.pregap,y),mt!==0&&(ce=te.makeSpan(["arraycolsep"],[]),ce.style.width=Ae(mt),he.push(ce)));var We=[];for(n=0;n<i;++n){var $t=d[n],xr=$t[a];if(xr){var dn=$t.pos-H;xr.depth=$t.depth,xr.height=$t.height,We.push({type:"elem",elem:xr,shift:dn})}}We=te.makeVList({positionType:"individualShift",children:We},r),We=te.makeSpan(["col-align-"+(ue.align||"c")],[We]),he.push(We),(a<u-1||t.hskipBeforeAndAfter)&&(mt=Ie.deflt(ue.postgap,y),mt!==0&&(ce=te.makeSpan(["arraycolsep"],[]),ce.style.width=Ae(mt),he.push(ce)))}}if(d=te.makeSpan(["mtable"],he),f.length>0){for(var vr=te.makeLineSpan("hline",r,m),tr=te.makeLineSpan("hdashline",r,m),Ar=[{type:"elem",elem:d,shift:0}];f.length>0;){var qn=f.pop(),Xa=qn.pos-H;qn.isDashed?Ar.push({type:"elem",elem:tr,shift:Xa}):Ar.push({type:"elem",elem:vr,shift:Xa})}d=te.makeVList({positionType:"individualShift",children:Ar},r)}if(ie.length===0)return te.makeSpan(["mord"],[d],r);var or=te.makeVList({positionType:"individualShift",children:ie},r);return or=te.makeSpan(["tag"],[or],r),te.makeFragment([d,or])},kq={c:"center ",l:"left ",r:"right "},ba=function(t,r){for(var n=[],a=new _e.MathNode("mtd",[],["mtr-glue"]),i=new _e.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<t.body.length;l++){for(var u=t.body[l],d=[],f=0;f<u.length;f++)d.push(new _e.MathNode("mtd",[vt(u[f],r)]));t.tags&&t.tags[l]&&(d.unshift(a),d.push(a),t.leqno?d.unshift(i):d.push(i)),n.push(new _e.MathNode("mtr",d))}var m=new _e.MathNode("mtable",n),b=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);m.setAttribute("rowspacing",Ae(b));var y="",v="";if(t.cols&&t.cols.length>0){var x=t.cols,w="",k=!1,E=0,C=x.length;x[0].type==="separator"&&(y+="top ",E=1),x[x.length-1].type==="separator"&&(y+="bottom ",C-=1);for(var j=E;j<C;j++)x[j].type==="align"?(v+=kq[x[j].align],k&&(w+="none "),k=!0):x[j].type==="separator"&&k&&(w+=x[j].separator==="|"?"solid ":"dashed ",k=!1);m.setAttribute("columnalign",v.trim()),/[sd]/.test(w)&&m.setAttribute("columnlines",w.trim())}if(t.colSeparationType==="align"){for(var F=t.cols||[],D="",O=1;O<F.length;O++)D+=O%2?"0em ":"1em ";m.setAttribute("columnspacing",D.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var $="",B=t.hLinesBeforeRow;y+=B[0].length>0?"left ":"",y+=B[B.length-1].length>0?"right ":"";for(var Z=1;Z<B.length-1;Z++)$+=B[Z].length===0?"none ":B[Z][0]?"dashed ":"solid ";return/[sd]/.test($)&&m.setAttribute("rowlines",$.trim()),y!==""&&(m=new _e.MathNode("menclose",[m]),m.setAttribute("notation",y.trim())),t.arraystretch&&t.arraystretch<1&&(m=new _e.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},S9=function(t,r){t.envName.indexOf("ed")===-1&&vf(t);var n=[],a=t.envName.indexOf("at")>-1?"alignat":"align",i=t.envName==="split",l=$s(t.parser,{cols:n,addJot:!0,autoTag:i?void 0:V2(t.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:i?2:void 0,leqno:t.parser.settings.leqno},"display"),u,d=0,f={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var m="",b=0;b<r[0].body.length;b++){var y=Qe(r[0].body[b],"textord");m+=y.text}u=Number(m),d=u*2}var v=!d;l.body.forEach(function(E){for(var C=1;C<E.length;C+=2){var j=Qe(E[C],"styling"),F=Qe(j.body[0],"ordgroup");F.body.unshift(f)}if(v)d<E.length&&(d=E.length);else{var D=E.length/2;if(u<D)throw new ke("Too many math in a row: "+("expected "+u+", but got "+D),E[0])}});for(var x=0;x<d;++x){var w="r",k=0;x%2===1?w="l":x>0&&v&&(k=1),n[x]={type:"align",align:w,pregap:k,postgap:0}}return l.colSeparationType=v?"align":"alignat",l};ma({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=gf(t[0]),n=r?[t[0]]:Qe(t[0],"ordgroup").body,a=n.map(function(l){var u=I2(l),d=u.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new ke("Unknown column alignment: "+d,l)}),i={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return $s(e.parser,i,G2(e.envName))},htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var a=e.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),r=a.fetch().text,"lcr".indexOf(r)===-1)throw new ke("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),n.cols=[{type:"align",align:r}]}}var i=$s(e.parser,n,G2(e.envName)),l=Math.max(0,...i.body.map(u=>u.length));return i.cols=new Array(l).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[i],left:t[0],right:t[1],rightColor:void 0}:i},htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=$s(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=gf(t[0]),n=r?[t[0]]:Qe(t[0],"ordgroup").body,a=n.map(function(l){var u=I2(l),d=u.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new ke("Unknown column alignment: "+d,l)});if(a.length>1)throw new ke("{subarray} can contain only one column");var i={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=$s(e.parser,i,"script"),i.body.length>0&&i.body[0].length>1)throw new ke("{subarray} can contain only one column");return i},htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=$s(e.parser,t,G2(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:S9,htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){Ie.contains(["gather","gather*"],e.envName)&&vf(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:V2(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return $s(e.parser,t,"display")},htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:S9,htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){vf(e);var t={autoTag:V2(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return $s(e.parser,t,"display")},htmlBuilder:pa,mathmlBuilder:ba});ma({type:"array",names:["CD"],props:{numArgs:0},handler(e){return vf(e),uq(e.parser)},htmlBuilder:pa,mathmlBuilder:ba});R("\\nonumber","\\gdef\\@eqnsw{0}");R("\\notag","\\nonumber");Te({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ke(e.funcName+" valid only within array environment")}});var m5=w9;Te({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];if(a.type!=="ordgroup")throw new ke("Invalid environment name",a);for(var i="",l=0;l<a.body.length;++l)i+=Qe(a.body[l],"textord").text;if(n==="\\begin"){if(!m5.hasOwnProperty(i))throw new ke("No such environment: "+i,a);var u=m5[i],{args:d,optArgs:f}=r.parseArguments("\\begin{"+i+"}",u),m={mode:r.mode,envName:i,parser:r},b=u.handler(m,d,f);r.expect("\\end",!1);var y=r.nextToken,v=Qe(r.parseFunction(),"environment");if(v.name!==i)throw new ke("Mismatch: \\begin{"+i+"} matched by \\end{"+v.name+"}",y);return b}return{type:"environment",mode:r.mode,name:i,nameGroup:a}}});var E9=(e,t)=>{var r=e.font,n=t.withFont(r);return it(e.body,n)},A9=(e,t)=>{var r=e.font,n=t.withFont(r);return vt(e.body,n)},p5={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Te({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=Hd(t[0]),i=n;return i in p5&&(i=p5[i]),{type:"font",mode:r.mode,font:i.slice(1),body:a}},htmlBuilder:E9,mathmlBuilder:A9});Te({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],a=Ie.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:yf(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:a}}});Te({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:a}=e,{mode:i}=r,l=r.parseExpression(!0,a),u="math"+n.slice(1);return{type:"font",mode:i,font:u,body:{type:"ordgroup",mode:r.mode,body:l}}},htmlBuilder:E9,mathmlBuilder:A9});var C9=(e,t)=>{var r=t;return e==="display"?r=r.id>=qe.SCRIPT.id?r.text():qe.DISPLAY:e==="text"&&r.size===qe.DISPLAY.size?r=qe.TEXT:e==="script"?r=qe.SCRIPT:e==="scriptscript"&&(r=qe.SCRIPTSCRIPT),r},Z2=(e,t)=>{var r=C9(e.size,t.style),n=r.fracNum(),a=r.fracDen(),i;i=t.havingStyle(n);var l=it(e.numer,i,t);if(e.continued){var u=8.5/t.fontMetrics().ptPerEm,d=3.5/t.fontMetrics().ptPerEm;l.height=l.height<u?u:l.height,l.depth=l.depth<d?d:l.depth}i=t.havingStyle(a);var f=it(e.denom,i,t),m,b,y;e.hasBarLine?(e.barSize?(b=Ot(e.barSize,t),m=te.makeLineSpan("frac-line",t,b)):m=te.makeLineSpan("frac-line",t),b=m.height,y=m.height):(m=null,b=0,y=t.fontMetrics().defaultRuleThickness);var v,x,w;r.size===qe.DISPLAY.size||e.size==="display"?(v=t.fontMetrics().num1,b>0?x=3*y:x=7*y,w=t.fontMetrics().denom1):(b>0?(v=t.fontMetrics().num2,x=y):(v=t.fontMetrics().num3,x=3*y),w=t.fontMetrics().denom2);var k;if(m){var C=t.fontMetrics().axisHeight;v-l.depth-(C+.5*b)<x&&(v+=x-(v-l.depth-(C+.5*b))),C-.5*b-(f.height-w)<x&&(w+=x-(C-.5*b-(f.height-w)));var j=-(C-.5*b);k=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:w},{type:"elem",elem:m,shift:j},{type:"elem",elem:l,shift:-v}]},t)}else{var E=v-l.depth-(f.height-w);E<x&&(v+=.5*(x-E),w+=.5*(x-E)),k=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:w},{type:"elem",elem:l,shift:-v}]},t)}i=t.havingStyle(r),k.height*=i.sizeMultiplier/t.sizeMultiplier,k.depth*=i.sizeMultiplier/t.sizeMultiplier;var F;r.size===qe.DISPLAY.size?F=t.fontMetrics().delim1:r.size===qe.SCRIPTSCRIPT.size?F=t.havingStyle(qe.SCRIPT).fontMetrics().delim2:F=t.fontMetrics().delim2;var D,O;return e.leftDelim==null?D=Yu(t,["mopen"]):D=qa.customSizedDelim(e.leftDelim,F,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?O=te.makeSpan([]):e.rightDelim==null?O=Yu(t,["mclose"]):O=qa.customSizedDelim(e.rightDelim,F,!0,t.havingStyle(r),e.mode,["mclose"]),te.makeSpan(["mord"].concat(i.sizingClasses(t)),[D,te.makeSpan(["mfrac"],[k]),O],t)},K2=(e,t)=>{var r=new _e.MathNode("mfrac",[vt(e.numer,t),vt(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=Ot(e.barSize,t);r.setAttribute("linethickness",Ae(n))}var a=C9(e.size,t.style);if(a.size!==t.style.size){r=new _e.MathNode("mstyle",[r]);var i=a.size===qe.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",i),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var l=[];if(e.leftDelim!=null){var u=new _e.MathNode("mo",[new _e.TextNode(e.leftDelim.replace("\\",""))]);u.setAttribute("fence","true"),l.push(u)}if(l.push(r),e.rightDelim!=null){var d=new _e.MathNode("mo",[new _e.TextNode(e.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),l.push(d)}return B2(l)}return r};Te({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=t[1],l,u=null,d=null,f="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,u="(",d=")";break;case"\\\\bracefrac":l=!1,u="\\{",d="\\}";break;case"\\\\brackfrac":l=!1,u="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:a,denom:i,hasBarLine:l,leftDelim:u,rightDelim:d,size:f,barSize:null}},htmlBuilder:Z2,mathmlBuilder:K2});Te({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:a,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Te({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,a;switch(r){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:a,token:n}}});var b5=["display","text","script","scriptscript"],g5=function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r};Te({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],a=t[5],i=Hd(t[0]),l=i.type==="atom"&&i.family==="open"?g5(i.text):null,u=Hd(t[1]),d=u.type==="atom"&&u.family==="close"?g5(u.text):null,f=Qe(t[2],"size"),m,b=null;f.isBlank?m=!0:(b=f.value,m=b.number>0);var y="auto",v=t[3];if(v.type==="ordgroup"){if(v.body.length>0){var x=Qe(v.body[0],"textord");y=b5[Number(x.text)]}}else v=Qe(v,"textord"),y=b5[Number(v.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:a,continued:!1,hasBarLine:m,barSize:b,leftDelim:l,rightDelim:d,size:y}},htmlBuilder:Z2,mathmlBuilder:K2});Te({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:a}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Qe(t[0],"size").value,token:a}}});Te({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],i=J$(Qe(t[1],"infix").size),l=t[2],u=i.number>0;return{type:"genfrac",mode:r.mode,numer:a,denom:l,continued:!1,hasBarLine:u,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Z2,mathmlBuilder:K2});var T9=(e,t)=>{var r=t.style,n,a;e.type==="supsub"?(n=e.sup?it(e.sup,t.havingStyle(r.sup()),t):it(e.sub,t.havingStyle(r.sub()),t),a=Qe(e.base,"horizBrace")):a=Qe(e,"horizBrace");var i=it(a.base,t.havingBaseStyle(qe.DISPLAY)),l=Za.svgSpan(a,t),u;if(a.isOver?(u=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:l}]},t),u.children[0].children[0].children[1].classes.push("svg-align")):(u=te.makeVList({positionType:"bottom",positionData:i.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:i}]},t),u.children[0].children[0].children[0].classes.push("svg-align")),n){var d=te.makeSpan(["mord",a.isOver?"mover":"munder"],[u],t);a.isOver?u=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:n}]},t):u=te.makeVList({positionType:"bottom",positionData:d.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:d}]},t)}return te.makeSpan(["mord",a.isOver?"mover":"munder"],[u],t)},Sq=(e,t)=>{var r=Za.mathMLnode(e.label);return new _e.MathNode(e.isOver?"mover":"munder",[vt(e.base,t),r])};Te({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:T9,mathmlBuilder:Sq});Te({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],a=Qe(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:r.mode,href:a,body:Gt(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=ir(e.body,t,!1);return te.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=Is(e.body,t);return r instanceof nn||(r=new nn("mrow",[r])),r.setAttribute("href",e.href),r}});Te({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=Qe(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var a=[],i=0;i<n.length;i++){var l=n[i];l==="~"&&(l="\\textasciitilde"),a.push({type:"textord",mode:"text",text:l})}var u={type:"text",mode:r.mode,font:"\\texttt",body:a};return{type:"href",mode:r.mode,href:n,body:Gt(u)}}});Te({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:Gt(t[0])}},htmlBuilder(e,t){var r=ir(e.body,t,!1);return te.makeFragment(r)},mathmlBuilder(e,t){return new _e.MathNode("mrow",Zr(e.body,t))}});Te({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,token:a}=e,i=Qe(t[0],"raw").string,l=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u,d={};switch(n){case"\\htmlClass":d.class=i,u={command:"\\htmlClass",class:i};break;case"\\htmlId":d.id=i,u={command:"\\htmlId",id:i};break;case"\\htmlStyle":d.style=i,u={command:"\\htmlStyle",style:i};break;case"\\htmlData":{for(var f=i.split(","),m=0;m<f.length;m++){var b=f[m].split("=");if(b.length!==2)throw new ke("Error parsing key-value for \\htmlData");d["data-"+b[0].trim()]=b[1].trim()}u={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(u)?{type:"html",mode:r.mode,attributes:d,body:Gt(l)}:r.formatUnsupportedCmd(n)},htmlBuilder:(e,t)=>{var r=ir(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var a=te.makeSpan(n,r,t);for(var i in e.attributes)i!=="class"&&e.attributes.hasOwnProperty(i)&&a.setAttribute(i,e.attributes[i]);return a},mathmlBuilder:(e,t)=>Is(e.body,t)});Te({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:Gt(t[0]),mathml:Gt(t[1])}},htmlBuilder:(e,t)=>{var r=ir(e.html,t,!1);return te.makeFragment(r)},mathmlBuilder:(e,t)=>Is(e.mathml,t)});var Nm=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new ke("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!Z7(n))throw new ke("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Te({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,a={number:0,unit:"em"},i={number:.9,unit:"em"},l={number:0,unit:"em"},u="";if(r[0])for(var d=Qe(r[0],"raw").string,f=d.split(","),m=0;m<f.length;m++){var b=f[m].split("=");if(b.length===2){var y=b[1].trim();switch(b[0].trim()){case"alt":u=y;break;case"width":a=Nm(y);break;case"height":i=Nm(y);break;case"totalheight":l=Nm(y);break;default:throw new ke("Invalid key: '"+b[0]+"' in \\includegraphics.")}}}var v=Qe(t[0],"url").url;return u===""&&(u=v,u=u.replace(/^.*[\\/]/,""),u=u.substring(0,u.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:v})?{type:"includegraphics",mode:n.mode,alt:u,width:a,height:i,totalheight:l,src:v}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=Ot(e.height,t),n=0;e.totalheight.number>0&&(n=Ot(e.totalheight,t)-r);var a=0;e.width.number>0&&(a=Ot(e.width,t));var i={height:Ae(r+n)};a>0&&(i.width=Ae(a)),n>0&&(i.verticalAlign=Ae(-n));var l=new SH(e.src,e.alt,i);return l.height=r,l.depth=n,l},mathmlBuilder:(e,t)=>{var r=new _e.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=Ot(e.height,t),a=0;if(e.totalheight.number>0&&(a=Ot(e.totalheight,t)-n,r.setAttribute("valign",Ae(-a))),r.setAttribute("height",Ae(n+a)),e.width.number>0){var i=Ot(e.width,t);r.setAttribute("width",Ae(i))}return r.setAttribute("src",e.src),r}});Te({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,a=Qe(t[0],"size");if(r.settings.strict){var i=n[1]==="m",l=a.value.unit==="mu";i?(l||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+a.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):l&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:a.value}},htmlBuilder(e,t){return te.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=Ot(e.dimension,t);return new _e.SpaceNode(r)}});Te({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:a}},htmlBuilder:(e,t)=>{var r;e.alignment==="clap"?(r=te.makeSpan([],[it(e.body,t)]),r=te.makeSpan(["inner"],[r],t)):r=te.makeSpan(["inner"],[it(e.body,t)]);var n=te.makeSpan(["fix"],[]),a=te.makeSpan([e.alignment],[r,n],t),i=te.makeSpan(["strut"]);return i.style.height=Ae(a.height+a.depth),a.depth&&(i.style.verticalAlign=Ae(-a.depth)),a.children.unshift(i),a=te.makeSpan(["thinbox"],[a],t),te.makeSpan(["mord","vbox"],[a],t)},mathmlBuilder:(e,t)=>{var r=new _e.MathNode("mpadded",[vt(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});Te({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,a=n.mode;n.switchMode("math");var i=r==="\\("?"\\)":"$",l=n.parseExpression(!1,i);return n.expect(i),n.switchMode(a),{type:"styling",mode:n.mode,style:"text",body:l}}});Te({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ke("Mismatched "+e.funcName)}});var y5=(e,t)=>{switch(t.style.size){case qe.DISPLAY.size:return e.display;case qe.TEXT.size:return e.text;case qe.SCRIPT.size:return e.script;case qe.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Te({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:Gt(t[0]),text:Gt(t[1]),script:Gt(t[2]),scriptscript:Gt(t[3])}},htmlBuilder:(e,t)=>{var r=y5(e,t),n=ir(r,t,!1);return te.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=y5(e,t);return Is(r,t)}});var N9=(e,t,r,n,a,i,l)=>{e=te.makeSpan([],[e]);var u=r&&Ie.isCharacterBox(r),d,f;if(t){var m=it(t,n.havingStyle(a.sup()),n);f={elem:m,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-m.depth)}}if(r){var b=it(r,n.havingStyle(a.sub()),n);d={elem:b,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-b.height)}}var y;if(f&&d){var v=n.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+e.depth+l;y=te.makeVList({positionType:"bottom",positionData:v,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:Ae(-i)},{type:"kern",size:d.kern},{type:"elem",elem:e},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ae(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(d){var x=e.height-l;y=te.makeVList({positionType:"top",positionData:x,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:Ae(-i)},{type:"kern",size:d.kern},{type:"elem",elem:e}]},n)}else if(f){var w=e.depth+l;y=te.makeVList({positionType:"bottom",positionData:w,children:[{type:"elem",elem:e},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:Ae(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var k=[y];if(d&&i!==0&&!u){var E=te.makeSpan(["mspace"],[],n);E.style.marginRight=Ae(i),k.unshift(E)}return te.makeSpan(["mop","op-limits"],k,n)},D9=["\\smallint"],nl=(e,t)=>{var r,n,a=!1,i;e.type==="supsub"?(r=e.sup,n=e.sub,i=Qe(e.base,"op"),a=!0):i=Qe(e,"op");var l=t.style,u=!1;l.size===qe.DISPLAY.size&&i.symbol&&!Ie.contains(D9,i.name)&&(u=!0);var d;if(i.symbol){var f=u?"Size2-Regular":"Size1-Regular",m="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(m=i.name.slice(1),i.name=m==="oiint"?"\\iint":"\\iiint"),d=te.makeSymbol(i.name,f,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),m.length>0){var b=d.italic,y=te.staticSvg(m+"Size"+(u?"2":"1"),t);d=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:y,shift:u?.08:0}]},t),i.name="\\"+m,d.classes.unshift("mop"),d.italic=b}}else if(i.body){var v=ir(i.body,t,!0);v.length===1&&v[0]instanceof En?(d=v[0],d.classes[0]="mop"):d=te.makeSpan(["mop"],v,t)}else{for(var x=[],w=1;w<i.name.length;w++)x.push(te.mathsym(i.name[w],i.mode,t));d=te.makeSpan(["mop"],x,t)}var k=0,E=0;return(d instanceof En||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(k=(d.height-d.depth)/2-t.fontMetrics().axisHeight,E=d.italic),a?N9(d,r,n,t,l,E,k):(k&&(d.style.position="relative",d.style.top=Ae(k)),d)},fc=(e,t)=>{var r;if(e.symbol)r=new nn("mo",[An(e.name,e.mode)]),Ie.contains(D9,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new nn("mo",Zr(e.body,t));else{r=new nn("mi",[new ia(e.name.slice(1))]);var n=new nn("mo",[An("","text")]);e.parentIsSupSub?r=new nn("mrow",[r,n]):r=a9([r,n])}return r},Eq={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Te({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=n;return a.length===1&&(a=Eq[a]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:nl,mathmlBuilder:fc});Te({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Gt(n)}},htmlBuilder:nl,mathmlBuilder:fc});var Aq={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Te({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:nl,mathmlBuilder:fc});Te({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:nl,mathmlBuilder:fc});Te({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=Aq[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:nl,mathmlBuilder:fc});var M9=(e,t)=>{var r,n,a=!1,i;e.type==="supsub"?(r=e.sup,n=e.sub,i=Qe(e.base,"operatorname"),a=!0):i=Qe(e,"operatorname");var l;if(i.body.length>0){for(var u=i.body.map(b=>{var y=b.text;return typeof y=="string"?{type:"textord",mode:b.mode,text:y}:b}),d=ir(u,t.withFont("mathrm"),!0),f=0;f<d.length;f++){var m=d[f];m instanceof En&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=te.makeSpan(["mop"],d,t)}else l=te.makeSpan(["mop"],[],t);return a?N9(l,r,n,t,t.style,0,0):l},Cq=(e,t)=>{for(var r=Zr(e.body,t.withFont("mathrm")),n=!0,a=0;a<r.length;a++){var i=r[a];if(!(i instanceof _e.SpaceNode))if(i instanceof _e.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=i.children[0];i.children.length===1&&l instanceof _e.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var u=r.map(m=>m.toText()).join("");r=[new _e.TextNode(u)]}var d=new _e.MathNode("mi",r);d.setAttribute("mathvariant","normal");var f=new _e.MathNode("mo",[An("","text")]);return e.parentIsSupSub?new _e.MathNode("mrow",[d,f]):_e.newDocumentFragment([d,f])};Te({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"operatorname",mode:r.mode,body:Gt(a),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:M9,mathmlBuilder:Cq});R("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Pi({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?te.makeFragment(ir(e.body,t,!1)):te.makeSpan(["mord"],ir(e.body,t,!0),t)},mathmlBuilder(e,t){return Is(e.body,t,!0)}});Te({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=it(e.body,t.havingCrampedStyle()),n=te.makeLineSpan("overline-line",t),a=t.fontMetrics().defaultRuleThickness,i=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n},{type:"kern",size:a}]},t);return te.makeSpan(["mord","overline"],[i],t)},mathmlBuilder(e,t){var r=new _e.MathNode("mo",[new _e.TextNode("")]);r.setAttribute("stretchy","true");var n=new _e.MathNode("mover",[vt(e.body,t),r]);return n.setAttribute("accent","true"),n}});Te({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:Gt(n)}},htmlBuilder:(e,t)=>{var r=ir(e.body,t.withPhantom(),!1);return te.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=Zr(e.body,t);return new _e.MathNode("mphantom",r)}});Te({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=te.makeSpan([],[it(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),te.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=Zr(Gt(e.body),t),n=new _e.MathNode("mphantom",r),a=new _e.MathNode("mpadded",[n]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});Te({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=te.makeSpan(["inner"],[it(e.body,t.withPhantom())]),n=te.makeSpan(["fix"],[]);return te.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=Zr(Gt(e.body),t),n=new _e.MathNode("mphantom",r),a=new _e.MathNode("mpadded",[n]);return a.setAttribute("width","0px"),a}});Te({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=Qe(t[0],"size").value,a=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:a}},htmlBuilder(e,t){var r=it(e.body,t),n=Ot(e.dy,t);return te.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new _e.MathNode("mpadded",[vt(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});Te({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Te({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,a=r[0],i=Qe(t[0],"size"),l=Qe(t[1],"size");return{type:"rule",mode:n.mode,shift:a&&Qe(a,"size").value,width:i.value,height:l.value}},htmlBuilder(e,t){var r=te.makeSpan(["mord","rule"],[],t),n=Ot(e.width,t),a=Ot(e.height,t),i=e.shift?Ot(e.shift,t):0;return r.style.borderRightWidth=Ae(n),r.style.borderTopWidth=Ae(a),r.style.bottom=Ae(i),r.width=n,r.height=a+i,r.depth=-i,r.maxFontSize=a*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=Ot(e.width,t),n=Ot(e.height,t),a=e.shift?Ot(e.shift,t):0,i=t.color&&t.getColor()||"black",l=new _e.MathNode("mspace");l.setAttribute("mathbackground",i),l.setAttribute("width",Ae(r)),l.setAttribute("height",Ae(n));var u=new _e.MathNode("mpadded",[l]);return a>=0?u.setAttribute("height",Ae(a)):(u.setAttribute("height",Ae(a)),u.setAttribute("depth",Ae(-a))),u.setAttribute("voffset",Ae(a)),u}});function j9(e,t,r){for(var n=ir(e,t,!1),a=t.sizeMultiplier/r.sizeMultiplier,i=0;i<n.length;i++){var l=n[i].classes.indexOf("sizing");l<0?Array.prototype.push.apply(n[i].classes,t.sizingClasses(r)):n[i].classes[l+1]==="reset-size"+t.size&&(n[i].classes[l+1]="reset-size"+r.size),n[i].height*=a,n[i].depth*=a}return te.makeFragment(n)}var x5=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Tq=(e,t)=>{var r=t.havingSize(e.size);return j9(e.body,r,t)};Te({type:"sizing",names:x5,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:a}=e,i=a.parseExpression(!1,r);return{type:"sizing",mode:a.mode,size:x5.indexOf(n)+1,body:i}},htmlBuilder:Tq,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=Zr(e.body,r),a=new _e.MathNode("mstyle",n);return a.setAttribute("mathsize",Ae(r.sizeMultiplier)),a}});Te({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,a=!1,i=!1,l=r[0]&&Qe(r[0],"ordgroup");if(l)for(var u="",d=0;d<l.body.length;++d){var f=l.body[d];if(u=f.text,u==="t")a=!0;else if(u==="b")i=!0;else{a=!1,i=!1;break}}else a=!0,i=!0;var m=t[0];return{type:"smash",mode:n.mode,body:m,smashHeight:a,smashDepth:i}},htmlBuilder:(e,t)=>{var r=te.makeSpan([],[it(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var a=0;a<r.children.length;a++)r.children[a].depth=0;var i=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return te.makeSpan(["mord"],[i],t)},mathmlBuilder:(e,t)=>{var r=new _e.MathNode("mpadded",[vt(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}});Te({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,a=r[0],i=t[0];return{type:"sqrt",mode:n.mode,body:i,index:a}},htmlBuilder(e,t){var r=it(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=te.wrapFragment(r,t);var n=t.fontMetrics(),a=n.defaultRuleThickness,i=a;t.style.id<qe.TEXT.id&&(i=t.fontMetrics().xHeight);var l=a+i/4,u=r.height+r.depth+l+a,{span:d,ruleWidth:f,advanceWidth:m}=qa.sqrtImage(u,t),b=d.height-f;b>r.height+r.depth+l&&(l=(l+b-r.height-r.depth)/2);var y=d.height-r.height-l-f;r.style.paddingLeft=Ae(m);var v=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+y)},{type:"elem",elem:d},{type:"kern",size:f}]},t);if(e.index){var x=t.havingStyle(qe.SCRIPTSCRIPT),w=it(e.index,x,t),k=.6*(v.height-v.depth),E=te.makeVList({positionType:"shift",positionData:-k,children:[{type:"elem",elem:w}]},t),C=te.makeSpan(["root"],[E]);return te.makeSpan(["mord","sqrt"],[C,v],t)}else return te.makeSpan(["mord","sqrt"],[v],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new _e.MathNode("mroot",[vt(r,t),vt(n,t)]):new _e.MathNode("msqrt",[vt(r,t)])}});var v5={display:qe.DISPLAY,text:qe.TEXT,script:qe.SCRIPT,scriptscript:qe.SCRIPTSCRIPT};Te({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:a}=e,i=a.parseExpression(!0,r),l=n.slice(1,n.length-5);return{type:"styling",mode:a.mode,style:l,body:i}},htmlBuilder(e,t){var r=v5[e.style],n=t.havingStyle(r).withFont("");return j9(e.body,n,t)},mathmlBuilder(e,t){var r=v5[e.style],n=t.havingStyle(r),a=Zr(e.body,n),i=new _e.MathNode("mstyle",a),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},u=l[e.style];return i.setAttribute("scriptlevel",u[0]),i.setAttribute("displaystyle",u[1]),i}});var Nq=function(t,r){var n=t.base;if(n)if(n.type==="op"){var a=n.limits&&(r.style.size===qe.DISPLAY.size||n.alwaysHandleSupSub);return a?nl:null}else if(n.type==="operatorname"){var i=n.alwaysHandleSupSub&&(r.style.size===qe.DISPLAY.size||n.limits);return i?M9:null}else{if(n.type==="accent")return Ie.isCharacterBox(n.base)?$2:null;if(n.type==="horizBrace"){var l=!t.sub;return l===n.isOver?T9:null}else return null}else return null};Pi({type:"supsub",htmlBuilder(e,t){var r=Nq(e,t);if(r)return r(e,t);var{base:n,sup:a,sub:i}=e,l=it(n,t),u,d,f=t.fontMetrics(),m=0,b=0,y=n&&Ie.isCharacterBox(n);if(a){var v=t.havingStyle(t.style.sup());u=it(a,v,t),y||(m=l.height-v.fontMetrics().supDrop*v.sizeMultiplier/t.sizeMultiplier)}if(i){var x=t.havingStyle(t.style.sub());d=it(i,x,t),y||(b=l.depth+x.fontMetrics().subDrop*x.sizeMultiplier/t.sizeMultiplier)}var w;t.style===qe.DISPLAY?w=f.sup1:t.style.cramped?w=f.sup3:w=f.sup2;var k=t.sizeMultiplier,E=Ae(.5/f.ptPerEm/k),C=null;if(d){var j=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(l instanceof En||j)&&(C=Ae(-l.italic))}var F;if(u&&d){m=Math.max(m,w,u.depth+.25*f.xHeight),b=Math.max(b,f.sub2);var D=f.defaultRuleThickness,O=4*D;if(m-u.depth-(d.height-b)<O){b=O-(m-u.depth)+d.height;var $=.8*f.xHeight-(m-u.depth);$>0&&(m+=$,b-=$)}var B=[{type:"elem",elem:d,shift:b,marginRight:E,marginLeft:C},{type:"elem",elem:u,shift:-m,marginRight:E}];F=te.makeVList({positionType:"individualShift",children:B},t)}else if(d){b=Math.max(b,f.sub1,d.height-.8*f.xHeight);var Z=[{type:"elem",elem:d,marginLeft:C,marginRight:E}];F=te.makeVList({positionType:"shift",positionData:b,children:Z},t)}else if(u)m=Math.max(m,w,u.depth+.25*f.xHeight),F=te.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:u,marginRight:E}]},t);else throw new Error("supsub must have either sup or sub.");var G=kp(l,"right")||"mord";return te.makeSpan([G],[l,te.makeSpan(["msupsub"],[F])],t)},mathmlBuilder(e,t){var r=!1,n,a;e.base&&e.base.type==="horizBrace"&&(a=!!e.sup,a===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var i=[vt(e.base,t)];e.sub&&i.push(vt(e.sub,t)),e.sup&&i.push(vt(e.sup,t));var l;if(r)l=n?"mover":"munder";else if(e.sub)if(e.sup){var f=e.base;f&&f.type==="op"&&f.limits&&t.style===qe.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(t.style===qe.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var d=e.base;d&&d.type==="op"&&d.limits&&(t.style===qe.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||t.style===qe.DISPLAY)?l="munder":l="msub"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===qe.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===qe.DISPLAY)?l="mover":l="msup"}return new _e.MathNode(l,i)}});Pi({type:"atom",htmlBuilder(e,t){return te.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new _e.MathNode("mo",[An(e.text,e.mode)]);if(e.family==="bin"){var n=P2(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var z9={mi:"italic",mn:"normal",mtext:"normal"};Pi({type:"mathord",htmlBuilder(e,t){return te.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new _e.MathNode("mi",[An(e.text,e.mode,t)]),n=P2(e,t)||"italic";return n!==z9[r.type]&&r.setAttribute("mathvariant",n),r}});Pi({type:"textord",htmlBuilder(e,t){return te.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=An(e.text,e.mode,t),n=P2(e,t)||"normal",a;return e.mode==="text"?a=new _e.MathNode("mtext",[r]):/[0-9]/.test(e.text)?a=new _e.MathNode("mn",[r]):e.text==="\\prime"?a=new _e.MathNode("mo",[r]):a=new _e.MathNode("mi",[r]),n!==z9[a.type]&&a.setAttribute("mathvariant",n),a}});var Dm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Mm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Pi({type:"spacing",htmlBuilder(e,t){if(Mm.hasOwnProperty(e.text)){var r=Mm[e.text].className||"";if(e.mode==="text"){var n=te.makeOrd(e,t,"textord");return n.classes.push(r),n}else return te.makeSpan(["mspace",r],[te.mathsym(e.text,e.mode,t)],t)}else{if(Dm.hasOwnProperty(e.text))return te.makeSpan(["mspace",Dm[e.text]],[],t);throw new ke('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(Mm.hasOwnProperty(e.text))r=new _e.MathNode("mtext",[new _e.TextNode("")]);else{if(Dm.hasOwnProperty(e.text))return new _e.MathNode("mspace");throw new ke('Unknown type of space "'+e.text+'"')}return r}});var _5=()=>{var e=new _e.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Pi({type:"tag",mathmlBuilder(e,t){var r=new _e.MathNode("mtable",[new _e.MathNode("mtr",[_5(),new _e.MathNode("mtd",[Is(e.body,t)]),_5(),new _e.MathNode("mtd",[Is(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var w5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},k5={"\\textbf":"textbf","\\textmd":"textmd"},Dq={"\\textit":"textit","\\textup":"textup"},S5=(e,t)=>{var r=e.font;if(r){if(w5[r])return t.withTextFontFamily(w5[r]);if(k5[r])return t.withTextFontWeight(k5[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(Dq[r])};Te({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"text",mode:r.mode,body:Gt(a),font:n}},htmlBuilder(e,t){var r=S5(e,t),n=ir(e.body,r,!0);return te.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=S5(e,t);return Is(e.body,r)}});Te({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=it(e.body,t),n=te.makeLineSpan("underline-line",t),a=t.fontMetrics().defaultRuleThickness,i=te.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:a},{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r}]},t);return te.makeSpan(["mord","underline"],[i],t)},mathmlBuilder(e,t){var r=new _e.MathNode("mo",[new _e.TextNode("")]);r.setAttribute("stretchy","true");var n=new _e.MathNode("munder",[vt(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});Te({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=it(e.body,t),n=t.fontMetrics().axisHeight,a=.5*(r.height-n-(r.depth+n));return te.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new _e.MathNode("mpadded",[vt(e.body,t)],["vcenter"])}});Te({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new ke("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=E5(e),n=[],a=t.havingStyle(t.style.text()),i=0;i<r.length;i++){var l=r[i];l==="~"&&(l="\\textasciitilde"),n.push(te.makeSymbol(l,"Typewriter-Regular",e.mode,a,["mord","texttt"]))}return te.makeSpan(["mord","text"].concat(a.sizingClasses(t)),te.tryCombineChars(n),a)},mathmlBuilder(e,t){var r=new _e.TextNode(E5(e)),n=new _e.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var E5=e=>e.body.replace(/ /g,e.star?"":""),js=r9,O9=`[ \r
	]`,Mq="\\\\[a-zA-Z@]+",jq="\\\\[^\uD800-\uDFFF]",zq="("+Mq+")"+O9+"*",Oq=`\\\\(
|[ \r	]+
?)[ \r	]*`,Cp="[-]",Rq=new RegExp(Cp+"+$"),Fq="("+O9+"+)|"+(Oq+"|")+"([!-\\[\\]---]"+(Cp+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Cp+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+zq)+("|"+jq+")");class A5{constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(Fq,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new kn("EOF",new rn(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new ke("Unexpected character: '"+t[r]+"'",new kn(t[r],new rn(this,r,r+1)));var a=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[a]===14){var i=t.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new kn(a,new rn(this,r,this.tokenRegex.lastIndex))}}class Lq{constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ke("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(t)&&(i[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var Bq=k9;R("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});R("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});R("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});R("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});R("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});R("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");R("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var C5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};R("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ke("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=C5[t.text],n==null||n>=r)throw new ke("Invalid base-"+r+" digit "+t.text);for(var a;(a=C5[e.future().text])!=null&&a<r;)n*=r,n+=a,e.popToken()}return"\\@char{"+n+"}"});var Y2=(e,t,r,n)=>{var a=e.consumeArg().tokens;if(a.length!==1)throw new ke("\\newcommand's first argument must be a macro name");var i=a[0].text,l=e.isDefined(i);if(l&&!t)throw new ke("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!l&&!r)throw new ke("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var u=0;if(a=e.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var d="",f=e.expandNextToken();f.text!=="]"&&f.text!=="EOF";)d+=f.text,f=e.expandNextToken();if(!d.match(/^\s*[0-9]+\s*$/))throw new ke("Invalid number of arguments: "+d);u=parseInt(d),a=e.consumeArg().tokens}return l&&n||e.macros.set(i,{tokens:a,numArgs:u}),""};R("\\newcommand",e=>Y2(e,!1,!0,!1));R("\\renewcommand",e=>Y2(e,!0,!1,!1));R("\\providecommand",e=>Y2(e,!0,!0,!0));R("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});R("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});R("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),js[r],St.math[r],St.text[r]),""});R("\\bgroup","{");R("\\egroup","}");R("~","\\nobreakspace");R("\\lq","`");R("\\rq","'");R("\\aa","\\r a");R("\\AA","\\r A");R("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");R("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");R("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");R("","\\mathscr{B}");R("","\\mathscr{E}");R("","\\mathscr{F}");R("","\\mathscr{H}");R("","\\mathscr{I}");R("","\\mathscr{L}");R("","\\mathscr{M}");R("","\\mathscr{R}");R("","\\mathfrak{C}");R("","\\mathfrak{H}");R("","\\mathfrak{Z}");R("\\Bbbk","\\Bbb{k}");R("","\\cdotp");R("\\llap","\\mathllap{\\textrm{#1}}");R("\\rlap","\\mathrlap{\\textrm{#1}}");R("\\clap","\\mathclap{\\textrm{#1}}");R("\\mathstrut","\\vphantom{(}");R("\\underbar","\\underline{\\text{#1}}");R("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');R("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");R("\\ne","\\neq");R("","\\neq");R("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");R("","\\notin");R("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");R("","\\perp");R("","\\mathclose{!\\mkern-0.8mu!}");R("","\\notni");R("","\\ulcorner");R("","\\urcorner");R("","\\llcorner");R("","\\lrcorner");R("","\\copyright");R("","\\textregistered");R("","\\textregistered");R("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');R("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');R("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');R("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');R("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");R("","\\vdots");R("\\varGamma","\\mathit{\\Gamma}");R("\\varDelta","\\mathit{\\Delta}");R("\\varTheta","\\mathit{\\Theta}");R("\\varLambda","\\mathit{\\Lambda}");R("\\varXi","\\mathit{\\Xi}");R("\\varPi","\\mathit{\\Pi}");R("\\varSigma","\\mathit{\\Sigma}");R("\\varUpsilon","\\mathit{\\Upsilon}");R("\\varPhi","\\mathit{\\Phi}");R("\\varPsi","\\mathit{\\Psi}");R("\\varOmega","\\mathit{\\Omega}");R("\\substack","\\begin{subarray}{c}#1\\end{subarray}");R("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");R("\\boxed","\\fbox{$\\displaystyle{#1}$}");R("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");R("\\implies","\\DOTSB\\;\\Longrightarrow\\;");R("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");R("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");R("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var T5={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};R("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in T5?t=T5[r]:(r.slice(0,4)==="\\not"||r in St.math&&Ie.contains(["bin","rel"],St.math[r].group))&&(t="\\dotsb"),t});var X2={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};R("\\dotso",function(e){var t=e.future().text;return t in X2?"\\ldots\\,":"\\ldots"});R("\\dotsc",function(e){var t=e.future().text;return t in X2&&t!==","?"\\ldots\\,":"\\ldots"});R("\\cdots",function(e){var t=e.future().text;return t in X2?"\\@cdots\\,":"\\@cdots"});R("\\dotsb","\\cdots");R("\\dotsm","\\cdots");R("\\dotsi","\\!\\cdots");R("\\dotsx","\\ldots\\,");R("\\DOTSI","\\relax");R("\\DOTSB","\\relax");R("\\DOTSX","\\relax");R("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");R("\\,","\\tmspace+{3mu}{.1667em}");R("\\thinspace","\\,");R("\\>","\\mskip{4mu}");R("\\:","\\tmspace+{4mu}{.2222em}");R("\\medspace","\\:");R("\\;","\\tmspace+{5mu}{.2777em}");R("\\thickspace","\\;");R("\\!","\\tmspace-{3mu}{.1667em}");R("\\negthinspace","\\!");R("\\negmedspace","\\tmspace-{4mu}{.2222em}");R("\\negthickspace","\\tmspace-{5mu}{.277em}");R("\\enspace","\\kern.5em ");R("\\enskip","\\hskip.5em\\relax");R("\\quad","\\hskip1em\\relax");R("\\qquad","\\hskip2em\\relax");R("\\tag","\\@ifstar\\tag@literal\\tag@paren");R("\\tag@paren","\\tag@literal{({#1})}");R("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ke("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});R("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");R("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");R("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");R("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");R("\\newline","\\\\\\relax");R("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var R9=Ae(sa["Main-Regular"][84][1]-.7*sa["Main-Regular"][65][1]);R("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+R9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");R("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+R9+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");R("\\hspace","\\@ifstar\\@hspacer\\@hspace");R("\\@hspace","\\hskip #1\\relax");R("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");R("\\ordinarycolon",":");R("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");R("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');R("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');R("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');R("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');R("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');R("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');R("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');R("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');R("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');R("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');R("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');R("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');R("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');R("","\\dblcolon");R("","\\eqcolon");R("","\\coloneqq");R("","\\eqqcolon");R("","\\Coloneqq");R("\\ratio","\\vcentcolon");R("\\coloncolon","\\dblcolon");R("\\colonequals","\\coloneqq");R("\\coloncolonequals","\\Coloneqq");R("\\equalscolon","\\eqqcolon");R("\\equalscoloncolon","\\Eqqcolon");R("\\colonminus","\\coloneq");R("\\coloncolonminus","\\Coloneq");R("\\minuscolon","\\eqcolon");R("\\minuscoloncolon","\\Eqcolon");R("\\coloncolonapprox","\\Colonapprox");R("\\coloncolonsim","\\Colonsim");R("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");R("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");R("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");R("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");R("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");R("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");R("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");R("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");R("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");R("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");R("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");R("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");R("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");R("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");R("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");R("\\ngeqq","\\html@mathml{\\@ngeqq}{}");R("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");R("\\nleqq","\\html@mathml{\\@nleqq}{}");R("\\nleqslant","\\html@mathml{\\@nleqslant}{}");R("\\nshortmid","\\html@mathml{\\@nshortmid}{}");R("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");R("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");R("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");R("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");R("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");R("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");R("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");R("\\imath","\\html@mathml{\\@imath}{}");R("\\jmath","\\html@mathml{\\@jmath}{}");R("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");R("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");R("","\\llbracket");R("","\\rrbracket");R("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");R("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");R("","\\lBrace");R("","\\rBrace");R("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");R("","\\minuso");R("\\darr","\\downarrow");R("\\dArr","\\Downarrow");R("\\Darr","\\Downarrow");R("\\lang","\\langle");R("\\rang","\\rangle");R("\\uarr","\\uparrow");R("\\uArr","\\Uparrow");R("\\Uarr","\\Uparrow");R("\\N","\\mathbb{N}");R("\\R","\\mathbb{R}");R("\\Z","\\mathbb{Z}");R("\\alef","\\aleph");R("\\alefsym","\\aleph");R("\\Alpha","\\mathrm{A}");R("\\Beta","\\mathrm{B}");R("\\bull","\\bullet");R("\\Chi","\\mathrm{X}");R("\\clubs","\\clubsuit");R("\\cnums","\\mathbb{C}");R("\\Complex","\\mathbb{C}");R("\\Dagger","\\ddagger");R("\\diamonds","\\diamondsuit");R("\\empty","\\emptyset");R("\\Epsilon","\\mathrm{E}");R("\\Eta","\\mathrm{H}");R("\\exist","\\exists");R("\\harr","\\leftrightarrow");R("\\hArr","\\Leftrightarrow");R("\\Harr","\\Leftrightarrow");R("\\hearts","\\heartsuit");R("\\image","\\Im");R("\\infin","\\infty");R("\\Iota","\\mathrm{I}");R("\\isin","\\in");R("\\Kappa","\\mathrm{K}");R("\\larr","\\leftarrow");R("\\lArr","\\Leftarrow");R("\\Larr","\\Leftarrow");R("\\lrarr","\\leftrightarrow");R("\\lrArr","\\Leftrightarrow");R("\\Lrarr","\\Leftrightarrow");R("\\Mu","\\mathrm{M}");R("\\natnums","\\mathbb{N}");R("\\Nu","\\mathrm{N}");R("\\Omicron","\\mathrm{O}");R("\\plusmn","\\pm");R("\\rarr","\\rightarrow");R("\\rArr","\\Rightarrow");R("\\Rarr","\\Rightarrow");R("\\real","\\Re");R("\\reals","\\mathbb{R}");R("\\Reals","\\mathbb{R}");R("\\Rho","\\mathrm{P}");R("\\sdot","\\cdot");R("\\sect","\\S");R("\\spades","\\spadesuit");R("\\sub","\\subset");R("\\sube","\\subseteq");R("\\supe","\\supseteq");R("\\Tau","\\mathrm{T}");R("\\thetasym","\\vartheta");R("\\weierp","\\wp");R("\\Zeta","\\mathrm{Z}");R("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");R("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");R("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");R("\\bra","\\mathinner{\\langle{#1}|}");R("\\ket","\\mathinner{|{#1}\\rangle}");R("\\braket","\\mathinner{\\langle{#1}\\rangle}");R("\\Bra","\\left\\langle#1\\right|");R("\\Ket","\\left|#1\\right\\rangle");var F9=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,a=t.consumeArg().tokens,i=t.consumeArg().tokens,l=t.macros.get("|"),u=t.macros.get("\\|");t.macros.beginGroup();var d=b=>y=>{e&&(y.macros.set("|",l),a.length&&y.macros.set("\\|",u));var v=b;if(!b&&a.length){var x=y.future();x.text==="|"&&(y.popToken(),v=!0)}return{tokens:v?a:n,numArgs:0}};t.macros.set("|",d(!1)),a.length&&t.macros.set("\\|",d(!0));var f=t.consumeArg().tokens,m=t.expandTokens([...i,...f,...r]);return t.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};R("\\bra@ket",F9(!1));R("\\bra@set",F9(!0));R("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");R("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");R("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");R("\\angln","{\\angl n}");R("\\blue","\\textcolor{##6495ed}{#1}");R("\\orange","\\textcolor{##ffa500}{#1}");R("\\pink","\\textcolor{##ff00af}{#1}");R("\\red","\\textcolor{##df0030}{#1}");R("\\green","\\textcolor{##28ae7b}{#1}");R("\\gray","\\textcolor{gray}{#1}");R("\\purple","\\textcolor{##9d38bd}{#1}");R("\\blueA","\\textcolor{##ccfaff}{#1}");R("\\blueB","\\textcolor{##80f6ff}{#1}");R("\\blueC","\\textcolor{##63d9ea}{#1}");R("\\blueD","\\textcolor{##11accd}{#1}");R("\\blueE","\\textcolor{##0c7f99}{#1}");R("\\tealA","\\textcolor{##94fff5}{#1}");R("\\tealB","\\textcolor{##26edd5}{#1}");R("\\tealC","\\textcolor{##01d1c1}{#1}");R("\\tealD","\\textcolor{##01a995}{#1}");R("\\tealE","\\textcolor{##208170}{#1}");R("\\greenA","\\textcolor{##b6ffb0}{#1}");R("\\greenB","\\textcolor{##8af281}{#1}");R("\\greenC","\\textcolor{##74cf70}{#1}");R("\\greenD","\\textcolor{##1fab54}{#1}");R("\\greenE","\\textcolor{##0d923f}{#1}");R("\\goldA","\\textcolor{##ffd0a9}{#1}");R("\\goldB","\\textcolor{##ffbb71}{#1}");R("\\goldC","\\textcolor{##ff9c39}{#1}");R("\\goldD","\\textcolor{##e07d10}{#1}");R("\\goldE","\\textcolor{##a75a05}{#1}");R("\\redA","\\textcolor{##fca9a9}{#1}");R("\\redB","\\textcolor{##ff8482}{#1}");R("\\redC","\\textcolor{##f9685d}{#1}");R("\\redD","\\textcolor{##e84d39}{#1}");R("\\redE","\\textcolor{##bc2612}{#1}");R("\\maroonA","\\textcolor{##ffbde0}{#1}");R("\\maroonB","\\textcolor{##ff92c6}{#1}");R("\\maroonC","\\textcolor{##ed5fa6}{#1}");R("\\maroonD","\\textcolor{##ca337c}{#1}");R("\\maroonE","\\textcolor{##9e034e}{#1}");R("\\purpleA","\\textcolor{##ddd7ff}{#1}");R("\\purpleB","\\textcolor{##c6b9fc}{#1}");R("\\purpleC","\\textcolor{##aa87ff}{#1}");R("\\purpleD","\\textcolor{##7854ab}{#1}");R("\\purpleE","\\textcolor{##543b78}{#1}");R("\\mintA","\\textcolor{##f5f9e8}{#1}");R("\\mintB","\\textcolor{##edf2df}{#1}");R("\\mintC","\\textcolor{##e0e5cc}{#1}");R("\\grayA","\\textcolor{##f6f7f7}{#1}");R("\\grayB","\\textcolor{##f0f1f2}{#1}");R("\\grayC","\\textcolor{##e3e5e6}{#1}");R("\\grayD","\\textcolor{##d6d8da}{#1}");R("\\grayE","\\textcolor{##babec2}{#1}");R("\\grayF","\\textcolor{##888d93}{#1}");R("\\grayG","\\textcolor{##626569}{#1}");R("\\grayH","\\textcolor{##3b3e40}{#1}");R("\\grayI","\\textcolor{##21242c}{#1}");R("\\kaBlue","\\textcolor{##314453}{#1}");R("\\kaGreen","\\textcolor{##71B307}{#1}");var L9={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Pq{constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new Lq(Bq,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new A5(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,a;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:a,end:n}=this.consumeArg(["]"])}else({tokens:a,start:r,end:n}=this.consumeArg());return this.pushToken(new kn("EOF",n.loc)),this.pushTokens(a),r.range(n,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var a=this.future(),i,l=0,u=0;do{if(i=this.popToken(),r.push(i),i.text==="{")++l;else if(i.text==="}"){if(--l,l===-1)throw new ke("Extra }",i)}else if(i.text==="EOF")throw new ke("Unexpected end of input in a macro argument, expected '"+(t&&n?t[u]:"}")+"'",i);if(t&&n)if((l===0||l===1&&t[u]==="{")&&i.text===t[u]){if(++u,u===t.length){r.splice(-u,u);break}}else u=0}while(l!==0||n);return a.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:a,end:i}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new ke("The length of delimiters doesn't match the number of args!");for(var n=r[0],a=0;a<n.length;a++){var i=this.popToken();if(n[a]!==i.text)throw new ke("Use of the macro doesn't match its definition",i)}}for(var l=[],u=0;u<t;u++)l.push(this.consumeArg(r&&r[u+1]).tokens);return l}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ke("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,a=r.noexpand?null:this._getExpansion(n);if(a==null||t&&a.unexpandable){if(t&&a==null&&n[0]==="\\"&&!this.isDefined(n))throw new ke("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var i=a.tokens,l=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){i=i.slice();for(var u=i.length-1;u>=0;--u){var d=i[u];if(d.text==="#"){if(u===0)throw new ke("Incomplete placeholder at end of macro body",d);if(d=i[--u],d.text==="#")i.splice(u+1,1);else if(/^[1-9]$/.test(d.text))i.splice(u,2,...l[+d.text-1]);else throw new ke("Not a valid argument number",d)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new kn(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),r.push(a)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var a=typeof r=="function"?r(this):r;if(typeof a=="string"){var i=0;if(a.indexOf("#")!==-1)for(var l=a.replace(/##/g,"");l.indexOf("#"+(i+1))!==-1;)++i;for(var u=new A5(a,this.settings),d=[],f=u.lex();f.text!=="EOF";)d.push(f),f=u.lex();d.reverse();var m={tokens:d,numArgs:i};return m}return a}isDefined(t){return this.macros.has(t)||js.hasOwnProperty(t)||St.math.hasOwnProperty(t)||St.text.hasOwnProperty(t)||L9.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:js.hasOwnProperty(t)&&!js[t].primitive}}var N5=/^[]/,ad=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),jm={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},D5={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class _f{constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Pq(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new ke("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new kn("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(_f.endOfExpression.indexOf(a.text)!==-1||r&&a.text===r||t&&js[a.text]&&js[a.text].infix)break;var i=this.parseAtom(r);if(i){if(i.type==="internal")continue}else break;n.push(i)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,a=0;a<t.length;a++)if(t[a].type==="infix"){if(r!==-1)throw new ke("only one infix operator per group",t[a].token);r=a,n=t[a].replaceWith}if(r!==-1&&n){var i,l,u=t.slice(0,r),d=t.slice(r+1);u.length===1&&u[0].type==="ordgroup"?i=u[0]:i={type:"ordgroup",mode:this.mode,body:u},d.length===1&&d[0].type==="ordgroup"?l=d[0]:l={type:"ordgroup",mode:this.mode,body:d};var f;return n==="\\\\abovefrac"?f=this.callFunction(n,[i,t[r],l],[]):f=this.callFunction(n,[i,l],[]),[f]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var a;do{var i;a=this.parseGroup(t)}while(((i=a)==null?void 0:i.type)==="internal");if(!a)throw new ke("Expected group after '"+n+"'",r);return a}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var a={type:"text",mode:this.mode,body:r},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return i}parseAtom(t){var r=this.parseGroup("atom",t);if(r?.type==="internal"||this.mode==="text")return r;for(var n,a;;){this.consumeSpaces();var i=this.fetch();if(i.text==="\\limits"||i.text==="\\nolimits"){if(r&&r.type==="op"){var l=i.text==="\\limits";r.limits=l,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=i.text==="\\limits");else throw new ke("Limit controls must follow a math operator",i);this.consume()}else if(i.text==="^"){if(n)throw new ke("Double superscript",i);n=this.handleSupSubscript("superscript")}else if(i.text==="_"){if(a)throw new ke("Double subscript",i);a=this.handleSupSubscript("subscript")}else if(i.text==="'"){if(n)throw new ke("Double superscript",i);var u={type:"textord",mode:this.mode,text:"\\prime"},d=[u];for(this.consume();this.fetch().text==="'";)d.push(u),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:d}}else if(ad[i.text]){var f=N5.test(i.text),m=[];for(m.push(new kn(ad[i.text])),this.consume();;){var b=this.fetch().text;if(!ad[b]||N5.test(b)!==f)break;m.unshift(new kn(ad[b])),this.consume()}var y=this.subparse(m);f?a={type:"ordgroup",mode:"math",body:y}:n={type:"ordgroup",mode:"math",body:y}}else break}return n||a?{type:"supsub",mode:this.mode,base:r,sup:n,sub:a}:r}parseFunction(t,r){var n=this.fetch(),a=n.text,i=js[a];if(!i)return null;if(this.consume(),r&&r!=="atom"&&!i.allowedInArgument)throw new ke("Got function '"+a+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!i.allowedInText)throw new ke("Can't use function '"+a+"' in text mode",n);if(this.mode==="math"&&i.allowedInMath===!1)throw new ke("Can't use function '"+a+"' in math mode",n);var{args:l,optArgs:u}=this.parseArguments(a,i);return this.callFunction(a,l,u,n,t)}callFunction(t,r,n,a,i){var l={funcName:t,parser:this,token:a,breakOnTokenText:i},u=js[t];if(u&&u.handler)return u.handler(l,r,n);throw new ke("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var a=[],i=[],l=0;l<n;l++){var u=r.argTypes&&r.argTypes[l],d=l<r.numOptionalArgs;(r.primitive&&u==null||r.type==="sqrt"&&l===1&&i[0]==null)&&(u="primitive");var f=this.parseGroupOfType("argument to '"+t+"'",u,d);if(d)i.push(f);else if(f!=null)a.push(f);else throw new ke("Null argument, please report this as a bug")}return{args:a,optArgs:i}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var a=this.parseArgumentGroup(n,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var i=this.parseStringGroup("raw",n);return i!=null?{type:"raw",mode:"text",string:i.text}:null}case"primitive":{if(n)throw new ke("A primitive argument cannot be optional");var l=this.parseGroup(t);if(l==null)throw new ke("Expected group as "+t,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new ke("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var a="",i;(i=this.fetch()).text!=="EOF";)a+=i.text,this.consume();return this.consume(),n.text=a,n}parseRegexGroup(t,r){for(var n=this.fetch(),a=n,i="",l;(l=this.fetch()).text!=="EOF"&&t.test(i+l.text);)a=l,i+=a.text,this.consume();if(i==="")throw new ke("Invalid "+r+": '"+n.text+"'",n);return n.range(a,i)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new ke("Invalid color: '"+r.text+"'",r);var a=n[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!a)throw new ke("Invalid size: '"+r.text+"'",r);var i={number:+(a[1]+a[2]),unit:a[3]};if(!Z7(i))throw new ke("Invalid unit: '"+i.unit+"'",r);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var a=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return r&&this.switchMode(a),l}parseGroup(t,r){var n=this.fetch(),a=n.text,i;if(a==="{"||a==="\\begingroup"){this.consume();var l=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var u=this.parseExpression(!1,l),d=this.fetch();this.expect(l),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:rn.range(n,d),body:u,semisimple:a==="\\begingroup"||void 0}}else if(i=this.parseFunction(r,t)||this.parseSymbol(),i==null&&a[0]==="\\"&&!L9.hasOwnProperty(a)){if(this.settings.throwOnError)throw new ke("Undefined control sequence: "+a,n);i=this.formatUnsupportedCmd(a),this.consume()}return i}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var a=t[n],i=a.text;i==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:rn.range(a,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:rn.range(a,t[n+1]),text:"--"}),r-=1)),(i==="'"||i==="`")&&t[n+1].text===i&&(t.splice(n,2,{type:"textord",mode:"text",loc:rn.range(a,t[n+1]),text:i+i}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),a=n.charAt(0)==="*";if(a&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new ke(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:a}}D5.hasOwnProperty(r[0])&&!St[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=D5[r[0]]+r.slice(1));var i=Rq.exec(r);i&&(r=r.substring(0,i.index),r==="i"?r="":r==="j"&&(r=""));var l;if(St[this.mode][r]){this.settings.strict&&this.mode==="math"&&wp.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var u=St[this.mode][r].group,d=rn.range(t),f;if(CH.hasOwnProperty(u)){var m=u;f={type:"atom",mode:this.mode,family:m,loc:d,text:r}}else f={type:u,mode:this.mode,loc:d,text:r};l=f}else if(r.charCodeAt(0)>=128)this.settings.strict&&(G7(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),l={type:"textord",mode:"text",loc:rn.range(t),text:r};else return null;if(this.consume(),i)for(var b=0;b<i[0].length;b++){var y=i[0][b];if(!jm[y])throw new ke("Unknown accent ' "+y+"'",t);var v=jm[y][this.mode]||jm[y].text;if(!v)throw new ke("Accent "+y+" unsupported in "+this.mode+" mode",t);l={type:"accent",mode:this.mode,loc:rn.range(t),label:v,isStretchy:!1,isShifty:!0,base:l}}return l}}_f.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Q2=function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new _f(t,r);delete n.gullet.macros.current["\\df@tag"];var a=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new ke("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:n.subparse([new kn("\\df@tag")])}]}return a},B9=function(t,r,n){r.textContent="";var a=W2(t,n).toNode();r.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),B9=function(){throw new ke("KaTeX doesn't work in quirks mode.")});var Iq=function(t,r){var n=W2(t,r).toMarkup();return n},$q=function(t,r){var n=new z2(r);return Q2(t,n)},P9=function(t,r,n){if(n.throwOnError||!(t instanceof ke))throw t;var a=te.makeSpan(["katex-error"],[new En(r)]);return a.setAttribute("title",t.toString()),a.setAttribute("style","color:"+n.errorColor),a},W2=function(t,r){var n=new z2(r);try{var a=Q2(t,n);return XH(a,t,n)}catch(i){return P9(i,t,n)}},Hq=function(t,r){var n=new z2(r);try{var a=Q2(t,n);return QH(a,t,n)}catch(i){return P9(i,t,n)}},qq="0.16.22",Uq={Span:dc,Anchor:F2,SymbolNode:En,SvgNode:Va,PathNode:Ps,LineNode:_p},jo={version:qq,render:B9,renderToString:Iq,ParseError:ke,SETTINGS_SCHEMA:pd,__parse:$q,__renderToDomTree:W2,__renderToHTMLTree:Hq,__setFontMetrics:xH,__defineSymbol:S,__defineFunction:Te,__defineMacro:R,__domTree:Uq};class zm{static SETTINGS_KEY="advanced_editor_settings";static loadSettings(){try{const t=localStorage.getItem(this.SETTINGS_KEY);if(t)return JSON.parse(t)}catch(t){console.warn("[SettingsService] Failed to load settings:",t)}return{enabled:!0}}static saveSettings(t){try{return localStorage.setItem(this.SETTINGS_KEY,JSON.stringify(t)),!0}catch(r){return console.warn("[SettingsService] Failed to save settings:",r),!1}}}class J2{index={};PH="";marks=[];lastLen=0;enabled=!0;constructor(t,r=!0){this.enabled=r,this.buildIndex(t)}buildIndex(t){this.index={};for(const r of t){const n={...r,trigLen:r.trigger.length,trigLast:r.trigger.slice(-1)};(this.index[n.trigLast]??={})[n.trigLen]??=[],this.index[n.trigLast][n.trigLen].push(n)}}setEnabled(t){this.enabled=t}getEnabled(){return this.enabled}jumpTab(t){if(!this.enabled||!this.marks.length)return!1;const r=this.marks.shift();return t.selectionStart=t.selectionEnd=r.start,!0}shiftMarks(t,r){if(t!==0)for(const n of this.marks)n.start>=r&&(n.start+=t)}tryExpand(t,r,n,a=""){if(!this.enabled)return!1;const i=t.selectionStart;if(i===0)return!1;const l=t.value,u=this.index[l[i-1]];if(!u)return!1;for(const d of Object.keys(u)){const f=+d;if(f>i)continue;const m=l.slice(i-f,i);for(const b of u[f]){if(b.trigger!==m||!r&&m.at(-1)!==a||b.mode==="slow"&&!r||b.scope!=="both"&&b.scope==="math"!==n)continue;const y=l.slice(0,i-f),v=l.slice(i);let x=b.expansion;x=x.replace(/\|\|/g,this.PH),x=x.replace(/\|/g,this.PH),this.marks=[];let w="",k=y.length;for(const C of x.split(this.PH))w+=C,this.marks.push({start:k+C.length}),k+=C.length;const E=this.marks.shift().start;return t.value=y+w+v,t.selectionStart=t.selectionEnd=E,this.lastLen=t.value.length,t.dispatchEvent(new Event("input",{bubbles:!0})),!0}}return!1}handleInput=t=>{const r=t.value.length-this.lastLen;this.lastLen=t.value.length,this.shiftMarks(r,t.selectionStart)};static async load(){const t=[];try{const n="/jd/",a=[`${n}static/snippets/basic.json`,`${n}static/snippets/math.json`,`${n}static/snippets/functions.json`,`${n}static/snippets/analysis.json`,`${n}static/snippets/algebra.json`,`${n}static/snippets/sets.json`,`${n}static/snippets/logic.json`,`${n}static/snippets/ineq.json`,`${n}static/snippets/brackets.json`,`${n}static/snippets/linear_aglebra.json`];for(const i of a)try{const l=await fetch(i);if(l.ok){const d=(await l.json()).snippets||[];Array.isArray(d)&&t.push(...d)}else console.warn(`[SnippetEngine] Failed to load ${i}: HTTP ${l.status}`)}catch(l){console.warn(`[SnippetEngine] Failed to load ${i}:`,l)}}catch(n){console.warn("[SnippetEngine] Failed to load snippet files:",n)}const r={a:"alpha",b:"beta",g:"gamma",d:"delta",e:"varepsilon",z:"zeta",h:"eta",t:"theta",i:"iota",k:"kappa",l:"lambda",m:"mu",n:"nu",x:"xi",o:"omicron",p:"pi",r:"rho",s:"sigma",u:"upsilon",f:"phi",c:"chi",y:"psi",w:"omega"};for(const[n,a]of Object.entries(r))t.push({trigger:`gr${n}`,expansion:`\\${a}`,mode:"fast",scope:"math"}),t.push({trigger:`gr${n.toUpperCase()}`,expansion:`\\${a.charAt(0).toUpperCase()+a.slice(1)}`,mode:"fast",scope:"math"});for(const n of"ABCDEFGHIJKLMNOPQRSTUVWXYZ")t.push({trigger:`bb${n}`,expansion:`\\mathbb{${n}}`,mode:"fast",scope:"math"}),t.push({trigger:`cal${n}`,expansion:`\\mathcal{${n}}`,mode:"fast",scope:"math"});return t.length===0&&(console.warn("[SnippetEngine] No snippets loaded from files, using defaults"),t.push({trigger:"dm",expansion:"\\[ || \\]",mode:"slow",scope:"text"},{trigger:"mk",expansion:"$||$",mode:"slow",scope:"text"})),new J2(t,!0)}}function I9(){const[e,t]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(()=>zm.loadSettings().enabled);return N.useEffect(()=>{(async()=>{try{const m=await J2.load();m.setEnabled(a),t(m)}finally{n(!1)}})()},[]),{isLoading:r,snippetsEnabled:a,toggleSnippets:f=>{i(f),e&&e.setEnabled(f);const m=zm.loadSettings();m.enabled=f,zm.saveSettings(m)},handleInput:f=>{e&&e.handleInput(f)},handleKeyDown:f=>{if(!e||!a)return;const m=f.currentTarget,b=m.value.slice(0,m.selectionStart),y=(b.match(/\$/g)||[]).length,v=(b.match(/\\\[/g)||[]).length,x=(b.match(/\\\]/g)||[]).length,w=y%2===1||v>x;if(f.key==="Tab"){const E=m.value[m.selectionStart-1]??"";(e.tryExpand(m,!0,w,E)||e.jumpTab(m))&&f.preventDefault();return}(f.key.length===1?f.key:"")&&requestAnimationFrame(()=>{const E=m.value[m.selectionStart-1]??"";e.tryExpand(m,!1,w,E)})}}}function Vq({isOpen:e,onClose:t,onSelect:r}){const[n,a]=N.useState(null),[i,l]=N.useState(null),u=N.useRef(null),d=8,f=8;N.useEffect(()=>{const y=v=>{u.current&&!u.current.contains(v.target)&&t()};return e&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[e,t]);const m=(y,v)=>{a({row:y,col:v}),l({rows:y+1,cols:v+1})},b=()=>{i&&(r(i.rows,i.cols),t())};return e?p.jsxs("div",{ref:u,className:"absolute top-full left-0 mt-1 p-3 rounded-lg shadow-lg z-50 border",style:{backgroundColor:"var(--bg-panel)",borderColor:"var(--border-primary)"},children:[p.jsx("div",{className:"mb-2 text-sm font-medium",style:{color:"var(--text-primary)"},children:"Vlj tabellstorlek"}),p.jsx("div",{className:"grid gap-1 mb-3",children:Array.from({length:d},(y,v)=>p.jsx("div",{className:"flex gap-1",children:Array.from({length:f},(x,w)=>{const k=n&&v<=n.row&&w<=n.col,E=i&&v<i.rows&&w<i.cols;return p.jsx("div",{className:`w-6 h-6 border rounded cursor-pointer transition-all duration-200 ${k||E?"bg-accent-primary border-accent-primary":"border-border hover:border-accent-primary/50"}`,onMouseEnter:()=>m(v,w),onClick:b,style:{backgroundColor:k||E?"var(--accent-primary)":"transparent",borderColor:k||E?"var(--accent-primary)":"var(--border-primary)"}},w)})},v))}),i&&p.jsxs("div",{className:"text-xs text-center",style:{color:"var(--text-secondary)"},children:[i.rows,"  ",i.cols," tabell"]})]}):null}function Gq({onBold:e,onItalic:t,onUnderline:r,onInsertTable:n,onInsertCode:a,onInsertImage:i,onInsertList:l,snippetsEnabled:u=!1,onToggleSnippets:d,snippetsLoading:f=!1}){const[m,b]=N.useState(!1),[y,v]=N.useState(!1),x=N.useRef(null);return N.useEffect(()=>{const w=k=>{x.current&&!x.current.contains(k.target)&&b(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),p.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg transition-all duration-200",style:{backgroundColor:"var(--bg-panel)",border:"1px solid var(--border-primary)"},children:[p.jsx("button",{onClick:e,className:"p-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95",style:{color:"var(--text-primary)"},title:"Fet text",children:p.jsx($E,{size:16})}),p.jsx("button",{onClick:t,className:"p-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95",style:{color:"var(--text-primary)"},title:"Kursiv text",children:p.jsx(LA,{size:16})}),p.jsx("button",{onClick:r,className:"p-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95",style:{color:"var(--text-primary)"},title:"Understruken text",children:p.jsx(EC,{size:16})}),p.jsx("div",{className:"w-px h-6",style:{backgroundColor:"var(--border-secondary)"}}),p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>v(!y),className:"p-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95",style:{color:"var(--text-primary)"},title:"Infoga tabell",children:p.jsx(yC,{size:16})}),p.jsx(Vq,{isOpen:y,onClose:()=>v(!1),onSelect:(w,k)=>{n(w,k),v(!1)}})]}),p.jsx("button",{onClick:a,className:"p-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95",style:{color:"var(--text-primary)"},title:"Infoga kod-block",children:p.jsx(dv,{size:16})}),p.jsx("button",{onClick:i,className:"p-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95",style:{color:"var(--text-primary)"},title:"Infoga bild",children:p.jsx(OA,{size:16})}),p.jsx("div",{className:"w-px h-6",style:{backgroundColor:"var(--border-secondary)"}}),p.jsxs("div",{className:"relative",ref:x,children:[p.jsxs("button",{onClick:()=>b(!m),className:"p-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10 hover:scale-105 active:scale-95 flex items-center gap-1",style:{color:"var(--text-primary)"},title:"Infoga lista",children:[p.jsx(UA,{size:16}),p.jsx(Ri,{size:12,className:`transition-transform duration-200 ${m?"rotate-180":""}`})]}),m&&p.jsxs("div",{className:"absolute top-full left-0 mt-1 rounded-lg shadow-lg z-10 min-w-[140px] border",style:{backgroundColor:"var(--bg-panel)",borderColor:"var(--border-primary)"},children:[p.jsxs("button",{onClick:()=>{l("bullet"),b(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-accent-primary/10 transition-colors duration-200 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[p.jsx(oA,{size:12}),"Punktlista"]}),p.jsxs("button",{onClick:()=>{l("numbered"),b(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-accent-primary/10 transition-colors duration-200 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[p.jsx(DA,{size:12}),"Numrerad"]}),p.jsxs("button",{onClick:()=>{l("alpha"),b(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-accent-primary/10 transition-colors duration-200 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[p.jsx(kC,{size:12}),"Alfabetisk"]})]})]}),p.jsx("div",{className:"w-px h-6",style:{backgroundColor:"var(--border-secondary)"}}),d&&p.jsxs("button",{onClick:()=>d(!u),disabled:f,className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 hover:scale-105 active:scale-95 ${u?"bg-accent-primary text-white shadow-sm":"bg-panel text-primary hover:bg-accent-primary/10"} ${f?"opacity-40 cursor-not-allowed":""}`,style:{backgroundColor:u?"var(--accent-primary)":"var(--bg-panel)",color:u?"var(--button-text)":"var(--text-primary)",border:"1px solid var(--border-primary)"},title:"Snippets",children:[p.jsx(zC,{size:16}),p.jsx("span",{className:"font-mono",children:"SNIPPETS"})]})]})}function Zq({textareaRef:e,value:t,setValue:r,onChange:n,onImagePaste:a,addNotification:i}){const l=N.useMemo(()=>["image/png","image/jpeg","image/jpg"],[]),u=2*1024*1024,d=N.useCallback((v,x)=>{if(!a||!l.includes(v.type))return;if(v.size>u){i({title:"Fr stor fil",message:`Filen r fr stor. Maximal storlek r 2 MB, men filen r ${(v.size/(1024*1024)).toFixed(1)} MB.`,type:"error",duration:6e3});return}const w=URL.createObjectURL(v),k=`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,E=`\\includegraphics[width=\\linewidth]{${k}}`,C=e.current;let j,F;x?{start:j,end:F}=x:C?(j=C.selectionStart,F=C.selectionEnd):(j=t.length,F=t.length);const D=t.substring(0,j)+`
`+E+`
`+t.substring(F);r(D),n(D),a?.({id:k,blobUrl:w,file:v,placeholderText:E}),i({title:"Bild tillagd",message:`Bild "${v.name}" har lagts till i editorn`,type:"success",duration:3e3})},[l,u,a,i,e,t,r,n]),f=N.useCallback(v=>{const x=v.clipboardData.items;for(let w=0;w<x.length;w++){const k=x[w];if(k.kind==="file"&&k.type.startsWith("image/")){v.preventDefault();const E=k.getAsFile();if(E){const C=v.currentTarget;d(E,{start:C.selectionStart,end:C.selectionEnd})}return}}},[d]),m=N.useCallback(v=>{v.preventDefault();const x=Array.from(v.dataTransfer.files).filter(k=>k.type.startsWith("image/"));if(!x.length)return;const w=v.currentTarget;d(x[0],{start:w.selectionStart,end:w.selectionEnd})},[d]),b=N.useCallback(v=>{v.preventDefault(),v.dataTransfer.dropEffect="copy"},[]),y=N.useCallback(()=>{const v=document.createElement("input");v.type="file",v.accept="image/*",v.onchange=x=>{const w=x.target.files?.[0];if(w){const k=e.current,E=k?{start:k.selectionStart,end:k.selectionEnd}:void 0;d(w,E)}},v.click()},[e,d]);return{handlePaste:f,handleDrop:m,handleDragOver:b,insertImage:y}}function Kq({textareaRef:e,setSrc:t,onChange:r}){const n=N.useCallback((u,d)=>{const f=e.current;if(!f)return;const m=f.selectionStart,b=f.selectionEnd,y=f.value.substring(m,b),v=u+y+d,x=f.value.substring(0,m)+v+f.value.substring(b);t(x),r(x),setTimeout(()=>{f.setSelectionRange(m+u.length,m+u.length+y.length),f.focus()},0)},[e,t,r]),a=N.useCallback((u,d)=>{const f=e.current;if(!f)return;let m,b;u&&d?(m=Math.max(1,Math.min(10,d)),b=Math.max(2,Math.min(20,u))):(m=Math.max(1,Math.min(10,Number(prompt("Antal kolumner (1-10):","3"))||3)),b=Math.max(2,Math.min(20,Number(prompt("Antal rader (inkl. header, 2-20):","3"))||3)));const y=`| ${Array.from({length:m},(C,j)=>`Kolumn ${j+1}`).join(" | ")} |`,v=`|${Array(m).fill("-------").join("|")}|`,x=Array.from({length:b-1},(C,j)=>`| ${Array.from({length:m},(F,D)=>`Data ${j+1}-${D+1}`).join(" | ")} |`).join(`
`),w=`
${y}
${v}
${x}
`,k=f.selectionStart,E=f.value.slice(0,k)+w+f.value.slice(k);t(E),r(E),setTimeout(()=>{const C=k+w.length;f.setSelectionRange(C,C),f.focus()},0)},[e,t,r]),i=N.useCallback(()=>{const u=e.current;if(!u)return;const d='\n```python\n# Din kod hr\nprint("Hello, World!")\n```\n',f=u.selectionStart,m=u.value.slice(0,f)+d+u.value.slice(f);t(m),r(m),setTimeout(()=>{const b=f+d.indexOf("#")+1;u.setSelectionRange(b,b),u.focus()},0)},[e,t,r]),l=N.useCallback(u=>{const d=e.current;if(!d)return;const f=d.selectionStart,m=d.selectionEnd,b=d.value.substring(f,m),y=b.trim()?b.split(`
`).filter(w=>w.trim()):["Item 1","Item 2","Item 3"];let v;u==="alpha"?v=`
${y.map((k,E)=>`${String.fromCharCode(97+E)}. ${k}`).join(`
`)}
`:v=y.map((w,k)=>u==="bullet"?`- ${w}`:`${k+1}. ${w}`).join(`
`);const x=d.value.substring(0,f)+v+d.value.substring(m);t(x),r(x),setTimeout(()=>{const w=f+v.length;d.setSelectionRange(w,w),d.focus()},0)},[e,t,r]);return{wrapText:n,insertTable:a,insertCode:i,insertList:l}}function Yq(e){try{let t=e;return t=t.replace(/\uFFFD/g,""),t=t.replace(/[\u200B-\u200D\uFEFF]/g,""),t=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/<b>(.*?)<\/b>/g,"<strong>$1</strong>"),t=t.replace(new RegExp("(?<!\\*)\\*(?!\\*)([^*]+)\\*(?!\\*)","g"),"<em>$1</em>"),t=t.replace(/<i>(.*?)<\/i>/g,"<em>$1</em>"),t=t.replace(/<u>(.*?)<\/u>/g,"<u>$1</u>"),t=t.replace(/```(\w+)?\n(.*?)```/gs,(r,n,a)=>{const i=a.replace(/</g,"&lt;").replace(/>/g,"&gt;");return`<pre class="code-block"${n?` data-lang="${n}"`:""}><code>${i}</code></pre>`}),t=t.replace(/`([^`]+)`/g,'<code class="inline-code">$1</code>'),t=t.replace(/^(\s*- .+(?:\n\s*- .+)*)/gm,r=>`<ul class="markdown-list">${r.split(`
`).filter(a=>a.trim()).map(a=>`<li>${a.replace(/^\s*- /,"").trim()}</li>`).join("")}</ul>`),t=t.replace(/^(\s*\d+\. .+(?:\n\s*\d+\. .+)*)/gm,r=>`<ol class="markdown-list">${r.split(`
`).filter(a=>a.trim()).map(a=>`<li>${a.replace(/^\s*\d+\. /,"").trim()}</li>`).join("")}</ol>`),t=t.replace(/^(\s*[a-z]\. .+(?:\n\s*[a-z]\. .+)*)/gm,r=>`<ol class="markdown-list" style="list-style-type: lower-alpha;">${r.split(`
`).filter(a=>a.trim()).map(a=>`<li>${a.replace(/^\s*[a-z]\. /,"").trim()}</li>`).join("")}</ol>`),t=t.replace(/\n/g,"<br>"),t=t.replace(/\$\$(.*?)\$\$/g,(r,n)=>{try{return jo.renderToString(n,{displayMode:!0,throwOnError:!1,errorColor:"#cc0000"})}catch(a){return console.warn("KaTeX error (display):",a),`<span class="katex-error" style="color: #cc0000;">${r}</span>`}}),t=t.replace(/\$(.*?)\$/g,(r,n)=>{try{return jo.renderToString(n,{displayMode:!1,throwOnError:!1,errorColor:"#cc0000"})}catch(a){return console.warn("KaTeX error (inline):",a),`<span class="katex-error" style="color: #cc0000;">${r}</span>`}}),t}catch(t){return console.error("Error in renderPreview:",t),`<span style="color: #cc0000;">Error rendering preview: ${t}</span>`}}const Xq=({value:e,onChange:t,placeholder:r="Skriv din uppgift hr...",className:n="",onImagePaste:a,pendingImages:i=[],showPreview:l=!0})=>{const[u,d]=N.useState(e),{isLoading:f,snippetsEnabled:m,toggleSnippets:b,handleInput:y,handleKeyDown:v}=I9(),x=N.useRef(null),w=N.useRef(null),{handlePaste:k,handleDrop:E,handleDragOver:C,insertImage:j}=Zq({textareaRef:w,value:u,setValue:d,onChange:t,onImagePaste:a,addNotification:()=>{}});N.useEffect(()=>{if(w.current){const L=w.current;L.style.height="auto",L.style.height=Math.max(L.scrollHeight,240)+"px"}},[u]),N.useEffect(()=>{if(!(!l||!x.current))try{let L=u;L=L.replace(/\uFFFD/g,""),L=L.replace(/[\u200B-\u200D\uFEFF]/g,""),L=L.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),L=L.replace(/<b>(.*?)<\/b>/g,"<strong>$1</strong>"),L=L.replace(new RegExp("(?<!\\*)\\*(?!\\*)([^*]+)\\*(?!\\*)","g"),"<em>$1</em>"),L=L.replace(/<i>(.*?)<\/i>/g,"<em>$1</em>"),L=L.replace(/<u>(.*?)<\/u>/g,"<u>$1</u>"),L=L.replace(/```(\w+)?\n(.*?)```/gs,(re,he,ce)=>{const Y=ce.replace(/</g,"&lt;").replace(/>/g,"&gt;");return`<pre class="code-block"${he?` data-lang="${he}"`:""}><code>${Y}</code></pre>`}),L=L.replace(/`([^`]+)`/g,'<code class="inline-code">$1</code>'),L=L.replace(/^(\s*- .+(?:\n\s*- .+)*)/gm,re=>`<ul class="markdown-list">${re.split(`
`).filter(ce=>ce.trim()).map(ce=>`<li>${ce.replace(/^\s*- /,"").trim()}</li>`).join("")}</ul>`),L=L.replace(/^(\s*\d+\. .+(?:\n\s*\d+\. .+)*)/gm,re=>`<ol class="markdown-list">${re.split(`
`).filter(ce=>ce.trim()).map(ce=>`<li>${ce.replace(/^\s*\d+\. /,"").trim()}</li>`).join("")}</ol>`),L=L.replace(/^(\s*[a-z]\. .+(?:\n\s*[a-z]\. .+)*)/gm,re=>`<ol class="markdown-list alpha-list">${re.split(`
`).filter(ce=>ce.trim()).map(ce=>`<li>${ce.replace(/^\s*[a-z]\. /,"").trim()}</li>`).join("")}</ol>`),L=L.replace(/\$\$(.*?)\$\$/g,(re,he)=>{try{return jo.renderToString(he,{displayMode:!0,throwOnError:!1,strict:!1})}catch(ce){return`<span class="text-red-500">${ce instanceof Error?ce.message:"Unknown error"}</span>`}}),L=L.replace(/\$(.*?)\$/g,(re,he)=>{try{return jo.renderToString(he,{displayMode:!1,throwOnError:!1,strict:!1})}catch(ce){return`<span class="text-red-500">${ce instanceof Error?ce.message:"Unknown error"}</span>`}}),L=L.replace(/\\\((.*?)\\\)/g,(re,he)=>{try{return jo.renderToString(he,{displayMode:!1,throwOnError:!1,strict:!1})}catch(ce){return`<span class="text-red-500">${ce instanceof Error?ce.message:"Unknown error"}</span>`}}),L=L.replace(/\\\[(.*?)\\\]/g,(re,he)=>{try{return jo.renderToString(he,{displayMode:!0,throwOnError:!1,strict:!1})}catch(ce){return`<span class="text-red-500">${ce instanceof Error?ce.message:"Unknown error"}</span>`}}),L=Os(L,i),L=L.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(re,he,ce)=>/^(blob:|data:image\/|https?:)/i.test(ce)?`<img src="${ce}" alt="${he}" style="max-width:100%; display:block; margin:8px 0;" />`:'<span class="text-red-500">[osker bild-url blockerad]</span>'),L=L.replace(/\|.*\|.*\n\|[\s\-:|]+\n(\|.*\n?)*/g,re=>{const he=re.trim().split(`
`).filter(Be=>Be.trim());if(he.length<3)return re;const ce=he[0].split("|").slice(1,-1).map(Be=>Be.trim()),Y=he.slice(2).map(Be=>Be.split("|").slice(1,-1).map(I=>I.trim())),ie=ce.map(Be=>`<th>${Be}</th>`).join(""),Ee=Y.map(Be=>`<tr>${Be.map(I=>`<td>${I}</td>`).join("")}</tr>`).join("");return`
          <table class="markdown-table centered">
            <thead><tr>${ie}</tr></thead>
            <tbody>${Ee}</tbody>
          </table>
        `}),L=L.split(/(<table[^>]*>.*?<\/table>|<ul[^>]*>.*?<\/ul>|<ol[^>]*>.*?<\/ol>|<pre[^>]*>.*?<\/pre>)/gs).map(re=>re.match(/^<(table|ul|ol|pre)/)?re:re.replace(/\n/g,"<br>")).join(""),x.current.innerHTML=Yq(u)}catch(L){x.current&&(x.current.innerHTML=`<span class="text-red-500 text-sm">Rendering error: ${L instanceof Error?L.message:"Unknown error"}</span>`)}},[u,i,l]),N.useEffect(()=>{d(e)},[e]);const F=L=>{const H=L.target.value;d(H),t(H),y(L.currentTarget);const re=L.currentTarget;re.style.height="auto",re.style.height=Math.max(re.scrollHeight,240)+"px"},D=L=>{const H=L.currentTarget;if(L.ctrlKey||L.metaKey)switch(L.key.toLowerCase()){case"b":L.preventDefault(),O("**","**");return;case"i":L.preventDefault(),O("*","*");return;case"u":L.preventDefault(),O("++","++");return}v(L);const re=()=>{const he=H.value;he!==u&&(d(he),t(he))};requestAnimationFrame(()=>{re(),setTimeout(re,0)})},{wrapText:O,insertTable:$,insertCode:B,insertList:Z}=Kq({textareaRef:w,setSrc:d,onChange:t}),G=N.useRef(null);return N.useEffect(()=>{G.current=new ln({html:!1,linkify:!0,breaks:!0,typographer:!1})},[]),p.jsxs("div",{className:`flex flex-col gap-2 ${n}`,children:[p.jsx(Gq,{onBold:()=>O("**","**"),onItalic:()=>O("*","*"),onUnderline:()=>O("++","++"),onInsertTable:$,onInsertCode:B,onInsertImage:j,onInsertList:Z,snippetsEnabled:m,onToggleSnippets:b,snippetsLoading:f}),p.jsx("div",{className:"flex gap-4",children:p.jsxs("div",{className:"relative w-full",children:[p.jsx("label",{className:"text-sm font-medium text-primary mb-2"}),p.jsx("div",{className:"relative w-full",children:p.jsx("textarea",{ref:w,value:u,onChange:F,onKeyDown:D,onPaste:k,onDrop:E,onDragOver:C,placeholder:r,className:"editor-panel w-full text-primary bg-panel resize-none",style:{minHeight:"240px",border:"1px solid var(--border-primary)",borderRadius:"0.5rem"}})})]})})]})};function Qq({assessmentItems:e,onChange:t,areaId:r=void 0,problemId:n=null,availableAbilities:a}){const{handleInput:i,handleKeyDown:l}=I9(),{problemParent:u}=U7(n),d=r??u?.area_id??null,{parentPath:f}=vu("area",d),m=f?.subject_id??null,{data:b,isError:y,isLoading:v}=Vv(m),x=a||(b?.map(D=>D.ability_code)??[]),w=()=>{const D={ability_code:"Pl",level_code:"E",max_points:1,description_text:""};t([...e,D])},[k,E]=N.useState({}),C=D=>{E(O=>({...O,[D]:!O[D]}))};N.useEffect(()=>{const D=O=>{O.target.closest(".popover-container")||E({})};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const j=(D,O,$)=>{const B=[...e];B[D]={...B[D],[O]:$},t(B)},F=D=>{const O=e.filter(($,B)=>B!==D);t(O)};return p.jsxs("div",{className:"space-y-4",children:[v&&p.jsx("div",{className:"text-sm text-blue-600 bg-blue-50 border border-blue-300 p-2 rounded",children:"Hmtar frmgor fr mnet..."}),y&&p.jsxs("div",{className:"text-sm text-orange-600 bg-orange-50 border border-orange-300 p-2 rounded",children:["Kunde inte hmta mnets frmgor frn API  anvnder fallbacklista. Kontrollera ntverk eller backend.",p.jsx("br",{}),p.jsxs("small",{children:["Debug: areaId=",r,", abilities count=",b?.length||0]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-3 py-2 text-sm bg-accent text-white rounded-lg hover:bg-accent-secondary transition-all duration-200 hover:scale-105 active:scale-95",children:[p.jsx(Ka,{size:16}),p.jsx("span",{children:"Lgg till bedmning"})]})}),e.length===0&&p.jsxs("div",{className:"text-center py-8 text-muted",children:[p.jsx("p",{children:"Inga bedmningsanvisningar n."}),p.jsx("p",{className:"text-sm mt-2",children:'Klicka "Lgg till" fr att skapa en.'})]}),p.jsx("div",{className:"space-y-2",children:e.map((D,O)=>p.jsxs("div",{className:"flex items-center gap-2 p-3 border border-panel rounded bg-panel",children:[p.jsxs("div",{className:"relative popover-container",children:[p.jsx("button",{onClick:()=>C(`points-${O}`),className:"px-2 py-1 text-xs border rounded bg-panel text-primary hover:bg-secondary transition-colors font-mono",style:{fontFamily:"Roboto Mono, monospace",fontSize:"12px"},children:D.max_points}),k[`points-${O}`]&&p.jsx("div",{className:"absolute top-full left-0 mt-1 bg-panel border border-border rounded shadow-lg z-10 min-w-[60px]",children:[1,2,3,4,5,6,7,8,9,10].map($=>p.jsx("button",{onClick:()=>{j(O,"max_points",$),C(`points-${O}`)},className:"block w-full px-2 py-1 text-xs text-left hover:bg-secondary font-mono",style:{fontFamily:"Roboto Mono, monospace",fontSize:"12px"},children:$},$))})]}),p.jsxs("div",{className:"relative popover-container",children:[p.jsx("button",{onClick:()=>C(`ability-${O}`),className:"px-2 py-1 text-xs border rounded bg-panel text-primary hover:bg-secondary transition-colors font-mono",style:{fontFamily:"Roboto Mono, monospace",fontSize:"12px"},children:D.ability_code}),k[`ability-${O}`]&&p.jsx("div",{className:"absolute top-full left-0 mt-1 bg-panel border border-border rounded shadow-lg z-10 min-w-[80px] max-h-40 overflow-y-auto",children:x.map($=>p.jsx("button",{onClick:()=>{j(O,"ability_code",$),C(`ability-${O}`)},className:"block w-full px-2 py-1 text-xs text-left hover:bg-secondary font-mono",style:{fontFamily:"Roboto Mono, monospace",fontSize:"12px"},children:$},$))})]}),p.jsxs("div",{className:"relative popover-container",children:[p.jsx("button",{onClick:()=>C(`level-${O}`),className:"px-2 py-1 text-xs border rounded bg-panel text-primary hover:bg-secondary transition-colors font-mono",style:{fontFamily:"Roboto Mono, monospace",fontSize:"12px"},children:D.level_code}),k[`level-${O}`]&&p.jsx("div",{className:"absolute top-full left-0 mt-1 bg-panel border border-border rounded shadow-lg z-10 min-w-[40px]",children:["E","C","A"].map($=>p.jsx("button",{onClick:()=>{j(O,"level_code",$),C(`level-${O}`)},className:"block w-full px-2 py-1 text-xs text-left hover:bg-secondary font-mono",style:{fontFamily:"Roboto Mono, monospace",fontSize:"12px"},children:$},$))})]}),p.jsx("textarea",{value:D.description_text,onChange:$=>{i($.target),j(O,"description_text",$.target.value)},onKeyDown:$=>{l($);const B=$.currentTarget,Z=()=>{B&&B.value!==D.description_text&&j(O,"description_text",B.value)};requestAnimationFrame(()=>{Z(),setTimeout(Z,0)})},placeholder:"Beskrivning av bedmning",className:"flex-1 px-2 py-1 text-xs border rounded bg-panel text-primary font-mono",style:{fontFamily:"Roboto Mono, monospace",fontSize:"12px",minHeight:"48px"},rows:1,ref:$=>{$&&($.style.height="auto",$.style.height=Math.max($.scrollHeight,48)+"px")},onInput:$=>{const B=$.target;B.style.height="auto",B.style.height=Math.max(B.scrollHeight,48)+"px"}}),p.jsx("button",{onClick:()=>F(O),className:"px-2 py-1 text-sm text-red-500 hover:text-red-600 transition-all duration-200 hover:scale-105 active:scale-95",title:"Ta bort",children:p.jsx(Ln,{size:14})})]},O))}),p.jsx("div",{className:"h-8"})]})}function Wq({trigger:e,children:t,isOpen:r,onOpenChange:n,onClose:a,disabled:i=!1,className:l="",popoverClassName:u=""}){const[d,f]=N.useState(!1),[m,b]=N.useState(!1),y=N.useRef(null),v=N.useRef(null),x=r!==void 0?r:d,w=N.useCallback(j=>{r!==void 0?n?.(j):f(j),j||a?.()},[r,n,a]),k=N.useCallback(()=>{b(!0)},[]),E=N.useCallback(()=>{b(!1),setTimeout(()=>{m||w(!1)},100)},[m,w]);N.useEffect(()=>{const j=F=>{const D=F.target,O=y.current?.contains(D),$=v.current?.contains(D);!O&&!$&&setTimeout(()=>{m||w(!1)},150)};if(x)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[x,m,w]);const C=N.useCallback(()=>{i||w(!x)},[i,x,w]);return p.jsxs("div",{className:`relative ${l}`,children:[p.jsx("div",{ref:y,onClick:C,onMouseEnter:k,onMouseLeave:E,children:e}),x&&!i&&p.jsx("div",{ref:v,className:`absolute top-full left-0 mt-1 z-50 ${u}`,onMouseEnter:k,onMouseLeave:E,children:t})]})}function Jq({value:e,onChange:t,error:r=!1,disabled:n=!1,placeholder:a="Vlj omrde"}){const[i,l]=Pt.useState(""),[u,d]=Pt.useState(!1),[f,m]=Pt.useState(new Set),{hierarchy:b}=q7(),{parentPath:y}=vu("area",e||null);Pt.useEffect(()=>{if(e!==void 0&&b.length>0){const E=j=>{for(const F of j){if(F.type==="area"&&F.id===e)return F.title;if(F.children){const D=E(F.children);if(D)return D}}return null},C=E(b);l(C||`Omrde ${e}`)}else l("")},[e,b]),Pt.useEffect(()=>{if(u&&e!==void 0&&y){const E=new Set;y.subject_id&&E.add(`subject-${y.subject_id}`),y.course_id&&E.add(`course-${y.course_id}`),y.chapter_id&&E.add(`chapter-${y.chapter_id}`),m(E)}},[u,e,y]);const v=E=>{E&&E.type==="area"&&(t(E.id),l(E.title),d(!1))},x=e?`area-${e}`:void 0,w=p.jsxs("button",{type:"button",disabled:n,className:`w-full p-3 border rounded-lg bg-panel text-primary text-left transition-colors hover:bg-secondary flex items-center justify-between ${r?"border-red-500":"border-border"} ${n?"opacity-40 cursor-not-allowed":"cursor-pointer"}`,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(WA,{size:16,style:{color:"var(--text-secondary)"}}),p.jsx("span",{className:"truncate",children:i||a})]}),p.jsx(Ri,{size:16,className:"transition-transform duration-200",style:{color:"var(--text-secondary)"}})]}),k=p.jsxs("div",{className:"w-96 max-h-[500px] bg-panel border border-border rounded-lg shadow-lg overflow-hidden",children:[p.jsx("div",{className:"p-3 border-b border-border",children:p.jsx("h3",{className:"text-sm font-medium text-primary",children:"Vlj omrde"})}),p.jsx("div",{className:"max-h-[450px] overflow-y-auto hide-scrollbar",children:p.jsx(yv,{onSelect:v,height:420,selectedNodeId:x,expandedNodes:f})})]});return p.jsx(Wq,{trigger:w,disabled:n,popoverClassName:"z-50",isOpen:u,onOpenChange:d,children:k})}function eU({pendingImages:e,onImagePaste:t,existingProblem:r}){const{register:n,watch:a,setValue:i,formState:{errors:l}}=d7(),{hierarchy:u,loading:d}=q7(),[f,m]=N.useState(a("promptTex")||""),b=r?.bank_problem_definition_id??null,{problemParent:y}=U7(b);Pt.useEffect(()=>{y?.area_id&&(a("areaId")||i("areaId",y.area_id??void 0,{shouldValidate:!0}))},[y,i,a]),N.useEffect(()=>{const w=a((k,{name:E})=>{E==="promptTex"&&k.promptTex!==f&&m(k.promptTex||"")});return()=>w.unsubscribe()},[a,f]);const v=a("promptTex");N.useEffect(()=>{v!==f&&m(v||"")},[v,f,a]);const x=N.useCallback(w=>{m(w),i("promptTex",w)},[i]);return p.jsxs("div",{className:"flex flex-col gap-6 h-full pr-2",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jq,{value:a("areaId"),onChange:w=>i("areaId",w),error:!!l.areaId,disabled:d,placeholder:"Vlj omrde *",existingProblemAreaId:r?.area_id}),l.areaId&&p.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[p.jsx("span",{className:"text-red-500",children:""}),l.areaId.message]})]}),p.jsx("div",{className:"space-y-2",children:p.jsx("input",{...n("title"),placeholder:"Titel (valfritt)",className:"w-full p-3 border border-border rounded-lg bg-panel text-primary focus:ring-2 focus:ring-accent-primary/20 focus:border-accent-primary transition-colors"})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xq,{value:f,onChange:x,onImagePaste:t,pendingImages:e,placeholder:"Problemtext *",className:"h-full",showPreview:!1}),l.promptTex&&p.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[p.jsx("span",{className:"text-red-500",children:""}),l.promptTex.message]})]}),p.jsx(Qq,{assessmentItems:a("assessment"),onChange:w=>i("assessment",w),areaId:a("areaId"),problemId:r?.bank_problem_definition_id??null,hierarchy:u}),l.assessment&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.assessment.message})]})}const tU={is_digital:p.jsx(mv,{size:14}),is_np:p.jsx(Gd,{size:14}),is_s:p.jsx(Bo,{size:14}),is_r:p.jsx(ec,{size:14}),is_fake:p.jsx(cv,{size:14}),is_elev:p.jsx(fv,{size:14}),is_whole:p.jsx(Gp,{size:14})},M5={is_public:p.jsx(CA,{size:14}),request_publish:p.jsx(Po,{size:14})};function rU({pendingImages:e=[],flags:t,extraFlags:r,dispatchFlags:n,dispatchExtraFlags:a,existingProblem:i}){const{user:l}=un(),u=()=>l?.role==="trusted"||l?.role==="admin",{watch:d}=d7(),f=d("promptTex")||"",m=d("title")||"",b=d("assessment")||[],y=N.useMemo(()=>b.map(x=>({max_points:x.max_points,ability_code:x.ability_code,level_code:x.level_code,description_text:x.description_text||""})),[b]),v=N.useMemo(()=>{let x=f;for(const w of e){const k=new RegExp(w.id,"g");x=x.replace(k,w.blobUrl)}return i?{...i,prompt_tex:x,title:m||i.title,assessment_items:y,is_digital:t.is_digital||!1,is_np:t.is_np||!1,is_s:t.is_s||!1,is_r:t.is_r||!1,is_fake:t.is_fake||!1,is_elev:t.is_elev||!1,is_whole:t.is_whole||!1,is_public:r.is_public||!1,request_publish:r.request_publish||!1}:{bank_problem_definition_id:"draft",prompt_tex:x,title:m||void 0,assessment_items:y,is_digital:t.is_digital||!1,is_np:t.is_np||!1,is_s:t.is_s||!1,is_r:t.is_r||!1,is_fake:t.is_fake||!1,is_elev:t.is_elev||!1,is_whole:t.is_whole||!1,is_public:r.is_public||!1,request_publish:r.request_publish||!1}},[f,m,y,e,t,r,i]);return p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"flex flex-wrap gap-2 items-center mb-4 p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[Object.entries(t).map(([x,w])=>p.jsxs("button",{onClick:()=>{n&&n({type:"toggle",flag:x})},className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 hover:scale-105 active:scale-95 ${w?"bg-accent-primary text-white shadow-sm":"bg-panel text-primary hover:bg-accent-primary/10"}`,style:{backgroundColor:w?"var(--accent-primary)":"var(--bg-panel)",color:w?"var(--button-text)":"var(--text-primary)",border:"1px solid var(--border-primary)"},title:`${x}: ${Zx[x]}`,children:[tU[x],p.jsx("span",{className:"font-mono",children:Zx[x]})]},x)),p.jsx("div",{className:"w-px h-6 mx-1",style:{backgroundColor:"var(--border-secondary)"}}),u()&&p.jsxs("button",{onClick:()=>a?.({type:"toggle-public"}),className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 hover:scale-105 active:scale-95 ${r.is_public?"bg-accent-primary text-white shadow-sm":"bg-panel text-primary hover:bg-accent-primary/10"}`,style:{backgroundColor:r.is_public?"var(--accent-primary)":"var(--bg-panel)",color:r.is_public?"var(--button-text)":"var(--text-primary)",border:"1px solid var(--border-primary)"},title:"is_public: PUB",children:[M5.is_public,p.jsx("span",{className:"font-mono",children:Kx.is_public})]}),p.jsxs("button",{onClick:()=>a?.({type:"toggle-request"}),className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 hover:scale-105 active:scale-95 ${r.request_publish?"bg-accent-primary text-white shadow-sm":"bg-panel text-primary hover:bg-accent-primary/10"}`,style:{backgroundColor:r.request_publish?"var(--accent-primary)":"var(--bg-panel)",color:r.request_publish?"var(--button-text)":"var(--text-primary)",border:"1px solid var(--border-primary)"},title:"request_publish: REQ",children:[M5.request_publish,p.jsx("span",{className:"font-mono",children:Kx.request_publish})]})]}),p.jsx("div",{className:"flex-1 min-h-0",children:p.jsx(Wd,{problem:v,mode:"preview",pendingImages:e})})]})}function nU({problemIds:e,onAddToMemory:t,onRemoveFromMemory:r,showRemoveButtons:n=!1}){const{data:a=[]}=Zd(e);return a.length===0?p.jsx("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:"Laddar liknande problem..."}):p.jsx("div",{className:"h-full",children:p.jsx(Wd,{problems:a,mode:"list",showRemoveButtons:n,onAddToMemory:t,onRemoveFromMemory:r})})}function aU({isOpen:e,similarProblems:t,onProceed:r,onCancel:n}){if(!e)return null;const a=(u,d)=>{console.log(`Add to memory: ${u}, part: ${d}`)},i=(u,d)=>{console.log(`Remove from memory: ${u}, part: ${d}`)},l=p.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-panel border border-border rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4 text-primary",children:"Liknande uppgifter hittades"}),t.length===0?p.jsx("div",{className:"text-center",children:"Laddar"}):p.jsx("div",{className:"h-96",children:p.jsx(nU,{problemIds:t.map(u=>u.bank_problem_definition_id),onAddToMemory:a,onRemoveFromMemory:i,showRemoveButtons:!1})}),p.jsxs("div",{className:"mt-4 flex justify-end gap-4 sticky bottom-0 bg-panel pt-4",children:[p.jsx("button",{className:"border px-4 py-2 rounded",onClick:n,children:"Redigera"}),p.jsx("button",{className:"btn-primary px-4 py-2 rounded",onClick:r,children:"Skapa nd"})]})]})});return zu.createPortal(l,document.body)}function sU({isOpen:e,onClose:t,onSave:r,selectedAreaId:n,selectedNodeIds:a,draftId:i,existingProblem:l}){const u=!!l,{drafts:d,save:f,update:m,remove:b}=u7(),{user:y}=un(),v=vr=>{const tr=crypto.randomUUID(),Ar=new Date().toISOString();return f({id:tr,created_at:Ar,updated_at:Ar,schema_version:1,data:vr}),tr},{form:x,flags:w,extraFlags:k,dispatchFlags:E,dispatchExtraFlags:C,isValid:j,resetForm:F,saveDraft:D,draftPendingImages:O}=R$({selectedAreaId:n,draftId:i,existingProblem:l,drafts:d,onDraftUpdate:m,onDraftAdd:v}),{updateProblem:$,deleteProblem:B,checkSimilarity:Z}=L$(),{showSimilarity:G,similarProblems:L,setSimilarIds:H,setShowSimilarity:re,resetSimilarity:he}=B$(),{pendingImages:ce,setPendingImages:Y,addPendingImage:ie,clearPendingImages:Ee}=I$({draftPendingImages:O}),[Be,I]=N.useState(!1),le=$$(y,l),{handleUpdateProblem:ue,handleCreateProblem:ge,skipSimilarityRef:xe}=P$({form:x,pendingImages:ce,setPendingImages:Y,isEditing:u,existingProblem:l,draftId:i,removeDraft:b,onSave:r,checkSimilarity:Z,setSimilarIds:H,setShowSimilarity:re,setSaving:I,updateProblem:$}),Oe=()=>{Ee(),F(),he(),I(!1),xe.current=!1},ze=async()=>{await D(ce),me("success","Utkast sparat","Ditt utkast har sparats och kan teranvndas senare.")},mt=async()=>{if(!(!l||!window.confirm("Radera uppgiften permanent? Detta gr inte att ngra.")))try{await B.mutateAsync({problemId:Number(l.bank_problem_definition_id),permanent:!0}),me("success","Uppgift raderad","Uppgiften har raderats permanent."),t()}catch(tr){console.error("Fel vid radering:",tr),me("error","Fel vid radering","Kunde inte radera uppgiften. Frsk igen.")}},We=async()=>{const vr=x.getValues();if(!vr.areaId){me("error","Vlj omrde","Du mste vlja ett omrde fr att skapa eller uppdatera en uppgift.");return}if(x.formState.isValid){I(!0);try{const tr={...vr,flags:w,extraFlags:k};u&&l?await ue(tr):await ge(tr)}catch(tr){console.error("Error saving problem:",tr),me("error","Fel vid sparande","Kunde inte spara uppgiften. Frsk igen.")}finally{I(!1),xe.current=!1}}},$t=()=>{re(!1),xe.current=!0,queueMicrotask(()=>We())},xr=()=>{re(!1),xe.current=!1};if(!e)return null;const dn=p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:p.jsxs("div",{className:"bg-panel border border-border rounded-lg shadow-xl w-full max-w-7xl max-h-[95vh] overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[p.jsxs("div",{className:"flex items-center gap-3",children:[u?p.jsx(Io,{size:20,style:{color:"var(--accent-primary)"}}):p.jsx(Ka,{size:20,style:{color:"var(--accent-primary)"}}),p.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)",paddingTop:"10px"},children:u?"Redigera uppgift":"Lgg till ny uppgift"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:ze,className:"flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-accent-primary/10",style:{backgroundColor:"var(--bg-panel)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},title:"Spara utkast",children:[p.jsx(Gd,{size:16}),p.jsx("span",{className:"text-sm",children:"Utkast"})]}),p.jsxs("button",{disabled:!j||Be,onClick:We,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"1px solid var(--accent-primary)"},title:u?"Uppdatera uppgift":"Skapa uppgift",children:[p.jsx(Io,{size:16}),p.jsx("span",{className:"text-sm font-medium",children:Be?u?"Uppdaterar":"Skapar":u?"Uppdatera":"Skapa"})]}),le&&p.jsxs("button",{onClick:mt,className:"flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 hover:bg-red-500/10",style:{backgroundColor:"var(--bg-panel)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},title:"Radera permanent",children:[p.jsx(Ln,{size:16,style:{color:"var(--text-muted)"}}),p.jsx("span",{className:"text-sm",children:"Radera"})]}),p.jsx("button",{onClick:()=>{Oe(),t()},className:"flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-200 hover:bg-accent-primary/10",style:{color:"var(--text-secondary)"},title:"Stng",children:p.jsx(ca,{size:18})})]})]}),p.jsx("div",{className:"p-6 h-[calc(100vh-112px)] grid lg:grid-cols-4 gap-6 overflow-y-auto bg-panel",children:p.jsxs(pL,{...x,children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsx(eU,{selectedNodeIds:a,pendingImages:ce,onImagePaste:ie,flags:w,extraFlags:k,dispatchFlags:E,dispatchExtraFlags:C,existingProblem:l})}),p.jsx("div",{className:"lg:col-span-2 overflow-x-hidden",children:p.jsx(rU,{pendingImages:ce,flags:w,extraFlags:k,dispatchFlags:E,dispatchExtraFlags:C,existingProblem:l})})]})})]})});return p.jsxs(p.Fragment,{children:[zu.createPortal(dn,document.getElementById("modal-root")),p.jsx(aU,{isOpen:G,similarProblems:L,onProceed:$t,onCancel:xr})]})}const j5="problem_test_memory",iU=()=>{const[e,t]=N.useState(()=>{const a=localStorage.getItem(j5);if(a)try{const i=JSON.parse(a);return{hiddenIds:new Set(i.hiddenIds||[]),selectedIds:new Set(i.selectedIds||[]),part1Ids:new Set(i.part1Ids||[]),part2Ids:new Set(i.part2Ids||[]),lastModified:new Date(i.lastModified||Date.now())}}catch(i){console.error("Failed to parse stored memory:",i)}return{hiddenIds:new Set,selectedIds:new Set,part1Ids:new Set,part2Ids:new Set,lastModified:new Date}});N.useEffect(()=>{const a={hiddenIds:Array.from(e.hiddenIds),selectedIds:Array.from(e.selectedIds),part1Ids:Array.from(e.part1Ids),part2Ids:Array.from(e.part2Ids),lastModified:e.lastModified.toISOString()};localStorage.setItem(j5,JSON.stringify(a))},[e]);const r=N.useCallback(a=>{t(i=>{const l={...i,lastModified:new Date};switch(a.type){case"ADD_TO_PART1":l.part1Ids=new Set([...i.part1Ids,a.problemId]),l.selectedIds=new Set([...i.selectedIds,a.problemId]),l.hiddenIds=new Set([...i.hiddenIds,a.problemId]);break;case"ADD_TO_PART2":l.part2Ids=new Set([...i.part2Ids,a.problemId]),l.selectedIds=new Set([...i.selectedIds,a.problemId]),l.hiddenIds=new Set([...i.hiddenIds,a.problemId]);break;case"REMOVE_FROM_PARTS":l.part1Ids=new Set([...i.part1Ids].filter(u=>u!==a.problemId)),l.part2Ids=new Set([...i.part2Ids].filter(u=>u!==a.problemId)),l.selectedIds=new Set([...i.selectedIds].filter(u=>u!==a.problemId)),l.hiddenIds=new Set([...i.hiddenIds].filter(u=>u!==a.problemId));break;case"HIDE_PROBLEM":l.hiddenIds=new Set([...i.hiddenIds,a.problemId]);break;case"SHOW_PROBLEM":l.hiddenIds=new Set([...i.hiddenIds].filter(u=>u!==a.problemId));break;case"CLEAR_MEMORY":l.hiddenIds=new Set,l.selectedIds=new Set,l.part1Ids=new Set,l.part2Ids=new Set;break}return l})},[]),n=N.useCallback(()=>{r({type:"CLEAR_MEMORY",problemId:0})},[r]);return{memory:e,dispatch:r,clearMemory:n}},oU=()=>{const{user:e}=un(),[t,r]=N.useState([]),[n,a]=N.useState(null),[i,l]=N.useState(null),[u,d]=N.useState(void 0),[f,m]=N.useState(!1),[b,y]=N.useState(null),[v,x]=N.useState(void 0),{memory:w,dispatch:k,clearMemory:E}=iU(),{page:C,totalPages:j,setPage:F,setTotalCount:D}=uL({pageSize:10,onPageChange:()=>{const ue=document.querySelector(".overflow-y-auto");ue instanceof HTMLElement&&(ue.scrollTop=0)}}),O=N.useCallback((ue,ge)=>{r(ue),D(ge)},[D]),$=N.useCallback(ue=>{a(ue)},[]),B=N.useCallback(()=>{F(0)},[F]),Z=N.useCallback((ue,ge)=>{k(ge===1?{type:"ADD_TO_PART1",problemId:ue}:{type:"ADD_TO_PART2",problemId:ue})},[k]),G=N.useCallback(ue=>{k({type:"REMOVE_FROM_PARTS",problemId:ue})},[k]),{hierarchyFilter:L,handleHierarchySelect:H}=lL({onHierarchyFilterChange:B}),re=N.useCallback(ue=>{d(ue?.uid),H(ue)},[H]),{hierarchyFilter:he,problemFilter:ce,greedyExclusions:Y,handleGreedyResult:ie,handleProblemFilterChange:Ee}=BD({hierarchyFilter:L,onGreedyResult:ue=>{l(ue)}});N.useEffect(()=>{l(null),F(0);const ue=document.querySelector(".overflow-y-auto");ue instanceof HTMLElement&&(ue.scrollTop=0)},[he,ce]);const Be=N.useCallback(ue=>{if(!Xx(e,ue)){me("error","Behrighet saknas","Du kan endast redigera dina egna problem eller ha admin-behrighet.");return}y(ue),m(!0)},[e]),I=qd(),le=async(ue,ge,xe)=>{try{let Oe;return ge&&xe?(await oa.updateProblemV1ProblemsProblemIdPatch(xe,ue),Oe=xe,me("success","Problem uppdaterat","Uppgiften har uppdaterats framgngsrikt.")):(Oe=(await oa.createProblemV1ProblemsPost(ue)).bank_problem_definition_id,me("success","Problem skapat","Uppgiften har skapats framgngsrikt.")),I.invalidateQueries({queryKey:ar.all,exact:!1}),I.invalidateQueries({queryKey:ar.lists(),exact:!1}),I.invalidateQueries({queryKey:ar.details(),exact:!1}),I.invalidateQueries({queryKey:["hierarchy"]}),I.refetchQueries({queryKey:ar.all,exact:!1}),I.refetchQueries({queryKey:ar.lists(),exact:!1}),I.refetchQueries({queryKey:ar.details(),exact:!1}),m(!1),y(null),x(void 0),I.refetchQueries({queryKey:["problemIds"],exact:!1}),I.refetchQueries({queryKey:["problemDetails"],exact:!1}),setTimeout(()=>{I.refetchQueries({queryKey:ar.all,exact:!1}),I.refetchQueries({queryKey:ar.lists(),exact:!1}),I.refetchQueries({queryKey:ar.details(),exact:!1})},500),{bank_problem_definition_id:Oe}}catch(Oe){throw Oe.status?me("error",`Fel ${Oe.status}`,Oe.message):me("error","Oknt fel","Ett ovntat fel uppstod. Frsk igen."),console.error(Oe),Oe}};return p.jsxs("div",{className:"min-h-screen",style:{background:"var(--bg-primary)"},children:[p.jsx("div",{className:"container mx-auto p-4",children:p.jsx("div",{className:"rounded-xl p-6",style:{background:"var(--bg-panel)"},children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-10 gap-4",children:[p.jsx("div",{className:"lg:col-span-3",children:p.jsx("div",{className:"rounded-xl p-4",style:{background:"var(--bg-panel)"},children:p.jsx(yv,{onSelect:re,selectedNodeId:u})})}),p.jsx("div",{className:"lg:col-span-7",children:p.jsx("div",{className:"rounded-xl h-[calc(100vh-200px)]",style:{background:"var(--bg-panel)"},children:p.jsxs("div",{className:"h-full flex flex-col rounded-xl",style:{background:"var(--bg-panel)"},children:[p.jsx("div",{className:"sticky top-0 p-4 border-b",style:{background:"var(--bg-panel)",borderColor:"var(--border-primary)"},children:p.jsx(oL,{hierarchyFilter:he,onFilterChange:Ee,onGreedyResult:ie,memory:w,clearMemory:E,onRemoveFromMemory:G,greedyExclusions:Y,onOpenDraft:ue=>{x(ue),y(null),m(!0)},onNewDraft:()=>{y(null),m(!0)}})}),p.jsx("div",{className:"flex-1 flex min-h-0",children:p.jsx("div",{className:"flex-1 flex flex-col min-h-0 w-full",children:p.jsxs("div",{className:"flex-1 overflow-y-auto p-0 hide-scrollbar",children:[n&&p.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-error)"},children:["Kunde inte hmta uppgifter: ",n]}),!n&&p.jsx("div",{className:"h-full",children:t.length===0?p.jsx("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:"Inga problem hittades."}):p.jsx(Wd,{problems:t,mode:"list",showRemoveButtons:!1,onEdit:Be,onAddToMemory:Z,onRemoveFromMemory:G,hiddenProblemIds:w.hiddenIds,canEdit:ue=>Xx(e,ue)})})]})})}),p.jsx(cL,{currentPage:C,totalPages:j,onPageChange:F}),p.jsx(PC,{hierarchyFilter:he,extraFilter:ce,greedyProblemIds:i,page:C,onProblemsLoaded:O,onLoadingChange:()=>{},onErrorChange:$})]})})})]})})}),f&&p.jsx(sU,{isOpen:f,onClose:()=>{m(!1),y(null),x(void 0),I.refetchQueries({queryKey:ar.all,exact:!1}),I.refetchQueries({queryKey:ar.lists(),exact:!1}),I.refetchQueries({queryKey:ar.details(),exact:!1})},onSave:le,selectedAreaId:null,selectedNodeIds:[],draftId:v,existingProblem:b})]})},lU=()=>{const e=Qo(),[t]=dE(),[r,n]=N.useState({username:"",password:"",confirmPassword:"",email:"",fullName:""}),[a,i]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState("");N.useEffect(()=>{const v=t.get("token");if(!v){u(!1),me("error","Invite token saknas. Du behver en giltig invite-lnk fr att registrera dig.");return}f(v),u(!0)},[t]);const m=v=>{const{name:x,value:w}=v.target;n(k=>({...k,[x]:w}))},b=()=>r.username.trim()?r.username.length<3?(me("error","Anvndarnamn mste vara minst 3 tecken"),!1):r.password?r.password.length<6?(me("error","Lsenord mste vara minst 6 tecken"),!1):r.password!==r.confirmPassword?(me("error","Lsenorden matchar inte"),!1):r.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?(me("error","Ogiltig email-adress"),!1):!0:(me("error","Lsenord krvs"),!1):(me("error","Anvndarnamn krvs"),!1),y=async v=>{if(v.preventDefault(),!!b()){i(!0);try{await od.signupAuthSignupPost({username:r.username,password:r.password,email:r.email||void 0,full_name:r.fullName||void 0},d),me("success","Konto skapat framgngsrikt! Du kan nu logga in."),e("/login")}catch(x){console.error("Signup error:",x),x.status===400?me("error","Ogiltig eller utgngen invite token"):x.status===409?me("error","Anvndarnamn finns redan"):me("error","Fel vid skapande av konto. Frsk igen.")}finally{i(!1)}}};return l===null?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Validerar invite token..."})]})}):l===!1?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:p.jsx("div",{className:"max-w-md w-full space-y-8",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Ogiltig Invite"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Du behver en giltig invite-lnk fr att registrera dig."}),p.jsx("button",{onClick:()=>e("/login"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"G till Login"})]})})}):p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Skapa konto"}),p.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Registrera dig med din invite-lnk"})]}),p.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Anvndarnamn *"}),p.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:r.username,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Vlj anvndarnamn"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Fullstndigt namn"}),p.jsx("input",{id:"fullName",name:"fullName",type:"text",value:r.fullName,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Ditt namn"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),p.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"din.email@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Lsenord *"}),p.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Minst 6 tecken"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Bekrfta lsenord *"}),p.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:r.confirmPassword,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Upprepa lsenord"})]})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a?"Skapar konto...":"Skapa konto"})}),p.jsx("div",{className:"text-center",children:p.jsx("button",{type:"button",onClick:()=>e("/login"),className:"text-blue-600 hover:text-blue-500",children:"Har redan konto? Logga in"})})]})]})})},uU=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!1),[a,i]=N.useState([]),[l,u]=N.useState(!1),[d,f]=N.useState({email:"",expires_in_days:7});N.useEffect(()=>{m()},[]);const m=async()=>{u(!0);try{const k=await nu.listInvitesV1InvitesGet(!0,!0);i(k.map(E=>({invite_token_id:E.invite_token_id,email:E.email||void 0,token:"",is_used:E.is_used,created_at:E.created_at,expires_at:E.expires_at,used_at:E.used_at||void 0,used_by:E.used_by_username||void 0})))}catch(k){console.error("Error loading invites:",k),me("error","Kunde inte ladda invite tokens")}finally{u(!1)}},b=async()=>{n(!0);try{const k=await nu.createInviteV1InvitesPost({email:d.email,expires_in_days:d.expires_in_days}),E={invite_token_id:k.invite_token_id,email:k.email||void 0,token:k.token,is_used:!1,created_at:k.created_at,expires_at:k.expires_at};i(C=>[E,...C]),f({email:"",expires_in_days:7}),t(!1),me("success","Invite token skapad!")}catch(k){console.error("Error creating invite:",k),me("error","Kunde inte skapa invite token")}finally{n(!1)}},y=async k=>{try{const E=await nu.getInviteV1InvitesInviteTokenIdGet(k),C=`${window.location.origin}/#/signup?token=${E.token}`;navigator.clipboard.writeText(C),me("success","Invite-lnk kopierad till urklipp!")}catch(E){console.error("Error copying invite link:",E),me("error","Kunde inte kopiera invite-lnk")}},v=async k=>{if(confirm("r du sker p att du vill ta bort denna invite token?"))try{await nu.revokeInviteV1InvitesInviteTokenIdDelete(k),i(E=>E.filter(C=>C.invite_token_id!==k)),me("success","Invite token borttagen")}catch(E){console.error("Error deleting invite:",E),me("error","Kunde inte ta bort invite token")}},x=k=>new Date(k).toLocaleString("sv-SE"),w=k=>{if(k.is_used)return p.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Anvnd"});const E=new Date;return new Date(k.expires_at)<E?p.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Utgngen"}):p.jsx("span",{className:"px-2 py-1 text-xs bg-accent-primary/20 text-accent-primary rounded-full",children:"Aktiv"})};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-panel rounded-lg p-6",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsxs("button",{onClick:()=>t(!e),className:"flex items-center px-4 py-2 rounded-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Ka,{size:16,className:"mr-2"}),e?"Avbryt":"Skapa invite"]})}),e&&p.jsx("div",{className:"border-t border-border pt-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Email (valfritt)"}),p.jsx("input",{type:"email",value:d.email,onChange:k=>f(E=>({...E,email:k.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"anvndare@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Giltig i dagar"}),p.jsx("input",{type:"number",min:"1",max:"365",value:d.expires_in_days,onChange:k=>f(E=>({...E,expires_in_days:parseInt(k.target.value)||7})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary"})]}),p.jsx("div",{className:"flex items-end",children:p.jsx("button",{onClick:b,disabled:r,className:"w-full px-4 py-2 rounded-md disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:r?"Skapar...":"Skapa invite"})})]})})]}),p.jsxs("div",{className:"bg-panel rounded-lg",children:[p.jsx("div",{className:"px-6 py-4"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-border",children:[p.jsx("thead",{className:"bg-panel",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Email"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"ID"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Skapad"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Utgr"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"tgrder"})]})}),p.jsx("tbody",{className:"bg-panel divide-y divide-border",children:l?p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-muted",children:"Laddar invites..."})}):a.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-muted",children:"Inga invite tokens skapade n"})}):a.map(k=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-primary",children:k.email||"-"}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-primary",children:["#",k.invite_token_id]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(k)}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted",children:x(k.created_at)}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted",children:x(k.expires_at)}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>y(k.invite_token_id),className:"text-accent-primary hover:text-accent-secondary",title:"Kopiera invite-lnk",children:p.jsx(fA,{size:16})}),p.jsx("button",{onClick:async()=>{try{const E=await nu.getInviteV1InvitesInviteTokenIdGet(k.invite_token_id),C=`${window.location.origin}/#/signup?token=${E.token}`;window.open(C,"_blank")}catch(E){console.error("Error opening invite link:",E),me("error","Kunde inte ppna invite-lnk")}},className:"text-accent-primary hover:text-accent-secondary",title:"ppna invite-lnk",children:p.jsx(xA,{size:16})}),p.jsx("button",{onClick:()=>v(k.invite_token_id),className:"text-red-600 hover:text-red-700",title:"Ta bort invite",children:p.jsx(Ln,{size:16})})]})})]},k.invite_token_id))})]})})]})]})},cU=()=>{const{user:e}=un(),[t,r]=N.useState({username:e?.username||"",email:e?.email||"",full_name:e?.full_name||""});N.useEffect(()=>{e&&r({username:e.username||"",email:e.email||"",full_name:e.full_name||""})},[e]);const[n,a]=N.useState({current_password:"",new_password:"",confirm_password:""}),[i,l]=N.useState({email:""}),[u,d]=N.useState(!1),[f,m]=N.useState(!1),[b,y]=N.useState(!1),[v,x]=N.useState(!1),[w,k]=N.useState(!1),E=async F=>{F.preventDefault(),k(!0);try{const D=await fetch(`${ve.BASE}/auth/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("jwt_token")}`},body:JSON.stringify({username:t.username,email:t.email,full_name:t.full_name})});if(D.ok)me("success","Profil uppdaterad framgngsrikt!"),r(O=>({...O}));else{const O=await D.json();me("error",O.detail||"Kunde inte uppdatera profil")}}catch(D){console.error("Error updating profile:",D),me("error","Ett fel uppstod vid uppdatering av profil")}finally{k(!1)}},C=async F=>{if(F.preventDefault(),n.new_password!==n.confirm_password){me("error","Lsenorden matchar inte");return}const D=n.new_password;if(D.length<8){me("error","Lsenordet mste vara minst 8 tecken");return}if(!/[A-Z]/.test(D)){me("error","Lsenordet mste innehlla minst en stor bokstav");return}if(!/[a-z]/.test(D)){me("error","Lsenordet mste innehlla minst en liten bokstav");return}if(!/\d/.test(D)){me("error","Lsenordet mste innehlla minst en siffra");return}k(!0);try{const O=await fetch(`${ve.BASE}/auth/password`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("jwt_token")}`},body:JSON.stringify({current_password:n.current_password,new_password:n.new_password})});if(O.ok)me("success","Lsenord ndrat framgngsrikt!"),a({current_password:"",new_password:"",confirm_password:""}),d(!1);else{const $=await O.json();me("error",$.detail||"Kunde inte ndra lsenord")}}catch(O){console.error("Error changing password:",O),me("error","Ett fel uppstod vid lsenordsndring")}finally{k(!1)}},j=async F=>{F.preventDefault(),k(!0);try{const D=await fetch(`${ve.BASE}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.email})});if(D.ok)me("success","Temporrt lsenord skickat till din email!"),l({email:""}),m(!1);else{const O=await D.json();me("error",O.detail||"Kunde inte skicka lsenordsterstllning")}}catch(D){console.error("Error requesting password reset:",D),me("error","Ett fel uppstod vid lsenordsterstllning")}finally{k(!1)}};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-panel",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx($o,{size:24,className:"text-accent-primary"}),p.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Profilinstllningar"})]}),p.jsxs("form",{onSubmit:E,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Anvndarnamn"}),p.jsx("input",{type:"text",value:t.username,onChange:F=>r(D=>({...D,username:F.target.value})),className:"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Anvndarnamn",autoComplete:"username"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Email"}),p.jsx("input",{type:"email",value:t.email,onChange:F=>r(D=>({...D,email:F.target.value})),className:"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"email@example.com",autoComplete:"email"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Fullstndigt namn"}),p.jsx("input",{type:"text",value:t.full_name,onChange:F=>r(D=>({...D,full_name:F.target.value})),className:"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Frnamn Efternamn",autoComplete:"name"})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs("button",{type:"submit",disabled:w,className:"flex items-center gap-2 px-6 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Io,{size:18}),w?"Sparar...":"Spara ndringar"]})})]})]}),p.jsxs("div",{className:"bg-panel",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(gy,{size:24,className:"text-accent-primary"}),p.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Lsenordsndring"})]}),u?p.jsxs("form",{onSubmit:C,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Nuvarande lsenord"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:b?"text":"password",value:n.current_password,onChange:F=>a(D=>({...D,current_password:F.target.value})),className:"w-full px-4 py-3 pr-12 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Nuvarande lsenord",autoComplete:"current-password"}),p.jsx("button",{type:"button",onClick:()=>y(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted hover:text-primary",children:b?p.jsx(Bo,{size:16}):p.jsx(Po,{size:16})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Nytt lsenord"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:v?"text":"password",value:n.new_password,onChange:F=>a(D=>({...D,new_password:F.target.value})),className:"w-full px-4 py-3 pr-12 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Nytt lsenord (minst 8 tecken med stor bokstav, liten bokstav och siffra)",autoComplete:"new-password"}),p.jsx("button",{type:"button",onClick:()=>x(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted hover:text-primary",children:v?p.jsx(Bo,{size:16}):p.jsx(Po,{size:16})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Bekrfta nytt lsenord"}),p.jsx("input",{type:"password",value:n.confirm_password,onChange:F=>a(D=>({...D,confirm_password:F.target.value})),className:"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Bekrfta nytt lsenord",autoComplete:"new-password"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{type:"submit",disabled:w,className:"flex items-center gap-2 px-6 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Io,{size:18}),w?"Sparar...":"ndra lsenord"]}),p.jsx("button",{type:"button",onClick:()=>{d(!1),a({current_password:"",new_password:"",confirm_password:""})},className:"px-6 py-3 rounded-lg transition-all duration-200",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},children:"Avbryt"})]})]}):p.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(gy,{size:16}),"ndra lsenord"]})]}),p.jsxs("div",{className:"bg-panel",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(zo,{size:24,className:"text-accent-primary"}),p.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Glmt lsenord"})]}),f?p.jsxs("form",{onSubmit:j,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Email-adress"}),p.jsx("input",{type:"email",value:i.email,onChange:F=>l(D=>({...D,email:F.target.value})),className:"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Ange din email-adress",autoComplete:"email"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{type:"submit",disabled:w,className:"flex items-center gap-2 px-6 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Gm,{size:18}),w?"Skickar...":"Skicka terstllning"]}),p.jsx("button",{type:"button",onClick:()=>{m(!1),l({email:""})},className:"px-6 py-3 rounded-lg transition-all duration-200",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},children:"Avbryt"})]})]}):p.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},children:[p.jsx(Gm,{size:16}),"Begr lsenordsterstllning"]})]})]})},dU=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1),[a,i]=N.useState(!1),[l,u]=N.useState({name:"",content:"",category:""}),d=async()=>{if(!l.name.trim()||!l.content.trim()){me("error","Namn och innehll krvs");return}i(!0);try{const m={id:Date.now().toString(),name:l.name,content:l.content,category:l.category,created_at:new Date().toISOString()};t(b=>[m,...b]),u({name:"",content:"",category:""}),n(!1),me("success","Snippet skapad!")}catch(m){console.error("Error creating snippet:",m),me("error","Kunde inte skapa snippet")}finally{i(!1)}},f=async m=>{if(confirm("r du sker p att du vill ta bort denna snippet?"))try{t(b=>b.filter(y=>y.id!==m)),me("success","Snippet borttagen")}catch(b){console.error("Error deleting snippet:",b),me("error","Kunde inte ta bort snippet")}};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-panel rounded-lg p-6",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsxs("button",{onClick:()=>n(!r),className:"flex items-center px-4 py-2 rounded-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Ka,{size:16,className:"mr-2"}),r?"Avbryt":"Skapa snippet"]})}),r&&p.jsx("div",{className:"border-t border-border pt-4",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Namn"}),p.jsx("input",{type:"text",value:l.name,onChange:m=>u(b=>({...b,name:m.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Snippet namn"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Kategori"}),p.jsx("input",{type:"text",value:l.category,onChange:m=>u(b=>({...b,category:m.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Algebra, Geometri, etc."})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Innehll"}),p.jsx("textarea",{value:l.content,onChange:m=>u(b=>({...b,content:m.target.value})),rows:4,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"LaTeX-kod eller text..."})]}),p.jsx("div",{children:p.jsx("button",{onClick:d,disabled:a,className:"px-4 py-2 rounded-md disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:a?"Skapar...":"Skapa snippet"})})]})})]}),p.jsxs("div",{className:"bg-panel rounded-lg",children:[p.jsx("div",{className:"px-6 py-4"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-border",children:[p.jsx("thead",{className:"bg-panel",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Namn"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Kategori"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Innehll"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Skapad"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"tgrder"})]})}),p.jsx("tbody",{className:"bg-panel divide-y divide-border",children:e.map(m=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-primary",children:m.name}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-primary",children:m.category||"-"}),p.jsx("td",{className:"px-6 py-4 text-sm text-primary",children:p.jsx("div",{className:"max-w-xs truncate",children:m.content})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted",children:new Date(m.created_at).toLocaleDateString("sv-SE")}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{className:"text-accent-primary hover:text-accent-secondary",title:"Redigera snippet",children:p.jsx(gv,{size:16})}),p.jsx("button",{onClick:()=>f(m.id),className:"text-red-600 hover:text-red-700",title:"Ta bort snippet",children:p.jsx(Ln,{size:16})})]})})]},m.id))})]})}),e.length===0&&p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-muted",children:"Inga snippets skapade n"})})]})]})},Ut={children:async(e,t)=>((await zt.getChildrenApiHierarchyChildrenTypeIdGet(e,t,1)).children||[]).map((n,a)=>({id:n.id,uid:`${n.type}-${n.id}`,title:n.title,type:n.type,parentUid:`${e}-${t}`,position:a,hasChildren:n.type!=="area",numericId:n.id})),rootSubjects:async()=>((await zt.getHierarchyApiHierarchyGet()).hierarchy||[]).map((t,r)=>({id:t.id,uid:`${t.type}-${t.id}`,title:t.title,type:t.type,position:r,hasChildren:t.type!=="area",numericId:t.id})),async leafAreas(e,t){return(await zt.getDescendantsApiHierarchyDescendantsGet(e,t,"area")).descendants},createSubject:async e=>await zt.createSubjectWithAbilitiesApiHierarchySubjectsWithAbilitiesPost(e),updateSubject:async(e,t)=>await zt.updateSubjectApiHierarchySubjectsSubjectIdPut(e,t),deleteSubject:async e=>await zt.deleteSubjectApiHierarchySubjectsSubjectIdDelete(e),createCourse:async e=>await zt.createCourseApiHierarchyCoursesPost(e),updateCourse:async(e,t)=>await zt.updateCourseApiHierarchyCoursesCourseIdPut(e,t),deleteCourse:async e=>await zt.deleteCourseApiHierarchyCoursesCourseIdDelete(e),createChapter:async e=>await zt.createChapterApiHierarchyChaptersPost(e),updateChapter:async(e,t)=>await zt.updateChapterApiHierarchyChaptersChapterIdPut(e,t),deleteChapter:async e=>await zt.deleteChapterApiHierarchyChaptersChapterIdDelete(e),createArea:async e=>await zt.createAreaApiHierarchyAreasPost(e),updateArea:async(e,t)=>await zt.updateAreaApiHierarchyAreasAreaIdPut(e,t),deleteArea:async e=>await zt.deleteAreaApiHierarchyAreasAreaIdDelete(e),moveCourse:async(e,t)=>{const r=`${ve.BASE}/api/hierarchy/courses/${e}/move?target_subject_id=${t}`,n=await fetch(r,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`,"Content-Type":"application/json"}});if(!n.ok){const i=await n.text();throw console.error("API Error response:",i),new Error(`Failed to move course: ${n.statusText}`)}return await n.json()},moveChapter:async(e,t,r)=>{const n=`${ve.BASE}/api/hierarchy/chapters/${e}/move?target_parent_type=${t}&target_parent_id=${r}`,a=await fetch(n,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`,"Content-Type":"application/json"}});if(!a.ok){const l=await a.text();throw console.error("API Error response:",l),new Error(`Failed to move chapter: ${a.statusText}`)}return await a.json()},moveArea:async(e,t,r)=>{const n=`${ve.BASE}/api/hierarchy/areas/${e}/move?target_parent_type=${t}&target_parent_id=${r}`,a=await fetch(n,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`,"Content-Type":"application/json"}});if(!a.ok){const l=await a.text();throw console.error("API Error response:",l),new Error(`Failed to move area: ${a.statusText}`)}return await a.json()},checkDeleteSubject:async e=>{const t=await fetch(`${ve.BASE}/api/hierarchy/subjects/${e}/check-delete`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`}});if(!t.ok)throw new Error(`Failed to check delete safety: ${t.statusText}`);return await t.json()},checkDeleteCourse:async e=>{const t=await fetch(`${ve.BASE}/api/hierarchy/courses/${e}/check-delete`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`}});if(!t.ok)throw new Error(`Failed to check delete safety: ${t.statusText}`);return await t.json()},checkDeleteChapter:async e=>{const t=await fetch(`${ve.BASE}/api/hierarchy/chapters/${e}/check-delete`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`}});if(!t.ok)throw new Error(`Failed to check delete safety: ${t.statusText}`);return await t.json()},checkDeleteArea:async e=>{const t=await fetch(`${ve.BASE}/api/hierarchy/areas/${e}/check-delete`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`}});if(!t.ok)throw new Error(`Failed to check delete safety: ${t.statusText}`);return await t.json()},updateChapterPosition:async(e,t)=>{const r=await fetch(`${ve.BASE}/api/hierarchy/chapters/${e}/position`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`,"Content-Type":"application/json"},body:JSON.stringify({position:t})});if(!r.ok)throw new Error(`Failed to update chapter position: ${r.statusText}`);return await r.json()},updateAreaPosition:async(e,t)=>{const r=await fetch(`${ve.BASE}/api/hierarchy/areas/${e}/position`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`,"Content-Type":"application/json"},body:JSON.stringify({position:t})});if(!r.ok)throw new Error(`Failed to update area position: ${r.statusText}`);return await r.json()},getCompleteHierarchy:async()=>await zt.getHierarchyApiHierarchyGet(),getSubjectComplete:async e=>await zt.getSubjectCompleteApiHierarchySubjectsSubjectIdCompleteGet(e),getSubjectForEdit:async e=>{const t=await fetch(`${ve.BASE}/api/hierarchy/subjects/${e}/edit`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`}});if(!t.ok)throw new Error(`Failed to get subject for editing: ${t.statusText}`);return await t.json()}},fU=e=>({id:e.id,title:e.title,type:e.type||"subject",parent_id:e.parent_id,children:e.courses?.map(hU)||[],problem_count:e.problem_count,is_active:e.is_active,created_at:e.created_at,updated_at:e.updated_at,code:e.code,description:e.description,matrix_name:e.matrix_name,abilities:e.abilities}),hU=e=>({id:e.id,title:e.title,type:"course",parent_id:e.subject_id,children:e.chapters?.map(mU)||[],problem_count:e.problem_count,is_active:e.is_active,created_at:e.created_at,updated_at:e.updated_at,code:e.code}),mU=e=>({id:e.id,title:e.title,type:"chapter",parent_id:e.course_id,children:e.areas?.map(pU)||[],problem_count:e.problem_count,position:e.position,is_active:e.is_active,created_at:e.created_at,updated_at:e.updated_at}),pU=e=>({id:e.id,title:e.title,type:"area",parent_id:e.chapter_id,children:[],problem_count:e.problem_count,position:e.position,is_active:e.is_active,created_at:e.created_at,updated_at:e.updated_at}),bU=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!1),[a,i]=N.useState(null),l=N.useCallback(async()=>{n(!0),i(null);try{const L={hierarchy:(await Ut.getCompleteHierarchy()).hierarchy?.map(fU)||[]};t(L)}catch(G){const L=G instanceof Error?G.message:"Kunde inte ladda hierarki";i(L),me("error",L)}finally{n(!1)}},[]),u=N.useCallback(async G=>{try{const L=await Ut.createSubject(G);return await l(),me("success","mne skapat framgngsrikt"),L}catch(L){const H=L instanceof Error?L.message:"Kunde inte skapa mne";throw me("error",H),L}},[l]),d=N.useCallback(async(G,L)=>{try{const H=await Ut.updateSubject(G,L);return await l(),me("success","mne uppdaterat framgngsrikt"),H}catch(H){const re=H instanceof Error?H.message:"Kunde inte uppdatera mne";throw me("error",re),H}},[l]),f=N.useCallback(async G=>{try{await Ut.deleteSubject(G),await l(),me("success","mne borttaget framgngsrikt")}catch(L){const H=L instanceof Error?L.message:"Kunde inte ta bort mne";throw me("error",H),L}},[l]),m=N.useCallback(async G=>{try{const L=await Ut.createCourse(G);return await l(),me("success","Kurs skapad framgngsrikt"),L}catch(L){const H=L instanceof Error?L.message:"Kunde inte skapa kurs";throw me("error",H),L}},[l]),b=N.useCallback(async(G,L)=>{try{const H=await Ut.updateCourse(G,L);return await l(),me("success","Kurs uppdaterad framgngsrikt"),H}catch(H){const re=H instanceof Error?H.message:"Kunde inte uppdatera kurs";throw me("error",re),H}},[l]),y=N.useCallback(async G=>{try{await Ut.deleteCourse(G),await l(),me("success","Kurs borttagen framgngsrikt")}catch(L){const H=L instanceof Error?L.message:"Kunde inte ta bort kurs";throw me("error",H),L}},[l]),v=N.useCallback(async G=>{try{const L=await Ut.createChapter(G);return await l(),me("success","Kapitel skapat framgngsrikt"),L}catch(L){const H=L instanceof Error?L.message:"Kunde inte skapa kapitel";throw me("error",H),L}},[l]),x=N.useCallback(async(G,L)=>{try{const H=await Ut.updateChapter(G,L);return await l(),me("success","Kapitel uppdaterat framgngsrikt"),H}catch(H){const re=H instanceof Error?H.message:"Kunde inte uppdatera kapitel";throw me("error",re),H}},[l]),w=N.useCallback(async G=>{try{await Ut.deleteChapter(G),await l(),me("success","Kapitel borttaget framgngsrikt")}catch(L){const H=L instanceof Error?L.message:"Kunde inte ta bort kapitel";throw me("error",H),L}},[l]),k=N.useCallback(async G=>{try{const L=await Ut.createArea(G);return await l(),me("success","Omrde skapat framgngsrikt"),L}catch(L){const H=L instanceof Error?L.message:"Kunde inte skapa omrde";throw me("error",H),L}},[l]),E=N.useCallback(async(G,L)=>{try{const H=await Ut.updateArea(G,L);return await l(),me("success","Omrde uppdaterat framgngsrikt"),H}catch(H){const re=H instanceof Error?H.message:"Kunde inte uppdatera omrde";throw me("error",re),H}},[l]),C=N.useCallback(async G=>{try{await Ut.deleteArea(G),await l(),me("success","Omrde borttaget framgngsrikt")}catch(L){const H=L instanceof Error?L.message:"Kunde inte ta bort omrde";throw me("error",H),L}},[l]),j=N.useCallback(async(G,L)=>{try{const H=await Ut.moveCourse(G,L);return await l(),me("success","Kurs flyttad framgngsrikt"),H}catch(H){const re=H instanceof Error?H.message:"Kunde inte flytta kurs";throw me("error",re),H}},[l]),F=N.useCallback(async(G,L,H)=>{try{const re=await Ut.moveChapter(G,L,H);return await l(),me("success","Kapitel flyttat framgngsrikt"),re}catch(re){const he=re instanceof Error?re.message:"Kunde inte flytta kapitel";throw me("error",he),re}},[l]),D=N.useCallback(async(G,L,H)=>{try{const re=await Ut.moveArea(G,L,H);return await l(),me("success","Omrde flyttat framgngsrikt"),re}catch(re){const he=re instanceof Error?re.message:"Kunde inte flytta omrde";throw me("error",he),re}},[l]),O=N.useCallback(async G=>{try{return await Ut.checkDeleteSubject(G)}catch(L){const H=L instanceof Error?L.message:"Kunde inte kontrollera skerhet";throw me("error",H),L}},[]),$=N.useCallback(async G=>{try{return await Ut.checkDeleteCourse(G)}catch(L){const H=L instanceof Error?L.message:"Kunde inte kontrollera skerhet";throw me("error",H),L}},[]),B=N.useCallback(async G=>{try{return await Ut.checkDeleteChapter(G)}catch(L){const H=L instanceof Error?L.message:"Kunde inte kontrollera skerhet";throw me("error",H),L}},[]),Z=N.useCallback(async G=>{try{return await Ut.checkDeleteArea(G)}catch(L){const H=L instanceof Error?L.message:"Kunde inte kontrollera skerhet";throw me("error",H),L}},[]);return N.useEffect(()=>{l()},[l]),{hierarchy:e,loading:r,error:a,loadHierarchy:l,createSubject:u,updateSubject:d,deleteSubject:f,createCourse:m,updateCourse:b,deleteCourse:y,createChapter:v,updateChapter:x,deleteChapter:w,createArea:k,updateArea:E,deleteArea:C,moveCourse:j,moveChapter:F,moveArea:D,checkDeleteSubject:O,checkDeleteCourse:$,checkDeleteChapter:B,checkDeleteArea:Z}},gU=({isOpen:e,onClose:t,onSubmit:r})=>{const[n,a]=N.useState({title:"",code:"",description:"",matrix_name:"",abilities:[]}),[i,l]=N.useState(!1),u=()=>{const y={ability_code:"",ability_name:"",description:"",matrix_cells:{E:1,C:2,A:3}};a(v=>({...v,abilities:[...v.abilities,y]}))},d=y=>{a(v=>({...v,abilities:v.abilities.filter((x,w)=>w!==y)}))},f=(y,v,x)=>{a(w=>({...w,abilities:w.abilities.map((k,E)=>E===y?{...k,[v]:x}:k)}))},m=(y,v,x)=>{a(w=>({...w,abilities:w.abilities.map((k,E)=>E===y?{...k,matrix_cells:{...k.matrix_cells,[v]:x}}:k)}))},b=async y=>{if(y.preventDefault(),!n.title.trim()){me("error","mnesnamn krvs");return}if(!n.code.trim()){me("error","mneskod krvs");return}if(n.abilities.length===0){me("error","Minst en frmga krvs");return}const v=n.abilities.map(w=>w.ability_code),x=new Set(v);if(v.length!==x.size){me("error","Alla frmgekoder mste vara unika");return}l(!0);try{await r(n),t(),a({title:"",code:"",description:"",matrix_name:"",abilities:[]})}catch(w){console.error("Error creating subject:",w)}finally{l(!1)}};return e?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-panel rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Skapa nytt mne med frmgor"}),p.jsx("button",{onClick:t,className:"text-muted hover:text-primary",children:p.jsx(ca,{size:20})})]}),p.jsxs("form",{onSubmit:b,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"mnesnamn *"}),p.jsx("input",{type:"text",value:n.title,onChange:y=>a(v=>({...v,title:y.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"t.ex. Matematik"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"mneskod *"}),p.jsx("input",{type:"text",value:n.code,onChange:y=>a(v=>({...v,code:y.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"t.ex. MAT",maxLength:3})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Beskrivning"}),p.jsx("textarea",{value:n.description,onChange:y=>a(v=>({...v,description:y.target.value})),rows:2,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Beskrivning av mnet..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Matrisnamn *"}),p.jsx("input",{type:"text",value:n.matrix_name,onChange:y=>a(v=>({...v,matrix_name:y.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"t.ex. Matematik mnesmatris"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-medium text-primary",children:"Frmgor"}),p.jsxs("button",{type:"button",onClick:u,className:"flex items-center px-3 py-1 text-sm rounded-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Ka,{size:16,className:"mr-1"}),"Lgg till frmga"]})]}),n.abilities.length===0&&p.jsx("p",{className:"text-muted text-sm",children:'Inga frmgor tillagda n. Klicka p "Lgg till frmga" fr att brja.'}),n.abilities.map((y,v)=>p.jsxs("div",{className:"border border-border rounded-lg p-4 mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h4",{className:"font-medium text-primary",children:["Frmga ",v+1]}),p.jsx("button",{type:"button",onClick:()=>d(v),className:"text-red-600 hover:text-red-700",children:p.jsx(Ln,{size:16})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Frmgekod *"}),p.jsx("input",{type:"text",value:y.ability_code,onChange:x=>f(v,"ability_code",x.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"t.ex. B",maxLength:2})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Frmgenamn *"}),p.jsx("input",{type:"text",value:y.ability_name,onChange:x=>f(v,"ability_name",x.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"t.ex. Begreppsfrmga"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Beskrivning"}),p.jsx("input",{type:"text",value:y.description,onChange:x=>f(v,"description",x.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Beskrivning av frmgan"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Matrisvrden (E, C, A)"}),p.jsx("div",{className:"grid grid-cols-3 gap-4",children:["E","C","A"].map(x=>p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs text-muted mb-1",children:["Niv ",x]}),p.jsx("input",{type:"number",step:"0.1",min:"0",value:y.matrix_cells[x],onChange:w=>m(v,x,parseFloat(w.target.value)||0),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary"})]},x))})]})]},v))]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[p.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-gray-100",children:"Avbryt"}),p.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 text-sm rounded-md disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:i?"Skapar...":"Skapa mne"})]})]})]})}):null},yU=({isOpen:e,onClose:t,onSubmit:r,editData:n})=>{const[a,i]=N.useState({title:"",code:"",description:"",matrix_name:"",abilities:[]}),[l,u]=N.useState(!1);N.useEffect(()=>{e&&i(n?{title:n.title||"",code:n.code||"",description:n.description||"",matrix_name:n.matrix_name||"",abilities:n.abilities||[]}:{title:"",code:"",description:"",matrix_name:"",abilities:[]})},[e,n]);const d=()=>{const x={ability_code:"",ability_name:"",description:"",matrix_cells:{E:0,C:0,A:0}};i(w=>({...w,abilities:[...w.abilities,x]}))},f=x=>{i(w=>({...w,abilities:w.abilities.filter((k,E)=>E!==x)}))},m=(x,w,k)=>{i(E=>({...E,abilities:E.abilities.map((C,j)=>j===x?{...C,[w]:k}:C)}))},b=(x,w,k)=>{i(E=>({...E,abilities:E.abilities.map((C,j)=>j===x?{...C,matrix_cells:{...C.matrix_cells,[w]:k}}:C)}))},y=async x=>{if(x.preventDefault(),!a.title.trim()){me("error","mnesnamn krvs");return}if(!a.code.trim()){me("error","mneskod krvs");return}if(!a.matrix_name.trim()){me("error","Matrisnamn krvs");return}for(let w=0;w<a.abilities.length;w++){const k=a.abilities[w];if(!k.ability_code.trim()){me("error",`Ability ${w+1}: Kod krvs`);return}if(!k.ability_name.trim()){me("error",`Ability ${w+1}: Namn krvs`);return}}u(!0);try{await r(a),t()}catch(w){console.error("Error creating/updating subject:",w)}finally{u(!1)}};if(!e)return null;const v=!!n;return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-panel rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-primary",children:v?"Redigera mne":"Skapa nytt mne"}),p.jsx("button",{onClick:t,className:"text-muted hover:text-primary",children:p.jsx(ca,{size:20})})]}),p.jsxs("form",{onSubmit:y,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"mnesnamn *"}),p.jsx("input",{type:"text",value:a.title,onChange:x=>i(w=>({...w,title:x.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"T.ex. Matematik"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"mneskod *"}),p.jsx("input",{type:"text",value:a.code,onChange:x=>i(w=>({...w,code:x.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"T.ex. MAT"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Beskrivning"}),p.jsx("textarea",{value:a.description,onChange:x=>i(w=>({...w,description:x.target.value})),rows:3,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"Beskrivning av mnet..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Matrisnamn *"}),p.jsx("input",{type:"text",value:a.matrix_name,onChange:x=>i(w=>({...w,matrix_name:x.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"T.ex. Matematik Matris"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-medium text-primary",children:"Abilities"}),p.jsxs("button",{type:"button",onClick:d,className:"flex items-center px-3 py-1 text-sm rounded-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Ka,{size:16,className:"mr-1"}),"Lgg till ability"]})]}),a.abilities.length===0?p.jsx("p",{className:"text-sm text-muted",children:"Inga abilities tillagda n"}):p.jsx("div",{className:"space-y-4",children:a.abilities.map((x,w)=>p.jsxs("div",{className:"border border-border rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("h4",{className:"font-medium text-primary",children:["Ability ",w+1]}),p.jsx("button",{type:"button",onClick:()=>f(w),className:"text-red-600 hover:text-red-700",children:p.jsx(Ln,{size:16})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Kod *"}),p.jsx("input",{type:"text",value:x.ability_code,onChange:k=>m(w,"ability_code",k.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"T.ex. 1PlA"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Namn *"}),p.jsx("input",{type:"text",value:x.ability_name,onChange:k=>m(w,"ability_name",k.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"T.ex. Problemlsning"})]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Beskrivning"}),p.jsx("textarea",{value:x.description,onChange:k=>m(w,"description",k.target.value),rows:2,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"Beskrivning av ability..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Matris-celler"}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted mb-1",children:"E"}),p.jsx("input",{type:"number",value:x.matrix_cells.E,onChange:k=>b(w,"E",parseInt(k.target.value)||0),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"0"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted mb-1",children:"C"}),p.jsx("input",{type:"number",value:x.matrix_cells.C,onChange:k=>b(w,"C",parseInt(k.target.value)||0),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"0"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs text-muted mb-1",children:"A"}),p.jsx("input",{type:"number",value:x.matrix_cells.A,onChange:k=>b(w,"A",parseInt(k.target.value)||0),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"0"})]})]})]})]},w))})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[p.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-gray-100",children:"Avbryt"}),p.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 text-sm rounded-md disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:l?"Sparar...":v?"Uppdatera":"Skapa"})]})]})]})})},xU=({isOpen:e,onClose:t,onSubmit:r,nodeType:n,parentId:a,parentType:i,editData:l})=>{const[u,d]=N.useState({title:"",description:"",position:1,code:""}),[f,m]=N.useState(!1);N.useEffect(()=>{d(l?{title:l.title||"",description:l.description||"",position:l.position||1,code:l.code||""}:{title:"",description:"",position:1,code:""})},[l]);const b=k=>{switch(k){case"subject":return"mne";case"course":return"Kurs";case"chapter":return"Kapitel";case"area":return"Omrde";default:return"Nod"}},y=k=>{switch(k){case"subject":return"mne";case"course":return"kurs";case"chapter":return"kapitel";default:return"frlder"}},v=async k=>{if(k.preventDefault(),!u.title.trim()){me("error",`${b(n)}namn krvs`);return}if(n==="course"&&!u.code.trim()){me("error","Kurskod krvs");return}m(!0);try{const E={...u,...a&&{[i==="subject"?"subject_id":i==="course"?"course_id":"chapter_id"]:a}};await r(E),t()}catch(E){console.error("Error creating/updating node:",E)}finally{m(!1)}};if(!e)return null;const x=!!l,w=b(n);return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-panel rounded-lg p-6 w-full max-w-md",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-primary",children:x?`Redigera ${w}`:`Skapa nytt ${w}`}),p.jsx("button",{onClick:t,className:"text-muted hover:text-primary",children:p.jsx(ca,{size:20})})]}),p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i&&a&&p.jsxs("div",{className:"text-sm text-muted mb-4",children:["Skapar under ",y(i)," ID: ",a]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-primary mb-2",children:[w,"namn *"]}),p.jsx("input",{type:"text",value:u.title,onChange:k=>d(E=>({...E,title:k.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:`Ange ${w.toLowerCase()}namn`})]}),n==="course"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Kurskod *"}),p.jsx("input",{type:"text",value:u.code||"",onChange:k=>d(E=>({...E,code:k.target.value})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Ange kurskod (t.ex. MA1, FY1)"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Beskrivning"}),p.jsx("textarea",{value:u.description,onChange:k=>d(E=>({...E,description:k.target.value})),rows:3,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:`Beskrivning av ${w.toLowerCase()}`})]}),(n==="area"||n==="chapter")&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-2",children:"Position"}),p.jsx("input",{type:"number",min:"1",value:u.position,onChange:k=>d(E=>({...E,position:Number(k.target.value)})),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",placeholder:"Ange position (lgre nummer = tidigare i listan)"}),p.jsx("p",{className:"text-xs text-muted mt-1",children:"Lgre nummer = tidigare i listan"})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[p.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-gray-100",children:"Avbryt"}),p.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 text-sm rounded-md disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:f?x?"Uppdaterar...":"Skapar...":x?"Uppdatera":"Skapa"})]})]})]})})},vU=({isOpen:e,onClose:t,onSubmit:r,nodeType:n,nodeId:a,nodeTitle:i,currentParentType:l,currentParentId:u,availableParents:d,hierarchy:f=[]})=>{const[m,b]=N.useState(null),[y,v]=N.useState(!1),[x,w]=N.useState(new Set);N.useEffect(()=>{if(e){b(null);const B=new Set,Z=G=>{G.forEach(L=>{B.add(L.id),L.children&&Z(L.children)})};Z(f),w(B)}},[e,f]);const k=B=>{switch(B){case"subject":return"mne";case"course":return"Kurs";case"chapter":return"Kapitel";case"area":return"Omrde";default:return"Nod"}},C=(B=>{switch(B){case"course":return["subject"];case"chapter":return["course"];case"area":return["chapter"];default:return[]}})(n),j=B=>{if(B.id===a)return!1;const Z=(L,H)=>L.children?L.children.some(re=>re.id===H||Z(re,H)):!1;return Z(B,a)?!1:C.includes(B.type)},F=B=>{w(Z=>{const G=new Set(Z);return G.has(B)?G.delete(B):G.add(B),G})},D=(B,Z=0)=>{const G=x.has(B.id),L=B.children&&B.children.length>0,H=j(B),re=m===B.id;return p.jsxs("div",{children:[p.jsxs("div",{className:`flex items-center p-2 rounded-md cursor-pointer transition-colors ${H?re?"bg-accent-primary bg-opacity-20 border border-accent-primary":"hover:bg-gray-50 border border-transparent":"opacity-50 cursor-not-allowed"}`,style:{paddingLeft:`${Z*20+12}px`},onClick:()=>{H&&(console.log("MoveNodeDialog - clicking node:",{id:B.id,title:B.title,type:B.type}),b(B.id))},children:[L&&p.jsx("button",{onClick:he=>{he.stopPropagation(),F(B.id)},className:"mr-2 p-1 hover:bg-gray-100 rounded",children:G?p.jsx(Ri,{size:16,className:"text-muted"}):p.jsx(Ju,{size:16,className:"text-muted"})}),p.jsx("div",{className:"mr-2",children:L?G?p.jsx(Vp,{size:16}):p.jsx(_d,{size:16}):p.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500"})}),p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"font-medium text-primary",children:B.title}),p.jsxs("span",{className:"ml-2 text-xs text-muted",children:["(",k(B.type),")"]})]})}),H&&p.jsx("input",{type:"radio",name:"targetParent",value:B.id,checked:re,onChange:()=>b(B.id),className:"ml-2"})]}),G&&L&&p.jsx("div",{children:B.children.map(he=>D(he,Z+1))})]},B.id)},O=async B=>{if(B.preventDefault(),!m){me("error","Vlj en ml-frlder");return}console.log("MoveNodeDialog - using selectedParentId directly:",m);const Z=d.find(G=>G.id===m);if(console.log("MoveNodeDialog - targetParent from availableParents:",Z),!Z){me("error","Ogiltig ml-frlder");return}v(!0);try{await r(Z.type,Z.id),t()}catch(G){console.error("Error moving node:",G)}finally{v(!1)}};if(!e)return null;const $=k(n);return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-panel rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("h2",{className:"text-xl font-semibold text-primary",children:["Flytta ",$]}),p.jsx("button",{onClick:t,className:"text-muted hover:text-primary",children:p.jsx(ca,{size:20})})]}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("p",{className:"text-sm text-muted mb-2",children:["Flyttar: ",p.jsx("strong",{children:i})," (ID: ",a,")"]}),l&&u&&p.jsxs("p",{className:"text-sm text-muted",children:["Frn: ",k(l)," ID: ",u]}),p.jsx("p",{className:"text-sm text-muted mt-2",children:"Vlj en giltig ml-frlder frn hierarkin nedan:"})]}),p.jsxs("form",{onSubmit:O,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-primary mb-2",children:["Vlj ml-frlder frn hierarkin (endast ",n==="area"?"kapitel":n==="chapter"?"kurser":"mnen"," r klickbara)"]}),f.length===0?p.jsx("p",{className:"text-sm text-muted",children:"Inga hierarki-noder tillgngliga."}):p.jsx("div",{className:"border border-border rounded-md p-4 max-h-96 overflow-y-auto",children:f.map(B=>D(B))})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[p.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-gray-100",children:"Avbryt"}),p.jsx("button",{type:"submit",disabled:y||!m,className:"px-4 py-2 text-sm rounded-md disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:y?"Flyttar...":"Flytta"})]})]})]})})},_U=({isOpen:e,position:t,onClose:r,nodeType:n,nodeId:a,nodeTitle:i,hasChildren:l,problemCount:u,onEdit:d,onDelete:f,onMove:m,onCreateChild:b,onToggleExpand:y,isExpanded:v})=>{if(!e)return null;const x=j=>{switch(j){case"subject":return"mne";case"course":return"Kurs";case"chapter":return"Kapitel";case"area":return"Omrde";default:return"Nod"}},w=j=>{switch(j){case"subject":return"course";case"course":return"chapter";case"chapter":return"area";default:return null}},k=j=>{switch(j){case"course":return"Kurs";case"chapter":return"Kapitel";case"area":return"Omrde";default:return"Barn"}},E=w(n),C=j=>{j(),r()};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-40",onClick:r}),p.jsxs("div",{className:"fixed z-50 bg-panel border border-border rounded-lg shadow-lg py-2 min-w-48",style:{left:t.x,top:t.y},children:[p.jsxs("div",{className:"px-4 py-2 border-b border-border mb-2",children:[p.jsx("div",{className:"font-medium text-primary",children:i}),p.jsxs("div",{className:"text-xs text-muted",children:[x(n)," (ID: ",a,")"]}),u!==void 0&&u>0&&p.jsxs("div",{className:"text-xs text-yellow-600 mt-1",children:[" ",u," problem refererar till denna nod"]})]}),p.jsxs("div",{className:"space-y-1",children:[l&&y&&p.jsx("button",{onClick:()=>C(y),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:v?p.jsxs(p.Fragment,{children:[p.jsx(Vp,{size:16}),"Komprimera"]}):p.jsxs(p.Fragment,{children:[p.jsx(_d,{size:16}),"Expandera"]})}),p.jsxs("button",{onClick:()=>C(d),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[p.jsx(gv,{size:16}),"Redigera ",x(n).toLowerCase()]}),p.jsxs("button",{onClick:()=>C(m),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[p.jsx(tC,{size:16}),"Flytta ",x(n).toLowerCase()]}),E&&p.jsxs("button",{onClick:()=>C(()=>b(E)),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[p.jsx(Ka,{size:16}),"Skapa ",k(E).toLowerCase()]}),p.jsx("div",{className:"border-t border-border pt-1 mt-1",children:p.jsxs("button",{onClick:()=>C(f),className:`w-full px-4 py-2 text-left text-sm flex items-center gap-2 ${u&&u>0?"text-red-600 hover:bg-red-50":"text-red-600 hover:bg-gray-100"}`,children:[p.jsx(Ln,{size:16}),"Ta bort ",x(n).toLowerCase(),u&&u>0&&p.jsxs("span",{className:"text-xs ml-1",children:["( ",u," problem)"]})]})})]})]})]})},$9=({node:e,level:t,isExpanded:r,onToggleExpand:n,onEdit:a,onDelete:i,onMove:l,onCreateChild:u,availableParents:d})=>{const[f,m]=N.useState(!1),[b,y]=N.useState({x:0,y:0}),v=N.useRef(null),x=e.children&&e.children.length>0,w=x||e.type!=="area",k=O=>{O.preventDefault(),O.stopPropagation(),v.current?.getBoundingClientRect()&&(y({x:O.clientX,y:O.clientY}),m(!0))},E=O=>{O.stopPropagation(),w&&n(e.id)},C=()=>e.type==="area"?p.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500"}):x?r?p.jsx(Vp,{size:16}):p.jsx(_d,{size:16}):p.jsx(_d,{size:16}),j=()=>w?r?p.jsx(Ri,{size:16,className:"text-muted"}):p.jsx(Ju,{size:16,className:"text-muted"}):null,F=O=>{switch(O){case"subject":return"text-green-600";case"course":return"text-blue-600";case"chapter":return"text-purple-600";case"area":return"text-orange-600";default:return"text-gray-600"}},D=O=>{switch(O){case"subject":return"mne";case"course":return"Kurs";case"chapter":return"Kapitel";case"area":return"Omrde";default:return"Nod"}};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{ref:v,className:`flex items-center py-2 px-3 hover:bg-gray-50 rounded-md cursor-pointer group ${t>0?"ml-4":""}`,style:{paddingLeft:`${t*20+12}px`},onClick:E,onContextMenu:k,children:[p.jsx("div",{className:"flex items-center justify-center w-4 h-4 mr-2",children:j()}),p.jsx("div",{className:"flex items-center justify-center w-4 h-4 mr-2",children:C()}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`font-medium truncate ${F(e.type)}`,children:e.title}),p.jsxs("span",{className:"text-xs text-muted",children:["(",D(e.type),")"]}),e.problem_count&&e.problem_count>0&&p.jsxs("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:[e.problem_count," problem"]})]}),e.description&&p.jsx("div",{className:"text-xs text-muted truncate",children:e.description})]}),p.jsx("button",{onClick:O=>{O.stopPropagation(),k(O)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-200 rounded",children:p.jsx(gA,{size:16,className:"text-muted"})})]}),r&&x&&p.jsx("div",{className:"ml-4",children:e.children.map(O=>p.jsx($9,{node:O,level:t+1,isExpanded:r,onToggleExpand:n,onEdit:a,onDelete:i,onMove:l,onCreateChild:u,availableParents:d},O.id))}),p.jsx(_U,{isOpen:f,position:b,onClose:()=>m(!1),nodeType:e.type,nodeId:e.id,nodeTitle:e.title,hasChildren:x||!1,problemCount:e.problem_count,onEdit:()=>a(e),onDelete:()=>i(e),onMove:()=>l(e),onCreateChild:O=>u(e,O),onToggleExpand:()=>n(e.id),isExpanded:void 0})]})},wU=()=>{const{hierarchy:e,loading:t,error:r,loadHierarchy:n,createSubject:a,updateSubject:i,deleteSubject:l,createCourse:u,updateCourse:d,deleteCourse:f,createChapter:m,updateChapter:b,deleteChapter:y,createArea:v,updateArea:x,deleteArea:w,moveCourse:k,moveChapter:E,moveArea:C,checkDeleteSubject:j,checkDeleteCourse:F,checkDeleteChapter:D,checkDeleteArea:O}=bU(),[$,B]=N.useState(!1),[Z,G]=N.useState(!1),[L,H]=N.useState(!1),[re,he]=N.useState(!1),[ce,Y]=N.useState(null),[ie,Ee]=N.useState(null),[Be,I]=N.useState(null),[le,ue]=N.useState(null),[ge,xe]=N.useState(null),[Oe,ze]=N.useState(new Set),mt=Re=>{ze(P=>{const W=new Set(P);if(W.has(Re)){const oe=new Set([Re]),Ce=Se=>{Se.forEach(we=>{we.id===Re&&we.children&&we.children.forEach(Ne=>{oe.add(Ne.id),Ne.children&&Ce(Ne.children)})})};e&&Ce(e.hierarchy),oe.forEach(Se=>W.delete(Se))}else W.add(Re);return W})},We=async Re=>{try{await a(Re),B(!1)}catch(P){console.error("Error creating subject:",P)}},$t=async Re=>{if(ie)try{switch(ie.nodeType){case"course":await u(Re);break;case"chapter":await m(Re);break;case"area":await v(Re);break}H(!1),Ee(null)}catch(P){console.error("Error creating node:",P)}},xr=async Re=>{if(ie?.editData)try{const P=ie.editData.id;switch(ie.nodeType){case"subject":await i(P,Re);break;case"course":await d(P,Re);break;case"chapter":await b(P,Re);break;case"area":await x(P,Re);break}H(!1),Ee(null)}catch(P){console.error("Error updating node:",P)}},dn=async(Re,P)=>{if(ge)try{const{node:W}=ge;switch(console.log("HierarchyManagement - handleMoveNodeSubmit called with:",{targetParentType:Re,targetParentId:P,node:W}),W.type){case"course":await k(W.id,P);break;case"chapter":await E(W.id,Re,P);break;case"area":await C(W.id,Re,P);break}await n(),he(!1),xe(null)}catch(W){console.error("Error moving node:",W)}},vr=async Re=>{try{let P;switch(Re.type){case"subject":P=await j(Re.id);break;case"course":P=await F(Re.id);break;case"chapter":P=await D(Re.id);break;case"area":P=await O(Re.id);break;default:return}const W=P.can_delete!==void 0?P.can_delete:P.safe_to_delete,oe=P.problem_count;if(!W){Y({node:Re,problemCount:oe});return}if(confirm(`r du sker p att du vill ta bort ${Re.title}?`))switch(Re.type){case"subject":await l(Re.id);break;case"course":await f(Re.id);break;case"chapter":await y(Re.id);break;case"area":await w(Re.id);break}}catch(P){console.error("Error deleting node:",P)}},tr=async Re=>{if(Re.type==="subject")try{const P=await Ut.getSubjectForEdit(Re.id);I(P),ue(Re.id),G(!0)}catch(P){console.error("Error loading subject data for editing:",P),me("error","Kunde inte ladda mnesdata")}else Ee({nodeType:Re.type,editData:Re}),H(!0)},Ar=Re=>{const P=[],W=we=>{we.forEach(Ne=>{Ne.id!==Re.id&&(P.push({id:Ne.id,title:Ne.title,type:Ne.type}),Ne.children&&W(Ne.children))})};e&&W(e.hierarchy);const Ce=(we=>{switch(we){case"course":return["subject"];case"chapter":return["course"];case"area":return["chapter"];default:return[]}})(Re.type),Se=P.filter(we=>Ce.includes(we.type));xe({node:Re,availableParents:Se}),he(!0)},qn=(Re,P)=>{Ee({nodeType:P,parentId:Re.id,parentType:Re.type}),H(!0)},Xa=()=>{if(!e)return;const Re=new Set,P=W=>{W.forEach(oe=>{Re.add(oe.id),oe.children&&P(oe.children)})};P(e.hierarchy),ze(Re)},or=()=>{ze(new Set)},Cn=Re=>{switch(Re){case"subject":return"mne";case"course":return"Kurs";case"chapter":return"Kapitel";case"area":return"Omrde";default:return"Nod"}};return t?p.jsxs("div",{className:"flex items-center justify-center py-8",children:[p.jsx(Ou,{className:"animate-spin mr-2"}),"Laddar hierarki..."]}):r?p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(zo,{size:16,className:"text-red-600"}),p.jsx("h4",{className:"font-medium text-red-900",children:"Fel vid laddning"})]}),p.jsx("p",{className:"text-sm text-red-700",children:r}),p.jsx("button",{onClick:n,className:"mt-3 px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Frsk igen"})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(zo,{size:16,className:"text-yellow-600"}),p.jsx("h4",{className:"font-medium text-yellow-900",children:"Sker borttagning"})]}),p.jsx("p",{className:"text-sm text-yellow-700",children:"Hierarki-noder kan endast tas bort om inga problem refererar till dem. Du mste frst flytta eller ta bort problem innan du kan ta bort en nod."})]}),ce&&p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(zo,{size:16,className:"text-red-600"}),p.jsxs("h4",{className:"font-medium text-red-900",children:["Kan inte ta bort ",Cn(ce.node.type)]})]}),p.jsxs("p",{className:"text-sm text-red-700 mb-3",children:[ce.problemCount," problem refererar till ",Cn(ce.node.type),' "',ce.node.title,'". Du mste frst hantera dessa problem innan du kan ta bort ',Cn(ce.node.type),"en."]}),p.jsx("div",{className:"flex gap-2",children:p.jsx("button",{onClick:()=>Y(null),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Frst"})})]}),p.jsxs("div",{className:"bg-panel rounded-lg p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Hierarki-hantering"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>B(!0),className:"flex items-center px-4 py-2 rounded-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Ka,{size:16,className:"mr-2"}),"Skapa mne"]}),p.jsxs("button",{onClick:Xa,className:"flex items-center px-4 py-2 border border-border rounded-md hover:bg-gray-50",children:[p.jsx(Ri,{size:16,className:"mr-2"}),"Expandera allt"]}),p.jsxs("button",{onClick:or,className:"flex items-center px-4 py-2 border border-border rounded-md hover:bg-gray-50",children:[p.jsx(eA,{size:16,className:"mr-2"}),"Komprimera allt"]}),p.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 border border-border rounded-md hover:bg-gray-50",children:[p.jsx(Ou,{size:16,className:"mr-2"}),"Uppdatera"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted mb-4",children:[p.jsx(hv,{size:16}),'Hgerklicka p en nod fr att se tgrder. Anvnd "Flytta" fr att ndra hierarki.']})]}),p.jsx("div",{className:"bg-panel rounded-lg",children:p.jsx("div",{className:"p-6",children:!e||e.hierarchy.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted",children:"Inga hierarki-noder skapade n"}),p.jsx("button",{onClick:()=>B(!0),className:"mt-4 px-4 py-2 text-sm rounded-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:"Skapa frsta mnet"})]}):p.jsx("div",{children:e.hierarchy.map(Re=>p.jsx($9,{node:Re,level:0,isExpanded:Oe.has(Re.id),onToggleExpand:mt,onEdit:tr,onDelete:vr,onMove:Ar,onCreateChild:qn,availableParents:[]},Re.id))})})}),p.jsx(gU,{isOpen:$,onClose:()=>B(!1),onSubmit:We}),p.jsx(yU,{isOpen:Z,onClose:()=>G(!1),editData:Be,onSubmit:async Re=>{if(le!==null)try{await i(le,Re),G(!1),I(null),ue(null)}catch(P){console.error("Error updating subject:",P)}}}),p.jsx(xU,{isOpen:L,onClose:()=>{H(!1),Ee(null)},onSubmit:ie?.editData?xr:$t,nodeType:ie?.nodeType||"area",parentId:ie?.parentId,parentType:ie?.parentType,editData:ie?.editData}),p.jsx(vU,{isOpen:re,onClose:()=>{he(!1),xe(null)},onSubmit:dn,nodeType:ge?.node.type||"area",nodeId:ge?.node.id||0,nodeTitle:ge?.node.title||"",availableParents:ge?.availableParents||[],hierarchy:e?.hierarchy||[]})]})},kU=()=>{const{user:e,isAuthenticated:t}=un(),[r,n]=N.useState({openai:"",gemini:""}),[a,i]=N.useState({openai:!1,gemini:!1}),[l,u]=N.useState(!1),[d,f]=N.useState("");if(N.useEffect(()=>()=>{n({openai:"",gemini:""})},[]),!t||!e)return p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(wi,{size:16,className:"text-red-600"}),p.jsx("h4",{className:"font-medium text-red-900",children:"tkomst nekad"})]}),p.jsx("p",{className:"text-sm text-red-700",children:"Du mste vara inloggad fr att hantera AI API-nycklar."})]})});const m=async y=>{if(!r[y].trim()){me("error","API-nyckel kan inte vara tom");return}if(y==="openai"&&!r[y].startsWith("sk-")){me("error",'OpenAI API-nyckel mste brja med "sk-"');return}if(y==="gemini"&&!r[y].startsWith("AIza")){me("error",'Google Gemini API-nyckel mste brja med "AIza"');return}u(!0);try{const v=await fetch(`/v1/ai/api-key?provider=${y}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("jwt_token")}`},body:JSON.stringify({api_key:r[y]})});if(v.ok)me("success",`${y.toUpperCase()} API-nyckel sparad skert`),i(x=>({...x,[y]:!1})),f(`Sparade ${y.toUpperCase()} nyckel`),setTimeout(()=>{n(x=>({...x,[y]:""}))},1e3);else{const x=await v.json().catch(()=>({}));me("error",`Kunde inte spara API-nyckel: ${x.detail||"Oknt fel"}`)}}catch(v){console.error("API key save error:",v),me("error","Fel vid sparande av API-nyckel")}finally{u(!1)}},b=async y=>{u(!0);try{const v=await fetch(`/v1/ai/api-key?provider=${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("jwt_token")}`}});if(v.ok)me("success",`${y.toUpperCase()} API-nyckel raderad`),n(x=>({...x,[y]:""})),f(`Raderade ${y.toUpperCase()} nyckel`);else{const x=await v.json().catch(()=>({}));me("error",`Kunde inte radera API-nyckel: ${x.detail||"Oknt fel"}`)}}catch(v){console.error("API key delete error:",v),me("error","Fel vid radering av API-nyckel")}finally{u(!1)}};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-semibold text-primary mb-3",children:"AI API-nycklar"}),p.jsx("p",{className:"text-secondary mb-4",children:"Konfigurera dina API-nycklar fr AI-generering. Nycklarna krypteras och lagras skert p servern."}),p.jsxs("p",{className:"text-sm text-muted",children:["Hanteras fr: ",p.jsx("span",{className:"font-medium text-primary",children:e.username})," (",e.role,")"]})]}),p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(wi,{size:20,className:"text-red-600"}),p.jsx("h4",{className:"font-semibold text-red-900",children:"Skerhetsvarning"})]}),p.jsx("p",{className:"text-sm text-red-700",children:"API-nycklar r extremt knsliga. De krypteras och lagras skert p servern, men var frsiktig nr du hanterar dem. Dela aldrig dina API-nycklar med andra."})]}),p.jsxs("div",{className:"bg-panel p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Vm,{size:24,className:"text-accent-primary"}),p.jsx("h3",{className:"text-lg font-semibold text-primary",children:"OpenAI API-nyckel"})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("button",{onClick:()=>i(y=>({...y,openai:!y.openai})),className:"p-2 text-muted hover:text-secondary transition-colors rounded-lg hover:bg-secondary",title:a.openai?"Dlj nyckel":"Visa nyckel",children:a.openai?p.jsx(Bo,{size:18}):p.jsx(Po,{size:18})})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("input",{type:a.openai?"text":"password",value:r.openai,onChange:y=>n(v=>({...v,openai:y.target.value})),placeholder:"sk-...",className:"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",autoComplete:"off",spellCheck:"false"}),p.jsx("p",{className:"text-xs text-muted mt-2",children:'Nyckeln mste brja med "sk-"'})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:()=>m("openai"),disabled:l||!r.openai.trim(),className:"flex items-center gap-2 px-6 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Io,{size:18}),"Spara skert"]}),p.jsxs("button",{onClick:()=>b("openai"),disabled:l,className:"flex items-center gap-2 px-6 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md",style:{backgroundColor:"#dc2626",color:"white",border:"none"},children:[p.jsx(Ln,{size:18}),"Radera"]})]})]})]}),p.jsxs("div",{className:"bg-panel p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Vm,{size:24,className:"text-accent-primary"}),p.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Google Gemini API-nyckel"})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("button",{onClick:()=>i(y=>({...y,gemini:!y.gemini})),className:"p-2 text-muted hover:text-secondary transition-colors rounded-lg hover:bg-secondary",title:a.gemini?"Dlj nyckel":"Visa nyckel",children:a.gemini?p.jsx(Bo,{size:18}):p.jsx(Po,{size:18})})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("input",{type:a.gemini?"text":"password",value:r.gemini,onChange:y=>n(v=>({...v,gemini:y.target.value})),placeholder:"AIza...",className:"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent bg-panel text-primary",autoComplete:"off",spellCheck:"false"}),p.jsx("p",{className:"text-xs text-muted mt-2",children:'Nyckeln mste brja med "AIza"'})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:()=>m("gemini"),disabled:l||!r.gemini.trim(),className:"flex items-center gap-2 px-6 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",border:"none"},children:[p.jsx(Io,{size:18}),"Spara skert"]}),p.jsxs("button",{onClick:()=>b("gemini"),disabled:l,className:"flex items-center gap-2 px-6 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-md",style:{backgroundColor:"#dc2626",color:"white",border:"none"},children:[p.jsx(Ln,{size:18}),"Radera"]})]})]})]}),p.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(wi,{size:20,className:"text-blue-600"}),p.jsx("h4",{className:"font-semibold text-blue-900",children:"Skerhet"})]}),p.jsxs("ul",{className:"text-sm text-blue-700 space-y-2",children:[p.jsx("li",{children:" API-nycklarna krypteras med AES-256 innan lagring"}),p.jsx("li",{children:" Nycklarna lagras endast p servern, aldrig i webblsaren"}),p.jsx("li",{children:" Alla API-anrop loggas fr skerhet"}),p.jsx("li",{children:" Nycklarna rensas automatiskt frn memory efter sparande"})]})]}),d&&p.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(zo,{size:20,className:"text-green-600"}),p.jsxs("span",{className:"text-sm text-green-700",children:["Senaste aktivitet: ",d]})]})})]})},SU=()=>{const{user:e,isAuthenticated:t}=un(),[r,n]=N.useState([]),[a,i]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState(!1),[m,b]=N.useState(!1),[y,v]=N.useState(!1);if(N.useEffect(()=>{t&&e&&e.role==="admin"&&x()},[t,e]),!t||!e||e.role!=="admin")return p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(wi,{size:16,className:"text-red-600"}),p.jsx("h4",{className:"font-medium text-red-900",children:"tkomst nekad"})]}),p.jsx("p",{className:"text-sm text-red-700",children:"Endast administratrer kan hantera anvndare."})]})});const x=async()=>{i(!0);try{const O=await T0.listUsersV1UsersGet();n(O)}catch(O){console.error("Error loading users:",O),me("error","Fel vid laddning av anvndare")}finally{i(!1)}},w=async O=>{try{const $=await T0.promoteUserV1UsersUserIdPromotePost(O,{role:qm.TRUSTED});me("success",$.message),await x(),f(!1),u(null)}catch($){console.error("Error promoting user:",$),me("error","Kunde inte promovera anvndare")}},k=async O=>{try{const $=await T0.demoteUserV1UsersUserIdDemotePost(O,{role:qm.USER});me("success",$.message),await x(),b(!1),u(null)}catch($){console.error("Error demoting user:",$),me("error","Kunde inte degradera anvndare")}},E=async(O,$)=>{try{const B=await T0.toggleUserActiveV1UsersUserIdToggleActivePost(O,{is_active:$});me("success",B.message),await x(),v(!1),u(null)}catch(B){console.error("Error toggling user active:",B),me("error","Kunde inte ndra anvndarens aktiva status")}},C=O=>{switch(O){case"admin":return p.jsx(wi,{size:16,className:"text-red-600"});case"trusted":return p.jsx(bv,{size:16,className:"text-blue-600"});case"user":return p.jsx(Zm,{size:16,className:"text-gray-600"});default:return p.jsx(Zm,{size:16,className:"text-gray-600"})}},j=O=>{switch(O){case"admin":return"Administratr";case"trusted":return"Betrodd";case"user":return"Anvndare";default:return O}},F=O=>O?p.jsx(CC,{size:16,className:"text-green-600"}):p.jsx(NC,{size:16,className:"text-red-600"}),D=O=>new Date(O).toLocaleDateString("sv-SE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-semibold text-primary mb-3",children:"Anvndarhantering"}),p.jsx("p",{className:"text-secondary mb-4",children:"Hantera anvndares roller och aktiva status. Endast administratrer kan utfra dessa tgrder."}),p.jsxs("p",{className:"text-sm text-muted",children:["Hanteras av: ",p.jsx("span",{className:"font-medium text-primary",children:e.username})," (admin)"]})]}),p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(zo,{size:20,className:"text-yellow-600"}),p.jsx("h4",{className:"font-semibold text-yellow-900",children:"Skerhetsvarning"})]}),p.jsx("p",{className:"text-sm text-yellow-700",children:"Var frsiktig nr du ndrar anvndares roller och status. Inaktiverade anvndare kan inte logga in p systemet."})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ec,{size:20,className:"text-primary"}),p.jsxs("span",{className:"text-sm text-muted",children:[r.length," anvndare totalt"]})]}),p.jsxs("button",{onClick:x,disabled:a,className:"flex items-center gap-2 px-4 py-2 border border-border rounded-md hover:bg-gray-50 disabled:opacity-50",children:[p.jsx(Ou,{size:16,className:a?"animate-spin":""}),"Uppdatera"]})]}),p.jsx("div",{className:"bg-panel rounded-lg overflow-hidden",children:a?p.jsxs("div",{className:"flex items-center justify-center py-8",children:[p.jsx(Ou,{className:"animate-spin mr-2"}),"Laddar anvndare..."]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-border",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Anvndare"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Roll"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"Skapad"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted uppercase tracking-wider",children:"tgrder"})]})}),p.jsx("tbody",{className:"divide-y divide-border",children:r.map(O=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-primary",children:O.username}),O.email&&p.jsx("div",{className:"text-sm text-muted",children:O.email}),O.full_name&&p.jsx("div",{className:"text-sm text-muted",children:O.full_name})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[C(O.role),p.jsx("span",{className:"text-sm",children:j(O.role)})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[F(O.is_active),p.jsx("span",{className:`text-sm ${O.is_active?"text-green-600":"text-red-600"}`,children:O.is_active?"Aktiv":"Inaktiv"})]})}),p.jsx("td",{className:"px-6 py-4 text-sm text-muted",children:D(O.created_at)}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex gap-2",children:[O.role==="user"&&p.jsx("button",{onClick:()=>{u(O),f(!0)},className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Promovera till Betrodd"}),O.role==="trusted"&&p.jsx("button",{onClick:()=>{u(O),b(!0)},className:"px-3 py-1 text-xs bg-orange-600 text-white rounded hover:bg-orange-700",children:"Degradera till Anvndare"}),O.core_user_id!==e.core_user_id&&p.jsx("button",{onClick:()=>{u(O),v(!0)},className:`px-3 py-1 text-xs rounded ${O.is_active?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:O.is_active?"Inaktivera":"Aktivera"})]})})]},O.core_user_id))})]})})}),d&&l&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-panel rounded-lg p-6 w-full max-w-md",children:[p.jsxs("h3",{className:"text-lg font-semibold text-primary mb-4",children:["Promovera ",l.username]}),p.jsx("p",{className:"text-sm text-muted mb-6",children:"Denna anvndare kommer att f betrodd status och kan hantera invite tokens och snippets."}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx("button",{onClick:()=>{f(!1),u(null)},className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-gray-100",children:"Avbryt"}),p.jsx("button",{onClick:()=>w(l.core_user_id),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Promovera till Betrodd"})]})]})}),m&&l&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-panel rounded-lg p-6 w-full max-w-md",children:[p.jsxs("h3",{className:"text-lg font-semibold text-primary mb-4",children:["Degradera ",l.username]}),p.jsx("p",{className:"text-sm text-muted mb-6",children:"Denna anvndare kommer att f grundlggande anvndarstatus."}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx("button",{onClick:()=>{b(!1),u(null)},className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-gray-100",children:"Avbryt"}),p.jsx("button",{onClick:()=>k(l.core_user_id),className:"px-4 py-2 text-sm bg-orange-600 text-white rounded-md hover:bg-orange-700",children:"Degradera till Anvndare"})]})]})}),y&&l&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-panel rounded-lg p-6 w-full max-w-md",children:[p.jsxs("h3",{className:"text-lg font-semibold text-primary mb-4",children:[l.is_active?"Inaktivera":"Aktivera"," ",l.username]}),p.jsx("p",{className:"text-sm text-muted mb-6",children:l.is_active?"Inaktiverade anvndare kan inte logga in p systemet.":"Aktiverade anvndare kan logga in och anvnda systemet."}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx("button",{onClick:()=>{v(!1),u(null)},className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-gray-100",children:"Avbryt"}),p.jsx("button",{onClick:()=>E(l.core_user_id,!l.is_active),className:`px-4 py-2 text-sm rounded-md ${l.is_active?"bg-red-600 text-white hover:bg-red-700":"bg-green-600 text-white hover:bg-green-700"}`,children:l.is_active?"Inaktivera":"Aktivera"})]})]})})]})};class Ai{static getAuthToken(){return zn.getSecureToken()}static async getFlagPermissions(){const t=await fetch(`${ve.BASE}/v1/flag-permissions/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ai.getAuthToken()}`}});if(!t.ok)throw new Error(`Failed to fetch flag permissions: ${t.statusText}`);return t.json()}static async getRoleHierarchy(){const t=await fetch(`${ve.BASE}/v1/flag-permissions/role-hierarchy`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to fetch role hierarchy: ${t.statusText}`);return t.json()}static async updateFlagPermission(t,r){const n=await fetch(`${ve.BASE}/v1/flag-permissions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ai.getAuthToken()}`},body:JSON.stringify(r)});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(a.detail||`Failed to update flag permission: ${n.statusText}`)}return n.json()}static async getAvailableFlags(){const t=await fetch(`${ve.BASE}/v1/flag-permissions/available-flags`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ai.getAuthToken()}`}});if(!t.ok)throw new Error(`Failed to fetch available flags: ${t.statusText}`);return t.json()}}const z5={is_np:"NP",is_s:"SEC",is_r:"REP",is_fake:"AI",is_elev:"ELEV",is_whole:"HEL",is_digital:"DIG",request_publish:"REQ"},Om={guest:"Guest",user:"User",trusted:"Trusted",admin:"Admin"},EU=()=>{if(!N.useContext($p))return null;const[t,r]=N.useState({}),[n,a]=N.useState({}),[i,l]=N.useState(!0),[u,d]=N.useState(!1),[f,m]=N.useState(null);N.useEffect(()=>{b()},[]);const b=async()=>{try{l(!0),m(null);const[x,w]=await Promise.all([Ai.getFlagPermissions(),Ai.getRoleHierarchy()]);r(x),a(w),console.log("Role hierarchy loaded:",w)}catch(x){console.error("Error loading flag permissions:",x),m(x instanceof Error?x.message:"Kunde inte ladda flaggbehrigheter")}finally{l(!1)}},y=async(x,w)=>{try{d(!0),m(null),await Ai.updateFlagPermission(x,{min_role:w}),r(k=>({...k,[x]:w})),me("success",`Behrighet fr ${z5[x]} uppdaterad till ${Om[w]}`)}catch(k){console.error("Error updating flag permission:",k),m(k instanceof Error?k.message:"Kunde inte uppdatera behrighet"),me("error","Kunde inte uppdatera behrighet")}finally{d(!1)}},v=x=>{switch(x){case"admin":return p.jsx(wi,{size:16,className:"text-red-600"});case"trusted":return p.jsx(bv,{size:16,className:"text-blue-600"});case"user":return p.jsx(Zm,{size:16,className:"text-gray-600"});case"guest":return p.jsx($o,{size:16,className:"text-gray-400"});default:return p.jsx($o,{size:16,className:"text-gray-400"})}};return i?p.jsx("div",{className:"flex items-center justify-center p-8",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),p.jsx("p",{style:{color:"var(--text-secondary)"},children:"Laddar flaggbehrigheter..."})]})}):f?p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 rounded-lg",style:{backgroundColor:"var(--bg-error)",color:"var(--text-error)"},children:[p.jsx(vd,{size:20}),p.jsx("span",{className:"font-medium",children:"Fel vid laddning"})]}),p.jsx("p",{style:{color:"var(--text-secondary)"},className:"mb-4",children:f}),p.jsx("button",{onClick:b,className:"px-4 py-2 rounded border",style:{backgroundColor:"var(--accent-primary)",color:"var(--button-text)",borderColor:"var(--accent-primary)"},children:"Frsk igen"})]}):p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Flaggbehrigheter"}),p.jsx("p",{style:{color:"var(--text-secondary)"},children:"Konfigurera vilka roller som kan anvnda olika problem-flaggor. Endast admin kan ndra dessa instllningar."})]}),u&&p.jsxs("div",{className:"mb-4 p-3 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--bg-info)",color:"var(--text-info)"},children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),p.jsx("span",{children:"Sparar ndringar..."})]}),p.jsx("div",{className:"space-y-4",children:Object.keys(n).length>0&&Object.entries(t).map(([x,w])=>p.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-panel)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Up,{size:20,style:{color:"var(--text-secondary)"}}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:z5[x]}),p.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:x})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[v(w),p.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:Om[w]})]}),p.jsx("select",{value:w,onChange:k=>y(x,k.target.value),disabled:u,className:"px-3 py-1 rounded border text-sm",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderStyle:"solid",borderWidth:"1px"},children:Object.entries(Om).map(([k,E])=>p.jsx("option",{value:k,children:E},k))})]})]})},x))}),p.jsx("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--bg-info)",color:"var(--text-info)"},children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(vd,{size:16,className:"mt-0.5"}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"font-medium mb-1",children:"Viktigt:"}),p.jsxs("ul",{className:"space-y-1",children:[p.jsx("li",{children:" Anvndare med lgre roll n instlld fr inte anvnda flaggan"}),p.jsx("li",{children:" ndringar pverkar problem-filtrering omedelbart"}),p.jsx("li",{children:" NP-flaggan kan begrnsas fr juridiska skl"})]})]})]})})]})},AU=()=>{const{user:e}=un(),[t,r]=N.useState("profile"),n=[{id:"profile",title:"Profil",icon:p.jsx($o,{size:20})},{id:"invite",title:"Invite",icon:p.jsx(ec,{size:20}),requiredRole:"trusted"},{id:"snippets",title:"Snippets",icon:p.jsx(dv,{size:20})},{id:"ai-keys",title:"AI API-nycklar",icon:p.jsx(Vm,{size:20})},{id:"hierarchy",title:"Hierarki",icon:p.jsx(IA,{size:20}),requiredRole:"admin"},{id:"users",title:"Anvndarhantering",icon:p.jsx(wi,{size:20}),requiredRole:"admin"},{id:"flag-permissions",title:"Flaggbehrigheter",icon:p.jsx(Up,{size:20}),requiredRole:"admin"}],a=v=>v.requiredRole?e?v.requiredRole==="admin"?e.role==="admin":v.requiredRole==="trusted"?e.role==="admin"||e.role==="trusted":!1:!1:!0,i=()=>p.jsx(cU,{}),l=()=>p.jsx(uU,{}),u=()=>p.jsx(dU,{}),d=()=>p.jsx(wU,{}),f=()=>p.jsx(kU,{}),m=()=>p.jsx(SU,{}),b=()=>p.jsx(EU,{}),y=()=>{switch(t){case"profile":return i();case"invite":return l();case"snippets":return u();case"ai-keys":return f();case"hierarchy":return d();case"users":return m();case"flag-permissions":return b();default:return i()}};return p.jsx("div",{className:"max-w-7xl mx-auto",style:{background:"var(--bg-panel)"},children:p.jsxs("div",{className:"flex gap-8",children:[p.jsx("div",{className:"w-72 flex-shrink-0",children:p.jsxs("div",{className:"bg-panel rounded-xl shadow-sm border border-border p-6",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4 pb-1",children:[p.jsx(pv,{size:24,className:"text-accent-primary"}),p.jsx("h1",{className:"text-xl font-semibold text-primary",children:"Instllningar"})]}),p.jsx("nav",{className:"space-y-2",children:n.map(v=>a(v)?p.jsxs("button",{onClick:()=>r(v.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg transition-all duration-200 ${t===v.id?"bg-accent-primary/10 text-accent-primary border-r-2 border-accent-primary shadow-sm":"text-secondary hover:bg-accent-primary/5 hover:text-accent-primary hover:shadow-sm"}`,children:[v.icon,p.jsx("span",{className:"flex-1 font-medium",children:v.title}),p.jsx(Ju,{size:18,className:"opacity-60"})]},v.id):null)})]})}),p.jsx("div",{className:"flex-1",children:p.jsx("div",{className:"bg-panel rounded-xl shadow-sm border border-border p-8",children:y()})})]})})};function CU(){const{isAuthenticated:e}=un(),t=In();function r({children:n}){return e?p.jsx(p.Fragment,{children:n}):p.jsx(zS,{to:"/login",state:{from:t},replace:!0})}return p.jsxs("div",{className:"min-h-screen grid grid-rows-[auto_1fr] layout-container",children:[p.jsx("div",{className:"sticky top-0 z-30",children:p.jsx(RC,{})}),p.jsxs(RS,{children:[p.jsx(fi,{path:"/",element:p.jsx("main",{className:"overflow-y-auto h-[calc(100vh-56px)] p-6 md:p-12 main-content bg-panel",children:p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4 text-primary",children:"Hello world!"}),p.jsx("p",{className:"text-secondary",children:"Vlkommen till Judgement Day"})]})})})}),p.jsx(fi,{path:"/docs",element:p.jsx("main",{className:"overflow-y-auto h-[calc(100vh-56px)] p-6 md:p-12 main-content bg-panel",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4 text-primary",children:"Dokumentation"}),p.jsx("p",{className:"text-secondary",children:"Placeholder fr dokumentation"})]})})}),p.jsx(fi,{path:"/problems",element:p.jsx(r,{children:p.jsx(oU,{})})}),p.jsx(fi,{path:"/login",element:p.jsx("main",{className:"overflow-y-auto h-[calc(100vh-56px)] p-6 md:p-12 main-content bg-panel",children:p.jsx(FC,{})})}),p.jsx(fi,{path:"/signup",element:p.jsx("main",{className:"overflow-y-auto h-[calc(100vh-56px)] p-6 md:p-12 main-content bg-panel",children:p.jsx(lU,{})})}),p.jsx(fi,{path:"/settings",element:p.jsx(r,{children:p.jsx("main",{className:"overflow-y-auto h-[calc(100vh-56px)] p-6 md:p-12 main-content bg-panel",children:p.jsx(AU,{})})})})]})]})}const H9=({children:e})=>{const[t,r]=N.useState(()=>{{const w=zn.getSecureToken();if(w)return ve.TOKEN=w,w}return null}),[n,a]=N.useState(null),[i,l]=N.useState("guest"),[u,d]=N.useState(!!t),[f,m]=N.useState(null);N.useEffect(()=>{let w=null;if(t)try{const E=JSON.parse(atob(t.split(".")[1]));E&&E.exp&&(w=E.exp*1e3)}catch{}m(w);async function k(){if(!t){a(null),l("guest"),d(!1);return}try{const E=await od.getCurrentUserInfoAuthMeGet();a({core_user_id:E.core_user_id,username:E.username,email:E.email??null,full_name:E.full_name??void 0,role:E.role,is_active:E.is_active}),l(E.role),d(!0)}catch{a(null),l("guest"),d(!1),r(null),zn.removeSecureToken()}}k()},[t]);const b=N.useCallback(async(w,k)=>{const E=await od.loginAuthLoginPost({username:w,password:k});r(E.access_token),ve.TOKEN=E.access_token,zn.setSecureToken(E.access_token);try{const C=JSON.parse(atob(E.access_token.split(".")[1]));C&&C.exp&&m(C.exp*1e3)}catch{}},[]),y=N.useCallback(()=>{r(null),a(null),l("guest"),d(!1),ve.TOKEN=void 0,zn.removeSecureToken()},[]),v=N.useCallback(async()=>{try{console.log("Attempting to renew token...");const w=await od.refreshTokenAuthRefreshPost();console.log("Token renewal successful"),r(w.access_token),ve.TOKEN=w.access_token,zn.setSecureToken(w.access_token);try{const k=JSON.parse(atob(w.access_token.split(".")[1]));k?.exp&&m(k.exp*1e3)}catch{}d(!0)}catch(w){console.error("Token renewal failed:",w),y()}},[y]),x={isAuthenticated:u,user:n,role:i,token:t,expiresAt:f,login:b,logout:y,renewToken:v};return p.jsx($p.Provider,{value:x,children:e})};function TU({type:e,title:t,message:r,duration:n=5e3,onClose:a}){const[i,l]=N.useState(!1);N.useEffect(()=>{const f=setTimeout(()=>l(!0),100);if(n>0){const m=setTimeout(()=>{l(!1),setTimeout(()=>a?.(),300)},n);return()=>{clearTimeout(f),clearTimeout(m)}}return()=>clearTimeout(f)},[n,a]);const u=()=>{switch(e){case"success":return p.jsx(nA,{size:20,className:"text-green-500"});case"error":return p.jsx(vd,{size:20,className:"text-red-500"});case"warning":return p.jsx(vd,{size:20,className:"text-yellow-500"});case"info":return p.jsx(hv,{size:20,className:"text-blue-500"})}},d=()=>{switch(e){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200"}};return p.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border shadow-lg transition-all duration-300 ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"} ${d()}`,children:[u(),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"text-sm font-medium text-gray-900",children:t}),r&&p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r})]}),p.jsx("button",{onClick:()=>{l(!1),setTimeout(()=>a?.(),300)},className:"flex-shrink-0 p-1 rounded-md hover:bg-gray-100 transition-colors",children:p.jsx(ca,{size:16,className:"text-gray-400"})})]})}function NU({notifications:e,onRemove:t}){return p.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:e.map((r,n)=>p.jsx(TU,{...r,onClose:()=>t(n)},n))})}function DU(){const{notifications:e,removeNotification:t}=U$();return zu.createPortal(p.jsx(NU,{notifications:e,onRemove:t}),document.body)}const MU=({onAccept:e,onDecline:t})=>{const[r,n]=N.useState(!1);N.useEffect(()=>{localStorage.getItem("cookie_consent")||n(!0)},[]);const a=()=>{localStorage.setItem("cookie_consent","accepted"),n(!1),e()},i=()=>{localStorage.setItem("cookie_consent","declined"),n(!1),t()};return r?p.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 p-4",children:p.jsxs("div",{className:"max-w-screen-2xl mx-auto flex items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(cA,{size:20,className:"text-accent-primary"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Vi anvnder cookies fr att frbttra din upplevelse"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Vi anvnder cookies fr autentisering och skerhet. Genom att fortstta godknner du vr anvndning av cookies."})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:i,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Avbj"}),p.jsx("button",{onClick:a,className:"px-4 py-2 text-sm bg-accent-primary text-white rounded-md hover:bg-accent-primary/90 transition-colors",children:"Acceptera"}),p.jsx("button",{onClick:()=>n(!1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:p.jsx(ca,{size:16})})]})]})}):null},jU=new Ck({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});function zU(){const e=()=>{},t=()=>{};return p.jsx(jk,{client:jU,children:p.jsx(iE,{children:p.jsxs(H9,{children:[p.jsx(CU,{}),p.jsx(DU,{}),p.jsx(MU,{onAccept:e,onDecline:t})]})})})}ck.createRoot(document.getElementById("root")).render(p.jsx(Pt.StrictMode,{children:p.jsx(H9,{children:p.jsx(zU,{})})}));
//# sourceMappingURL=index-CKxa157C.js.map
